<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">CasperCBC.VLSM.Composition</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#"><span class="id" title="library">Streams</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Nat.html#"><span class="id" title="library">Nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">Logic.FunctionalExtensionality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">Coq.Logic.FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.Eqdep.html#"><span class="id" title="library">Coq.Logic.Eqdep</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CasperCBC.Lib.StreamExtras.html#"><span class="id" title="library">Lib.StreamExtras</span></a> <a class="idref" href="CasperCBC.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#"><span class="id" title="library">VLSM.Common</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Section&nbsp;2.4&nbsp;VLSM&nbsp;composition&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="indexing"><span class="id" title="section">indexing</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="indexing.indexed_type"><span class="id" title="section">indexed_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">message</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">index</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IndEqDec</span> : <a class="idref" href="CasperCBC.Lib.Preamble.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">IT</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_state"><span class="id" title="definition">_indexed_state</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>, (@<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_label"><span class="id" title="definition">_indexed_label</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#sigT"><span class="id" title="inductive">sigT</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; @<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_type"><span class="id" title="definition">indexed_type</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_type"><span class="id" title="constructor">state</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_type"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_type"><span class="id" title="constructor">_indexed_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_type"><span class="id" title="constructor">;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_type"><span class="id" title="constructor">label</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_type"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_type"><span class="id" title="constructor">_indexed_label</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_state"><span class="id" title="definition">indexed_state</span></a> := @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_type"><span class="id" title="definition">indexed_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_label"><span class="id" title="definition">indexed_label</span></a> := @<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_type"><span class="id" title="definition">indexed_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="state_update"><span class="id" title="definition">state_update</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">si</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="state_update_neq"><span class="id" title="lemma">state_update_neq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">si</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hneq</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <span class="id" title="var">j</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="state_update_eq"><span class="id" title="lemma">state_update_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">si</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec_refl"><span class="id" title="lemma">eq_dec_refl</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="state_update_id"><span class="id" title="lemma">state_update_id</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">si</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Heq</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep_good"><span class="id" title="definition">functional_extensionality_dep_good</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <span class="id" title="var">j</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="state_update_twice"><span class="id" title="lemma">state_update_twice</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">si</span> <span class="id" title="var">si'</span>: @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si'"><span class="id" title="variable">si'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si'"><span class="id" title="variable">si'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep_good"><span class="id" title="definition">functional_extensionality_dep_good</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <span class="id" title="var">j</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_type"><span class="id" title="section">indexed_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="indexing.indexed_sig"><span class="id" title="section">indexed_sig</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">message</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">index</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IndEqDec</span> : <a class="idref" href="CasperCBC.Lib.Preamble.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IT</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i0</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">IS</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_initial_state_prop"><span class="id" title="definition">_indexed_initial_state_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.index"><span class="id" title="variable">index</span></a>, @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_initial_state"><span class="id" title="definition">_indexed_initial_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#_indexed_initial_state_prop"><span class="id" title="definition">_indexed_initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_s0"><span class="id" title="definition">_indexed_s0</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#_indexed_initial_state"><span class="id" title="definition">_indexed_initial_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.index"><span class="id" title="variable">index</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="CasperCBC.VLSM.Common.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_initial_message_prop"><span class="id" title="definition">_indexed_initial_message_prop</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.index"><span class="id" title="variable">index</span></a>) (<span class="id" title="var">mi</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_message"><span class="id" title="method">initial_message</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#mi"><span class="id" title="variable">mi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#m"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;An&nbsp;explicit&nbsp;argument&nbsp;for&nbsp;the&nbsp;initial&nbsp;state&nbsp;witness&nbsp;is&nbsp;no&nbsp;longer&nbsp;required:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_m0"><span class="id" title="definition">_indexed_m0</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.message"><span class="id" title="variable">message</span></a> := @<a class="idref" href="CasperCBC.VLSM.Common.html#m0"><span class="id" title="method">m0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.i0"><span class="id" title="variable">i0</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_l0"><span class="id" title="definition">_indexed_l0</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IT"><span class="id" title="variable">IT</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.i0"><span class="id" title="variable">i0</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#l0"><span class="id" title="method">l0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.i0"><span class="id" title="variable">i0</span></a>)) .<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_sig"><span class="id" title="definition">indexed_sig</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_type"><span class="id" title="definition">indexed_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|   <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_indexed_initial_state_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">s0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_indexed_s0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">initial_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_indexed_initial_message_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">m0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_indexed_m0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">l0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_indexed_l0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_sig"><span class="id" title="section">indexed_sig</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="indexing.indexed_vlsm"><span class="id" title="section">indexed_vlsm</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">message</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">index</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IndEqDec</span> : <a class="idref" href="CasperCBC.Lib.Preamble.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IT</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i0</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IS</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">IM</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_transition"><span class="id" title="definition">_indexed_transition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>) := <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#li"><span class="id" title="variable">li</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si'"><span class="id" title="variable">si'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a>  <a class="idref" href="CasperCBC.VLSM.Composition.html#om'"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_valid"><span class="id" title="definition">_indexed_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#li"><span class="id" title="variable">li</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Section&nbsp;2.4.3&nbsp;Constrained&nbsp;VLSM&nbsp;composition&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_valid_constrained"><span class="id" title="definition">_indexed_valid_constrained</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#_indexed_valid"><span class="id" title="definition">_indexed_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_sig"><span class="id" title="definition">indexed_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IS"><span class="id" title="variable">IS</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|  <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">transition</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">_indexed_transition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">;</span></a>   <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">valid</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">_indexed_valid_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">constraint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="indexing.indexed_vlsm.constraint_subsumption"><span class="id" title="section">constraint_subsumption</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="constraint_subsumption"><span class="id" title="definition">constraint_subsumption</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint1</span> <span class="id" title="var">constraint2</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a>) (<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#constraint1"><span class="id" title="variable">constraint1</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint2"><span class="id" title="variable">constraint2</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint1</span> <span class="id" title="var">constraint2</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hsubsumption</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_subsumption"><span class="id" title="definition">constraint_subsumption</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint1"><span class="id" title="variable">constraint1</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint2"><span class="id" title="variable">constraint2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X1</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint1"><span class="id" title="variable">constraint1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X2</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint2"><span class="id" title="variable">constraint2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_sig"><span class="id" title="definition">indexed_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IS"><span class="id" title="variable">IS</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">T</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_type"><span class="id" title="definition">indexed_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="constraint_subsumption_protocol_valid"><span class="id" title="lemma">constraint_subsumption_protocol_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">om</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hv</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X1"><span class="id" title="variable">X1</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: @<a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X2"><span class="id" title="variable">X2</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hps</span> [<span class="id" title="var">Hopm</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hctr</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.Hsubsumption"><span class="id" title="variable">Hsubsumption</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="constraint_subsumption_protocol_prop"><span class="id" title="lemma">constraint_subsumption_protocol_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">om</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hps</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X1"><span class="id" title="variable">X1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X2"><span class="id" title="variable">X2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X2"><span class="id" title="variable">X2</span></a> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_message"><span class="id" title="constructor">protocol_initial_message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X2"><span class="id" title="variable">X2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_generated"><span class="id" title="constructor">protocol_generated</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X2"><span class="id" title="variable">X2</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">_om</span> <span class="id" title="var">_s</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_subsumption_protocol_valid"><span class="id" title="lemma">constraint_subsumption_protocol_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_generated_valid"><span class="id" title="lemma">protocol_generated_valid</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">_om</span> <span class="id" title="var">_s</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl"><span class="id" title="definition">VLSM_incl</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X1"><span class="id" title="variable">X1</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X2"><span class="id" title="variable">X2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X1"><span class="id" title="variable">X1</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption.X2"><span class="id" title="variable">X2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">assumption</span> || <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [[<span class="id" title="var">_s</span> <span class="id" title="var">Hom</span>] <span class="id" title="var">_</span>]]. <span class="id" title="tactic">exists</span> <span class="id" title="var">_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_subsumption_protocol_prop"><span class="id" title="lemma">constraint_subsumption_protocol_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_subsumption_protocol_valid"><span class="id" title="lemma">constraint_subsumption_protocol_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.constraint_subsumption"><span class="id" title="section">constraint_subsumption</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_transition"><span class="id" title="definition">indexed_transition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= @<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_valid"><span class="id" title="definition">indexed_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= @<a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Section&nbsp;2.4.3&nbsp;Free&nbsp;VLSM&nbsp;composition&nbsp;using&nbsp;constraint&nbsp;=&nbsp;True&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="free_constraint"><span class="id" title="definition">free_constraint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_sig"><span class="id" title="definition">indexed_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IS"><span class="id" title="variable">IS</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="protocol_prop_indexed_free_lift"><span class="id" title="lemma">protocol_prop_indexed_free_lift</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> := (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_sig"><span class="id" title="definition">indexed_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IS"><span class="id" title="variable">IS</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sj</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">om</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hp</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#sj"><span class="id" title="variable">sj</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s0X</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#S"><span class="id" title="variable">S</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s0X"><span class="id" title="variable">s0X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#sj"><span class="id" title="variable">sj</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sj</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">sjom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">om</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqsjom</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqsjom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinit</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">s0X</span> <span class="id" title="var">j</span> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="CasperCBC.VLSM.Common.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s00</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s0X</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">s0X</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S</span>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">s0X</span> <span class="id" title="var">j</span> <span class="id" title="var">s</span>) <span class="id" title="var">Hinit</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">six</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">s0X</span> <span class="id" title="var">j</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">six</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinit</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_message_prop"><span class="id" title="method">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">im</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">im</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">s0X</span> <span class="id" title="var">j</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">s0X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_id"><span class="id" title="lemma">state_update_id</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <span class="id" title="var">om</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> <span class="id" title="var">_H</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">_H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#initial_message_prop"><span class="id" title="method">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S</span>) <span class="id" title="var">m</span> <span class="id" title="var">Hinit</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">m</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">im</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_message"><span class="id" title="constructor">protocol_initial_message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp1</span> <span class="id" title="var">s</span> <span class="id" title="var">_om</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp2</span> <span class="id" title="var">_s</span> <span class="id" title="var">om</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">s0X</span> <span class="id" title="var">j</span> <span class="id" title="var">sj</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">j</span> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">s0X</span> <span class="id" title="var">j</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_generated"><span class="id" title="constructor">protocol_generated</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">_om</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">s0X</span> <span class="id" title="var">j</span> <span class="id" title="var">_s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm"><span class="id" title="section">indexed_vlsm</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="indexing.indexed_vlsm_decidable"><span class="id" title="section">indexed_vlsm_decidable</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">message</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">index</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IndEqDec</span> : <a class="idref" href="CasperCBC.Lib.Preamble.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IT</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i0</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IS</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IM</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">IDM</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_vdecidable"><span class="id" title="class">VLSM_vdecidable</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Composing&nbsp;decidable&nbsp;VLSMs&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_valid_decidable"><span class="id" title="definition">_indexed_valid_decidable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#_indexed_valid"><span class="id" title="definition">_indexed_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#_indexed_valid"><span class="id" title="definition">_indexed_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">som</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">om</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#valid_decidable"><span class="id" title="method">valid_decidable</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="_indexed_valid_constrained_decidable"><span class="id" title="definition">_indexed_valid_constrained_decidable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">constraint</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint_decidable</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a>) (<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a>)), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_valid"><span class="id" title="definition">indexed_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_valid"><span class="id" title="definition">indexed_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">constraint_decidable</span> <span class="id" title="var">l</span> <span class="id" title="var">som</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> | <span class="id" title="var">Hnc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#_indexed_valid_decidable"><span class="id" title="definition">_indexed_valid_decidable</span></a> <span class="id" title="var">l</span> <span class="id" title="var">som</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv</span> | <span class="id" title="var">Hnv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">_</span>]. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hc</span>]. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_constrained_vdecidable"><span class="id" title="definition">indexed_vlsm_constrained_vdecidable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">constraint</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint_decidable</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a>) (<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a>)), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_vdecidable"><span class="id" title="class">VLSM_vdecidable</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|  <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_vdecidable"><span class="id" title="constructor">valid_decidable</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_vdecidable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_vdecidable"><span class="id" title="constructor">_indexed_valid_constrained_decidable</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM_vdecidable"><span class="id" title="constructor">constraint_decidable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_valid_constrained_decidable"><span class="id" title="definition">indexed_valid_constrained_decidable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">constraint</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint_decidable</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a>) (<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a>)), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= @<a class="idref" href="CasperCBC.VLSM.Common.html#valid_decidable"><span class="id" title="method">valid_decidable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained_vdecidable"><span class="id" title="definition">indexed_vlsm_constrained_vdecidable</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_decidable"><span class="id" title="variable">constraint_decidable</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="free_constraint_decidable"><span class="id" title="definition">free_constraint_decidable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_label"><span class="id" title="definition">indexed_label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">som</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_state"><span class="id" title="definition">indexed_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.message"><span class="id" title="variable">message</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#som"><span class="id" title="variable">som</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_free_vdecidable"><span class="id" title="definition">indexed_vlsm_free_vdecidable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_vdecidable"><span class="id" title="class">VLSM_vdecidable</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained_vdecidable"><span class="id" title="definition">indexed_vlsm_constrained_vdecidable</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint_decidable"><span class="id" title="definition">free_constraint_decidable</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing.indexed_vlsm_decidable"><span class="id" title="section">indexed_vlsm_decidable</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexing"><span class="id" title="section">indexing</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Section&nbsp;2.4.4&nbsp;Projections&nbsp;into&nbsp;VLSM&nbsp;compositions&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a name="projections"><span class="id" title="section">projections</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">message</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">index</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IndEqDec</span> : <a class="idref" href="CasperCBC.Lib.Preamble.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i0</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IT</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IS</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">IM</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">T</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_type"><span class="id" title="definition">indexed_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#IT"><span class="id" title="variable">IT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_sig"><span class="id" title="definition">indexed_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#IS"><span class="id" title="variable">IS</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constraint</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained"><span class="id" title="definition">indexed_vlsm_constrained</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_constrained_projection_sig"><span class="id" title="definition">indexed_vlsm_constrained_projection_sig</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|      <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">@</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">(</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">i</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a>   <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">initial_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">fun</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">pmi</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">exists</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">xm</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">(@</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">protocol_message</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">X</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">),</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">xm</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">pmi</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a>   <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">s0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">@</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">s0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">(</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">i</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a>   <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">m0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">@</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">m0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">(</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">i</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">;</span></a>   <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">l0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">@</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">l0</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">(</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">i</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_LSM_sig"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="projection_valid"><span class="id" title="definition">projection_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">li</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">siomi</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">si</span>, <span class="id" title="var">omi</span>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#siomi"><span class="id" title="variable">siomi</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#si"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#li"><span class="id" title="variable">li</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#omi"><span class="id" title="variable">omi</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="composite_protocol_valid_implies_valid"><span class="id" title="lemma">composite_protocol_valid_implies_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">li</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">siomi</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hcomposite</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projection_valid"><span class="id" title="definition">projection_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#li"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#siomi"><span class="id" title="variable">siomi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: @<a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#li"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#siomi"><span class="id" title="variable">siomi</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">siomi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">si</span> <span class="id" title="var">omi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomposite</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hsi</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hvalid</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Hconstraint</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#_indexed_valid"><span class="id" title="definition">_indexed_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_constrained_projection"><span class="id" title="definition">indexed_vlsm_constrained_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained_projection_sig"><span class="id" title="definition">indexed_vlsm_constrained_projection_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{|  <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">transition</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">:=</span></a>  <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">@</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">transition</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">_</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">(</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">i</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">;</span></a>  <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">valid</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">:=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">projection_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#Build_VLSM"><span class="id" title="constructor">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="projections.fixed_projection"><span class="id" title="section">fixed_projection</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Proj</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained_projection"><span class="id" title="definition">indexed_vlsm_constrained_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="initial_state_projection"><span class="id" title="lemma">initial_state_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hinit</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.S"><span class="id" title="variable">S</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#sign"><span class="id" title="definition">sign</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="transition_projection"><span class="id" title="lemma">transition_projection</span></a> : @<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained_projection_sig"><span class="id" title="definition">indexed_vlsm_constrained_projection_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="protocol_message_projection"><span class="id" title="lemma">protocol_message_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iom</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HpmX</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">sx</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#sx"><span class="id" title="variable">sx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#iom"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">sj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#sj"><span class="id" title="variable">sj</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#iom"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#s0"><span class="id" title="method">s0</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_message"><span class="id" title="constructor">protocol_initial_message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> ); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpim</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_message_prop"><span class="id" title="definition">protocol_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">im</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hini</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_message_prop"><span class="id" title="method">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#sign"><span class="id" title="definition">sign</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a>) <span class="id" title="var">im</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">im</span> <span class="id" title="var">Hpim</span>); <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">im</span> <span class="id" title="var">Hini</span>)); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="protocol_message_projection_rev"><span class="id" title="lemma">protocol_message_projection_rev</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iom</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hpmj</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">sj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#sj"><span class="id" title="variable">sj</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#iom"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">sx</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#sx"><span class="id" title="variable">sx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#iom"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpmj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sj</span> <span class="id" title="var">Hpmj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpmj</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#s0"><span class="id" title="method">s0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.S"><span class="id" title="variable">S</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span> <span class="id" title="var">Him</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">om</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Him</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">m</span> <span class="id" title="var">Hpm</span>] <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">Heqs</span> <span class="id" title="var">Hv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop_valid_out"><span class="id" title="lemma">protocol_prop_valid_out</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">sX</span> <span class="id" title="var">om</span> <span class="id" title="var">Hv</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">intro</span> <span class="id" title="var">HpsX'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqs</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a> =&gt; @<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)) <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> (@<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_type"><span class="id" title="definition">indexed_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a>) <span class="id" title="var">sX</span> <span class="id" title="var">om</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">som'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">som'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> <span class="id" title="var">om'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqsom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqsom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqsom'</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <span class="id" title="var">sX</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">sj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
2.4.4.1 Projection friendly composition constraints 
</div>
<div class="code">

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Definition&nbsp;projection_friendly<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lj&nbsp;:&nbsp;@label&nbsp;_&nbsp;(IT&nbsp;j))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sj&nbsp;:&nbsp;protocol_state&nbsp;Proj)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(om&nbsp;:&nbsp;option&nbsp;(protocol_message&nbsp;Proj))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;protocol_valid&nbsp;Proj&nbsp;lj&nbsp;(sj,&nbsp;om)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;exists&nbsp;(s&nbsp;:&nbsp;protocol_state&nbsp;X),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(proj1_sig&nbsp;s)&nbsp;j&nbsp;=&nbsp;proj1_sig&nbsp;sj<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraint&nbsp;(existT&nbsp;_&nbsp;j&nbsp;lj)&nbsp;(proj1_sig&nbsp;s,&nbsp;option_map&nbsp;(@proj1_sig&nbsp;_&nbsp;_)&nbsp;om)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Projects&nbsp;the&nbsp;trace&nbsp;of&nbsp;a&nbsp;composed&nbsp;vlsm&nbsp;to&nbsp;component&nbsp;j&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">trx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">trx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tail</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">item</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lj</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#l"><span class="id" title="variable">l</span></a>) <span class="id" title="var">e</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.Common.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#lj"><span class="id" title="variable">lj</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">item</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tail"><span class="id" title="variable">tail</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#tail"><span class="id" title="variable">tail</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="from_projection"><span class="id" title="definition">from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#a"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="finite_trace_projection_list_alt"><span class="id" title="definition">finite_trace_projection_list_alt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">trx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ftrx</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hall</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ftrx"><span class="id" title="variable">ftrx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">item</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> @<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">item</span>, <span class="id" title="var">e</span>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lj</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a>)) <a class="idref" href="CasperCBC.VLSM.Composition.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.Common.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#lj"><span class="id" title="variable">lj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.ListExtras.html#list_annotate"><span class="id" title="definition">list_annotate</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ftrx"><span class="id" title="variable">ftrx</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hall"><span class="id" title="variable">Hall</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="finite_trace_projection_list_alt_iff"><span class="id" title="lemma">finite_trace_projection_list_alt_iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">trx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ftrx</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hall</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ftrx"><span class="id" title="variable">ftrx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list_alt"><span class="id" title="definition">finite_trace_projection_list_alt</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hall"><span class="id" title="variable">Hall</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">ftrx</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">ftrx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">trx</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">a</span>))) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hunroll</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a>) (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">trx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a>) <span class="id" title="var">trx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list_alt"><span class="id" title="definition">finite_trace_projection_list_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hunroll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#list_annotate_unroll"><span class="id" title="lemma">list_annotate_unroll</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtrx</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#Forall_tl"><span class="id" title="definition">Forall_tl</span></a> <span class="id" title="var">Hall</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHtrx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.EqdepFacts.html#UIP_refl__Streicher_K"><span class="id" title="lemma">UIP_refl__Streicher_K</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.EqdepFacts.html#UIP_refl_"><span class="id" title="definition">UIP_refl_</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.EqdepFacts.html#UIP_refl_on_"><span class="id" title="definition">UIP_refl_on_</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#Forall_hd"><span class="id" title="definition">Forall_hd</span></a> <span class="id" title="var">Hall</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Logic.Eqdep.html#EqdepTheory.UIP"><span class="id" title="lemma">UIP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-  <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hunroll</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a>) (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">trx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a>) <span class="id" title="var">trx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#predicate_to_function"><span class="id" title="definition">predicate_to_function</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list_alt"><span class="id" title="definition">finite_trace_projection_list_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hunroll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtrx</span> <span class="id" title="var">Hall</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHtrx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="finite_trace_projection_empty"><span class="id" title="lemma">finite_trace_projection_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">trx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hempty</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hin</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">_om</span> <span class="id" title="var">Hs'</span>] [[<span class="id" title="var">_s</span> <span class="id" title="var">Hiom</span>] <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htransition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hin</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hempty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hempty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">Hempty</span> <span class="id" title="var">t</span> <span class="id" title="var">Hin</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="finite_trace_projection_last_state"><span class="id" title="lemma">finite_trace_projection_last_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">start</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">transitions</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#transitions"><span class="id" title="variable">transitions</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lstx</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#transitions"><span class="id" title="variable">transitions</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#start"><span class="id" title="variable">start</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lstj</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#transitions"><span class="id" title="variable">transitions</span></a>)) (<a class="idref" href="CasperCBC.VLSM.Composition.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#lstj"><span class="id" title="variable">lstj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#lstx"><span class="id" title="variable">lstx</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">lstx</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">lstj</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">lstx</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">lstj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#unroll_last"><span class="id" title="lemma">unroll_last</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#unroll_last"><span class="id" title="lemma">unroll_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">_om</span> <span class="id" title="var">Hs'</span>] [[<span class="id" title="var">_s</span> <span class="id" title="var">Hiom</span>] <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htransition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s'</span> <span class="id" title="var">i</span> <span class="id" title="var">si'</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">n</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hupd</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;projection&nbsp;of&nbsp;a&nbsp;finite&nbsp;protocol&nbsp;trace&nbsp;remains&nbsp;a&nbsp;protocol&nbsp;trace&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="finite_ptrace_projection"><span class="id" title="lemma">finite_ptrace_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Psj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">trx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">lx</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Ps'</span> [<span class="id" title="var">Piom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpp</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ht</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ps'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Ps'</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Piom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_s</span> <span class="id" title="var">Piom</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_generated"><span class="id" title="constructor">protocol_generated</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ps'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Piom</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hps</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">oom</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_valid"><span class="id" title="definition">indexed_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">lx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">oom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ht'</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <span class="id" title="var">lx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">si'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ht'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Psj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">os'j</span> <span class="id" title="var">Psj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_message_projection"><span class="id" title="lemma">protocol_message_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Piom</span>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">sj</span> <span class="id" title="var">HPjiom</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_generated"><span class="id" title="constructor">protocol_generated</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <span class="id" title="var">lx</span> (<span class="id" title="var">s'</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) <span class="id" title="var">os'j</span> <span class="id" title="var">Psj</span> <span class="id" title="var">sj</span> <span class="id" title="var">iom</span> <span class="id" title="var">HPjiom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span>|]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Heqlx</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a> =&gt; @<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>)) <span class="id" title="var">lx</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_message_projection"><span class="id" title="lemma">protocol_message_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Piom</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">HPjiom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">lx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="protocol_state_projection"><span class="id" title="lemma">protocol_state_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hps</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hps</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hps</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_is_run"><span class="id" title="lemma">protocol_is_run</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Hps</span>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">run</span> <span class="id" title="var">Heqfinal</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#run_is_trace"><span class="id" title="lemma">run_is_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">run</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Htrace</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vlsm_run_last_state"><span class="id" title="lemma">vlsm_run_last_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">run</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">run</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">run</span> <span class="id" title="var">Hrun</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqfinal</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">run</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">start</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">start</span> <span class="id" title="var">Hstart</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Htrace</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htrace</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htrace</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#finite_ptrace_projection"><span class="id" title="lemma">finite_ptrace_projection</span></a> <span class="id" title="var">start</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hstartj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> (<span class="id" title="var">start</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">start</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) <span class="id" title="var">Hstartj</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">istartj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpstartj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<span class="id" title="var">start</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <span class="id" title="var">istartj</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hpinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproj</span> <span class="id" title="var">Hpstartj</span> <span class="id" title="var">_</span> <span class="id" title="var">Htrace</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#trace_is_run"><span class="id" title="lemma">trace_is_run</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <span class="id" title="var">istartj</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <span class="id" title="var">transitions</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">subst</span> <span class="id" title="var">istartj</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hrun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrun</span> <span class="id" title="var">Hproj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrun</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">run</span> [<span class="id" title="var">Hrun</span> [<span class="id" title="var">Hstart</span> <span class="id" title="var">Htrans</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#run_is_protocol"><span class="id" title="lemma">run_is_protocol</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">run</span> <span class="id" title="var">Hrun</span>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vlsm_run_last_state"><span class="id" title="lemma">vlsm_run_last_state</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">run</span> <span class="id" title="var">Hrun</span>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hlast'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htrans</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstart</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#final"><span class="id" title="projection">final</span></a> <span class="id" title="var">run</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">s'</span>, <span class="id" title="var">om</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_last_state"><span class="id" title="lemma">finite_trace_projection_last_state</span></a> <span class="id" title="var">start</span> <span class="id" title="var">transitions</span> <span class="id" title="var">Htrace</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hlast</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">T</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="in_projection"><span class="id" title="definition">in_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tr</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Stream"><span class="id" title="inductive">Stream</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Str_nth"><span class="id" title="definition">Str_nth</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="in_projection_dec"><span class="id" title="definition">in_projection_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> (<span class="id" title="var">tr</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Stream"><span class="id" title="inductive">Stream</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#bounding"><span class="id" title="definition">bounding</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#in_projection"><span class="id" title="definition">in_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <span class="id" title="var">ss</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="CasperCBC.Lib.StreamExtras.html#monotone_nat_stream"><span class="id" title="definition">monotone_nat_stream</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="CasperCBC.Lib.StreamExtras.html#filtering_subsequence"><span class="id" title="definition">filtering_subsequence</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="infinite_trace_projection_stream"><span class="id" title="definition">infinite_trace_projection_stream</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ss</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Stream"><span class="id" title="inductive">Stream</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ks</span>: <a class="idref" href="CasperCBC.Lib.StreamExtras.html#monotone_nat_stream"><span class="id" title="definition">monotone_nat_stream</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hfilter</span>: <a class="idref" href="CasperCBC.Lib.StreamExtras.html#filtering_subsequence"><span class="id" title="definition">filtering_subsequence</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ks"><span class="id" title="variable">ks</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Stream"><span class="id" title="inductive">Stream</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">subs</span> := <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_subsequence"><span class="id" title="definition">stream_subsequence</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ks"><span class="id" title="variable">ks</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HForAll</span> := <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_filter_Forall"><span class="id" title="lemma">stream_filter_Forall</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ks"><span class="id" title="variable">ks</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hfilter"><span class="id" title="variable">Hfilter</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">subsP</span> := <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_annotate"><span class="id" title="definition">stream_annotate</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#subs"><span class="id" title="variable">subs</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#HForAll"><span class="id" title="variable">HForAll</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#map"><span class="id" title="definition">Streams.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">item</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> @<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">item</span>, <span class="id" title="var">e</span>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lj</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a>)) <a class="idref" href="CasperCBC.VLSM.Composition.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.Common.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#lj"><span class="id" title="variable">lj</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a>) (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#item"><span class="id" title="variable">item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#subsP"><span class="id" title="variable">subsP</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="finite_trace_projection_stream"><span class="id" title="lemma">finite_trace_projection_stream</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ss</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Stream"><span class="id" title="inductive">Stream</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ks</span>: <a class="idref" href="CasperCBC.Lib.StreamExtras.html#monotone_nat_stream"><span class="id" title="definition">monotone_nat_stream</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hfilter</span>: <a class="idref" href="CasperCBC.Lib.StreamExtras.html#filtering_subsequence"><span class="id" title="definition">filtering_subsequence</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ks"><span class="id" title="variable">ks</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">kn</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Str_nth"><span class="id" title="definition">Str_nth</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ks"><span class="id" title="variable">ks</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ss_to_kn</span> := <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">stream_prefix</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Nat.html#succ"><span class="id" title="definition">succ</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#kn"><span class="id" title="variable">kn</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sproj</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#infinite_trace_projection_stream"><span class="id" title="definition">infinite_trace_projection_stream</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ks"><span class="id" title="variable">ks</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hfilter"><span class="id" title="variable">Hfilter</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">stream_prefix</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#sproj"><span class="id" title="variable">sproj</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Nat.html#succ"><span class="id" title="definition">succ</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss_to_kn"><span class="id" title="variable">ss_to_kn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sproj</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#infinite_trace_projection_stream"><span class="id" title="definition">infinite_trace_projection_stream</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix_map"><span class="id" title="lemma">stream_prefix_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix_annotate"><span class="id" title="lemma">stream_prefix_annotate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_subsequence"><span class="id" title="definition">stream_subsequence</span></a> <span class="id" title="var">ss</span> <span class="id" title="var">ks</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_filter_Forall"><span class="id" title="lemma">stream_filter_Forall</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <span class="id" title="var">ss</span> <span class="id" title="var">ks</span> <span class="id" title="var">Hfilter</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Nat.html#succ"><span class="id" title="definition">succ</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hall</span> <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Heq'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">stream_prefix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">sig</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#a"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_annotate"><span class="id" title="definition">stream_annotate</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_subsequence"><span class="id" title="definition">stream_subsequence</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) <span class="id" title="var">ss</span> <span class="id" title="var">ks</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_filter_Forall"><span class="id" title="lemma">stream_filter_Forall</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span> <span class="id" title="var">ks</span> <span class="id" title="var">Hfilter</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Nat.html#succ"><span class="id" title="definition">succ</span></a> <span class="id" title="var">n</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">stream_prefix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">sig</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_annotate"><span class="id" title="definition">stream_annotate</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_subsequence"><span class="id" title="definition">stream_subsequence</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) <span class="id" title="var">ss</span> <span class="id" title="var">ks</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_filter_Forall"><span class="id" title="lemma">stream_filter_Forall</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span> <span class="id" title="var">ks</span> <span class="id" title="var">Hfilter</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Nat.html#succ"><span class="id" title="definition">succ</span></a> <span class="id" title="var">n</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_filter_prefix"><span class="id" title="lemma">stream_filter_prefix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#dec_from_projection"><span class="id" title="definition">dec_from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ks</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hfilter</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsfilter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">stream_prefix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsfilter</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Nat.html#succ"><span class="id" title="definition">succ</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsfilter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">ss_to_kn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">kn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list_alt_iff"><span class="id" title="lemma">finite_trace_projection_list_alt_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="trace_projection"><span class="id" title="definition">trace_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hproj_dec</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#in_projection_dec"><span class="id" title="definition">in_projection_dec</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tr</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#Trace"><span class="id" title="inductive">Trace</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: @<a class="idref" href="CasperCBC.VLSM.Common.html#Trace"><span class="id" title="inductive">Trace</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">ls</span> | <span class="id" title="var">s</span> <span class="id" title="var">ss</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#Finite"><span class="id" title="constructor">Finite</span></a> (<span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <span class="id" title="var">ls</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproj_dec</span> <span class="id" title="var">ss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproj_dec</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">n1</span> <span class="id" title="var">_</span>] | [<span class="id" title="var">ks</span> <span class="id" title="var">Hfilter</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#Finite"><span class="id" title="constructor">Finite</span></a> (<span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> (<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">stream_prefix</span></a> <span class="id" title="var">ss</span> <span class="id" title="var">n1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#Infinite"><span class="id" title="constructor">Infinite</span></a> (<span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#infinite_trace_projection_stream"><span class="id" title="definition">infinite_trace_projection_stream</span></a> <span class="id" title="var">ss</span> <span class="id" title="var">ks</span> <span class="id" title="var">Hfilter</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="trace_projection_initial_state"><span class="id" title="lemma">trace_projection_initial_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hproj_dec</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#in_projection_dec"><span class="id" title="definition">in_projection_dec</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tr</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#Trace"><span class="id" title="inductive">Trace</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#trace_first"><span class="id" title="definition">trace_first</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#trace_projection"><span class="id" title="definition">trace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hproj_dec"><span class="id" title="variable">Hproj_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#trace_first"><span class="id" title="definition">trace_first</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hproj_dec</span> <span class="id" title="var">s0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="infinite_ptrace_projection"><span class="id" title="lemma">infinite_ptrace_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span>: @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ss</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.Streams.html#Stream"><span class="id" title="inductive">Stream</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Psj</span>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr</span>: <a class="idref" href="CasperCBC.VLSM.Common.html#infinite_protocol_trace_from"><span class="id" title="inductive">infinite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fs</span> : <a class="idref" href="CasperCBC.Lib.StreamExtras.html#monotone_nat_stream"><span class="id" title="definition">monotone_nat_stream</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hfs</span>: <a class="idref" href="CasperCBC.Lib.StreamExtras.html#filtering_subsequence"><span class="id" title="definition">filtering_subsequence</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#from_projection"><span class="id" title="definition">from_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#fs"><span class="id" title="variable">fs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#infinite_protocol_trace_from"><span class="id" title="inductive">infinite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Composition.html#infinite_trace_projection_stream"><span class="id" title="definition">infinite_trace_projection_stream</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#fs"><span class="id" title="variable">fs</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hfs"><span class="id" title="variable">Hfs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#infinite_protocol_trace_from_prefix_rev"><span class="id" title="lemma">infinite_protocol_trace_from_prefix_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#infinite_protocol_trace_from_prefix"><span class="id" title="lemma">infinite_protocol_trace_from_prefix</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">ss</span> <span class="id" title="var">Htr</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hftr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_stream"><span class="id" title="lemma">finite_trace_projection_stream</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_ptrace_projection"><span class="id" title="lemma">finite_ptrace_projection</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hftr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;projection&nbsp;of&nbsp;an&nbsp;protocol&nbsp;trace&nbsp;remains&nbsp;a&nbsp;protocol&nbsp;trace&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptrace_from_projection"><span class="id" title="lemma">ptrace_from_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hproj_dec</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#in_projection_dec"><span class="id" title="definition">in_projection_dec</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tr</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#Trace"><span class="id" title="inductive">Trace</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Psj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#trace_first"><span class="id" title="definition">trace_first</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#ptrace_from_prop"><span class="id" title="definition">ptrace_from_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#ptrace_from_prop"><span class="id" title="definition">ptrace_from_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#trace_projection"><span class="id" title="definition">trace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hproj_dec"><span class="id" title="variable">Hproj_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">ls</span> | <span class="id" title="var">s</span> <span class="id" title="var">ss</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_ptrace_projection"><span class="id" title="lemma">finite_ptrace_projection</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hproj_dec</span> <span class="id" title="var">ss</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">n</span> <span class="id" title="var">_</span>]|<span class="id" title="var">Hinf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_ptrace_projection"><span class="id" title="lemma">finite_ptrace_projection</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#infinite_protocol_trace_from_prefix"><span class="id" title="lemma">infinite_protocol_trace_from_prefix</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ks</span> <span class="id" title="var">HFilter</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#infinite_ptrace_projection"><span class="id" title="lemma">infinite_ptrace_projection</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="protocol_trace_projection"><span class="id" title="lemma">protocol_trace_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hproj_dec</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#in_projection_dec"><span class="id" title="definition">in_projection_dec</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tr</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#Trace"><span class="id" title="inductive">Trace</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_prop"><span class="id" title="definition">protocol_trace_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_prop"><span class="id" title="definition">protocol_trace_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#trace_projection"><span class="id" title="definition">trace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hproj_dec"><span class="id" title="variable">Hproj_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfrom</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_from"><span class="id" title="lemma">protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinit</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_initial"><span class="id" title="lemma">protocol_trace_initial</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_from_iff"><span class="id" title="lemma">protocol_trace_from_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#ptrace_from_projection"><span class="id" title="lemma">ptrace_from_projection</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop_iff"><span class="id" title="lemma">protocol_state_prop_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#initial_state_projection"><span class="id" title="lemma">initial_state_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinit</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#trace_projection_initial_state"><span class="id" title="lemma">trace_projection_initial_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#initial_state_projection"><span class="id" title="lemma">initial_state_projection</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;axiomatize&nbsp;projection&nbsp;friendliness&nbsp;as&nbsp;the&nbsp;converse&nbsp;of&nbsp;protocol_trace_projection&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="finite_projection_friendly"><span class="id" title="definition">finite_projection_friendly</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sj</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">trj</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htrj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#sj"><span class="id" title="variable">sj</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trj"><span class="id" title="variable">trj</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><span class="id" title="var">sx</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">trx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#sx"><span class="id" title="variable">sx</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#sx"><span class="id" title="variable">sx</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#sj"><span class="id" title="variable">sj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trx"><span class="id" title="variable">trx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trj"><span class="id" title="variable">trj</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="projection_friendly"><span class="id" title="definition">projection_friendly</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hproj_dec</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#in_projection_dec"><span class="id" title="definition">in_projection_dec</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">trj</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#Trace"><span class="id" title="inductive">Trace</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htrj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_prop"><span class="id" title="definition">protocol_trace_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trj"><span class="id" title="variable">trj</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><span class="id" title="var">tr</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#Trace"><span class="id" title="inductive">Trace</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_prop"><span class="id" title="definition">protocol_trace_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trace_projection"><span class="id" title="definition">trace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hproj_dec"><span class="id" title="variable">Hproj_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#tr"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#trj"><span class="id" title="variable">trj</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="projection_friendly_finite"><span class="id" title="lemma">projection_friendly_finite</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hproj_dec</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#in_projection_dec"><span class="id" title="definition">in_projection_dec</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hfr</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#projection_friendly"><span class="id" title="definition">projection_friendly</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#Hproj_dec"><span class="id" title="variable">Hproj_dec</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_projection_friendly"><span class="id" title="definition">finite_projection_friendly</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#finite_projection_friendly"><span class="id" title="definition">finite_projection_friendly</span></a>;  <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfr</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#Finite"><span class="id" title="constructor">Finite</span></a> <span class="id" title="var">sj</span> <span class="id" title="var">trj</span>) <span class="id" title="var">Htrj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfr</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">s</span> <span class="id" title="var">tr</span>| <span class="id" title="var">s</span> <span class="id" title="var">tr</span>] [<span class="id" title="var">Htr</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#trace_projection"><span class="id" title="definition">trace_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#trace_projection"><span class="id" title="definition">trace_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hproj_dec</span> <span class="id" title="var">tr</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">n1</span> <span class="id" title="var">_</span>] | (<span class="id" title="var">ks</span>, <span class="id" title="var">Hfilter</span>)]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">stream_prefix</span></a> <span class="id" title="var">tr</span> <span class="id" title="var">n1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#infinite_protocol_trace_from_prefix"><span class="id" title="lemma">infinite_protocol_trace_from_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="proj_pre_loaded_protocol_prop"><span class="id" title="lemma">proj_pre_loaded_protocol_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PreLoaded</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">om</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hps</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#PreLoaded"><span class="id" title="variable">PreLoaded</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#om"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <span class="id" title="var">PreLoaded</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> <span class="id" title="var">Him</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">om0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Him</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Him</span> : @<a class="idref" href="CasperCBC.VLSM.Common.html#initial_message_prop"><span class="id" title="method">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm_sig"><span class="id" title="definition">pre_loaded_vlsm_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.X"><span class="id" title="variable">X</span></a>) <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_message"><span class="id" title="constructor">protocol_initial_message</span></a> <span class="id" title="var">PreLoaded</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Him</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_generated"><span class="id" title="constructor">protocol_generated</span></a> <span class="id" title="var">PreLoaded</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">_om</span> <span class="id" title="var">_s</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_protocol_valid_implies_valid"><span class="id" title="lemma">composite_protocol_valid_implies_valid</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="proj_pre_loaded_incl"><span class="id" title="lemma">proj_pre_loaded_incl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PreLoaded</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.j"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl"><span class="id" title="definition">VLSM_incl</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#PreLoaded"><span class="id" title="variable">PreLoaded</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection.Proj"><span class="id" title="variable">Proj</span></a> <span class="id" title="var">PreLoaded</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">assumption</span> || <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [[<span class="id" title="var">_s</span> <span class="id" title="var">Hpm</span>] <span class="id" title="var">_</span>]]. <span class="id" title="tactic">exists</span> <span class="id" title="var">_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#proj_pre_loaded_protocol_prop"><span class="id" title="lemma">proj_pre_loaded_protocol_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_protocol_valid_implies_valid"><span class="id" title="lemma">composite_protocol_valid_implies_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hv</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections.fixed_projection"><span class="id" title="section">fixed_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#projections"><span class="id" title="section">projections</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="free_projections"><span class="id" title="section">free_projections</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">message</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">index</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IndEqDec</span> : <a class="idref" href="CasperCBC.Lib.Preamble.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i0</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IT</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">IS</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">IM</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#index"><span class="id" title="variable">index</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#IS"><span class="id" title="variable">IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_free_projection_sig"><span class="id" title="definition">indexed_vlsm_free_projection_sig</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections.IT"><span class="id" title="variable">IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained_projection_sig"><span class="id" title="definition">indexed_vlsm_constrained_projection_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="indexed_vlsm_free_projection"><span class="id" title="definition">indexed_vlsm_free_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free_projection_sig"><span class="id" title="definition">indexed_vlsm_free_projection_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_constrained_projection"><span class="id" title="definition">indexed_vlsm_constrained_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_projections"><span class="id" title="section">free_projections</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="binary_composition"><span class="id" title="section">binary_composition</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">message</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">T1</span> <span class="id" title="var">T2</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">S1</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#T1"><span class="id" title="variable">T1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">S2</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#T2"><span class="id" title="variable">T2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M1</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#S1"><span class="id" title="variable">S1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M2</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#S2"><span class="id" title="variable">S2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="binary_index"><span class="id" title="definition">binary_index</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="first"><span class="id" title="definition">first</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_index"><span class="id" title="definition">binary_index</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="second"><span class="id" title="definition">second</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_index"><span class="id" title="definition">binary_index</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Instance</span> <a name="binary_index_dec"><span class="id" title="instance">binary_index_dec</span></a> :  <a class="idref" href="CasperCBC.Lib.Preamble.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_index"><span class="id" title="definition">binary_index</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Bool.Bool.html#bool_dec"><span class="id" title="lemma">bool_dec</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="binary_IT"><span class="id" title="definition">binary_IT</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_index"><span class="id" title="definition">binary_index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_composition.T1"><span class="id" title="variable">T1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_composition.T2"><span class="id" title="variable">T2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="binary_IS"><span class="id" title="definition">binary_IS</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_index"><span class="id" title="definition">binary_index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Common.html#LSM_sig"><span class="id" title="class">LSM_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#binary_IT"><span class="id" title="definition">binary_IT</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_composition.S1"><span class="id" title="variable">S1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_composition.S2"><span class="id" title="variable">S2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="binary_IM"><span class="id" title="definition">binary_IM</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_index"><span class="id" title="definition">binary_index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#binary_IS"><span class="id" title="definition">binary_IS</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_composition.M1"><span class="id" title="variable">M1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_composition.M2"><span class="id" title="variable">M2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="binary_free_composition"><span class="id" title="definition">binary_free_composition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="class">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_sig"><span class="id" title="definition">indexed_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#first"><span class="id" title="definition">first</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_IS"><span class="id" title="definition">binary_IS</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free"><span class="id" title="definition">indexed_vlsm_free</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#first"><span class="id" title="definition">first</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_IM"><span class="id" title="definition">binary_IM</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="binary_free_composition_fst"><span class="id" title="definition">binary_free_composition_fst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free_projection"><span class="id" title="definition">indexed_vlsm_free_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#first"><span class="id" title="definition">first</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_IM"><span class="id" title="definition">binary_IM</span></a>  <a class="idref" href="CasperCBC.VLSM.Composition.html#first"><span class="id" title="definition">first</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="binary_free_composition_snd"><span class="id" title="definition">binary_free_composition_snd</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Composition.html#indexed_vlsm_free_projection"><span class="id" title="definition">indexed_vlsm_free_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#first"><span class="id" title="definition">first</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_IM"><span class="id" title="definition">binary_IM</span></a>  <a class="idref" href="CasperCBC.VLSM.Composition.html#second"><span class="id" title="definition">second</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#binary_composition"><span class="id" title="section">binary_composition</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
