<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write("<a href='" + document.title + ".svg'>" + document.title + "</a>")</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">ListSet</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Sets.Relations_1.html#"><span class="id" title="library">Relations_1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Sorting.Sorting.html#"><span class="id" title="library">Sorting</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Program.Basics.html#"><span class="id" title="library">Basics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#"><span class="id" title="library">Lib.ListSetExtras</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.SortedLists.html#"><span class="id" title="library">Lib.SortedLists</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Measurable.html#"><span class="id" title="library">Lib.Measurable</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#"><span class="id" title="library">VLSM.Common</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#"><span class="id" title="library">VLSM.Plans</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#"><span class="id" title="library">VLSM.ProjectionTraces</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#"><span class="id" title="library">VLSM.Composition</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#"><span class="id" title="library">VLSM.Equivocation</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#"><span class="id" title="library">VLSM.ListValidator.ListValidator</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#"><span class="id" title="library">VLSM.ListValidator.Equivocation</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#"><span class="id" title="library">VLSM.ListValidator.Observations</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#"><span class="id" title="library">VLSM.ListValidator.EquivocationAwareListValidator</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#"><span class="id" title="library">VLSM.ObservableEquivocation</span></a><br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  This file describes a free composition &lt;X&gt; of List Validator nodes, each using
   an <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a></span>. Also see:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">Observations.v</span></span> for the observation model used here

</li>
<li> <span class="inlinecode"><span class="id" title="var">EquivocationAwareListValidator.v</span></span> for the used estimators

</li>
<li> <span class="inlinecode"><span class="id" title="var">Equivocation.v</span></span> and <span class="inlinecode"><span class="id" title="var">ListValidator.v</span></span> for some general
     facts about List Validators.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Composition" class="idref" href="#Composition"><span class="id" title="section">Composition</span></a>.<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="index:1" class="idref" href="#index:1"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="i0:2" class="idref" href="#i0:2"><span class="id" title="binder">i0</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="index_listing:3" class="idref" href="#index_listing:3"><span class="id" title="binder">index_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="Hfinite:4" class="idref" href="#Hfinite:4"><span class="id" title="binder">Hfinite</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a>}<br/>
&nbsp;&nbsp;{<a id="idec:5" class="idref" href="#idec:5"><span class="id" title="binder">idec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="Mindex:6" class="idref" href="#Mindex:6"><span class="id" title="binder">Mindex</span></a> : <a class="idref" href="CasperCBC.Lib.Measurable.html#Measurable"><span class="id" title="class">Measurable</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="Rindex:7" class="idref" href="#Rindex:7"><span class="id" title="binder">Rindex</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#ReachableThreshold"><span class="id" title="class">ReachableThreshold</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="est':9" class="idref" href="#est':9"><span class="id" title="binder">est'</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">EquivocationAwareListValidator.equivocation_aware_estimator</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:8"><span class="id" title="variable">i</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))<br/>
&nbsp;&nbsp;(<a id="IM_index:11" class="idref" href="#IM_index:11"><span class="id" title="binder">IM_index</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:10" class="idref" href="#i:10"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#VLSM_list"><span class="id" title="definition">VLSM_list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#idec:5"><span class="id" title="variable">idec</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#est':9"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:10"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="has_been_sent_capabilities:13" class="idref" href="#has_been_sent_capabilities:13"><span class="id" title="binder">has_been_sent_capabilities</span></a> := <span class="id" title="keyword">fun</span> <a id="i:12" class="idref" href="#i:12"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#lv_sent_capability"><span class="id" title="instance">lv_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:12"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#idec:5"><span class="id" title="variable">idec</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#est':9"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:12"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="has_been_received_capabilities:15" class="idref" href="#has_been_received_capabilities:15"><span class="id" title="binder">has_been_received_capabilities</span></a> := <span class="id" title="keyword">fun</span> <a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#lv_received_capability"><span class="id" title="instance">lv_received_capability</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#idec:5"><span class="id" title="variable">idec</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#est':9"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:14"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="X:16" class="idref" href="#X:16"><span class="id" title="binder">X</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#IM_index:11"><span class="id" title="variable">IM_index</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#IM_index:11"><span class="id" title="variable">IM_index</span></a>))<br/>
&nbsp;&nbsp;(<a id="preX:17" class="idref" href="#preX:17"><span class="id" title="binder">preX</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#X:16"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hevents_set':19" class="idref" href="#Hevents_set':19"><span class="id" title="binder">Hevents_set'</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:18" class="idref" href="#i:18"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observable_events"><span class="id" title="instance">simp_lv_observable_events</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:18"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;(<a id="Hstate_events_set:21" class="idref" href="#Hstate_events_set:21"><span class="id" title="binder">Hstate_events_set</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:20" class="idref" href="#i:20"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:20"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;(<a id="Hevidence:23" class="idref" href="#Hevidence:23"><span class="id" title="binder">Hevidence</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:22" class="idref" href="#i:22"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_observable_full"><span class="id" title="instance">simp_observable_full</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:22"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#idec:5"><span class="id" title="variable">idec</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hstate_events_fn:25" class="idref" href="#Hstate_events_fn:25"><span class="id" title="binder">Hstate_events_fn</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:24" class="idref" href="#i:24"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observations"><span class="id" title="definition">simp_lv_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:24"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;(<a id="Hbasic:27" class="idref" href="#Hbasic:27"><span class="id" title="binder">Hbasic</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:26" class="idref" href="#i:26"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_basic_equivocation"><span class="id" title="definition">simp_lv_basic_equivocation</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:26"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#idec:5"><span class="id" title="variable">idec</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Mindex:6"><span class="id" title="variable">Mindex</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Rindex:7"><span class="id" title="variable">Rindex</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="in_listing" class="idref" href="#in_listing"><span class="id" title="abbreviation">in_listing</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>

<br/>
</div>

<div class="doc">
 We begin with some basic facts about the given composition. 
<div class="paragraph"> </div>

  Protocol states are never bottom 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="protocol_state_component_no_bottom" class="idref" href="#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:29" class="idref" href="#i:29"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:30" class="idref" href="#Hprs:30"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:28"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:28"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:29"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#protocol_prop_no_bottom"><span class="id" title="lemma">protocol_prop_no_bottom</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.est'"><span class="id" title="variable">est'</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#protocol_state_projection"><span class="id" title="lemma">protocol_state_projection</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hprs</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#proj_pre_loaded_with_all_messages_protocol_prop"><span class="id" title="lemma">proj_pre_loaded_with_all_messages_protocol_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="Hsnb" class="idref" href="#Hsnb"><span class="id" title="lemma">Hsnb</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:32" class="idref" href="#Hpr:32"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:31"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:33" class="idref" href="#i:33"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:33"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
 Applying a protocol plan of receive transitions do not alter the nodes'
     self-projections (i.e, <tt>project (s i) i </tt> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="self_projections_same_after_receive" class="idref" href="#self_projections_same_after_receive"><span class="id" title="lemma">self_projections_same_after_receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:35" class="idref" href="#Hpr:35"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:34"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:36" class="idref" href="#i:36"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ai:37" class="idref" href="#ai:37"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hrec:38" class="idref" href="#Hrec:38"><span class="id" title="binder">Hrec</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:37"><span class="id" title="variable">ai</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprai:39" class="idref" href="#Hprai:39"><span class="id" title="binder">Hprai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:37"><span class="id" title="variable">ai</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:37"><span class="id" title="variable">ai</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:36"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:36"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:36"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:36"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_one"><span class="id" title="lemma">finite_protocol_plan_from_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprotocol</span> <span class="id" title="var">Htransition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ai</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">label_a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">input_a</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_input</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_different"><span class="id" title="lemma">project_different</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="self_projections_same_after_receives" class="idref" href="#self_projections_same_after_receives"><span class="id" title="lemma">self_projections_same_after_receives</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:40" class="idref" href="#s:40"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:41" class="idref" href="#Hpr:41"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:40"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#plan"><span class="id" title="definition">plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpra:43" class="idref" href="#Hpra:43"><span class="id" title="binder">Hpra</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:40"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:42"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hrec:45" class="idref" href="#Hrec:45"><span class="id" title="binder">Hrec</span></a> : <span class="id" title="keyword">forall</span> (<a id="ai:44" class="idref" href="#ai:44"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:44"><span class="id" title="variable">ai</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:42"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:44"><span class="id" title="variable">ai</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:46" class="idref" href="#res:46"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:40"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:42"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:47" class="idref" href="#i:47"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#res:46"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:47"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:47"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:40"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:47"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:47"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="definition">apply_plan_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_long</span>, <span class="id" title="var">res_long</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_short</span>, <span class="id" title="var">res_short</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hres_long</span> : <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> ((<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>))) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_long</span>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hres_short</span> : <span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short</span>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpra_long</span> <span class="id" title="var">Hpra_short</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">Hpra_long</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">ai</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpr_long</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#self_projections_same_after_receive"><span class="id" title="lemma">self_projections_same_after_receive</span></a> <span class="id" title="var">res_long</span> <span class="id" title="var">Hpr_long</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hone</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">x</span>). <span class="id" title="var">spec</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hone</span> <span class="id" title="var">Hpra_short</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
 Applying a plan of send/update transitions does not alter
     non-self projections. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="non_self_projections_same_after_send" class="idref" href="#non_self_projections_same_after_send"><span class="id" title="lemma">non_self_projections_same_after_send</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:49" class="idref" href="#Hpr:49"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:48"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:50" class="idref" href="#i:50"><span class="id" title="binder">i</span></a> <a id="j:51" class="idref" href="#j:51"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:52" class="idref" href="#Hdif:52"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:50"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:51"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ai:53" class="idref" href="#ai:53"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hrec:55" class="idref" href="#Hrec:55"><span class="id" title="binder">Hrec</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="c:54" class="idref" href="#c:54"><span class="id" title="binder">c</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:53"><span class="id" title="variable">ai</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update"><span class="id" title="constructor">update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#c:54"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprai:56" class="idref" href="#Hprai:56"><span class="id" title="binder">Hprai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:53"><span class="id" title="variable">ai</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:53"><span class="id" title="variable">ai</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:50"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:51"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:50"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:51"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_one"><span class="id" title="lemma">finite_protocol_plan_from_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprotocol</span> <span class="id" title="var">Htransition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ai</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">label_a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrec</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c</span> <span class="id" title="var">Heqv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">input_a</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_input</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus_clean"><span class="id" title="lemma">update_consensus_clean</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">value</span> := <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_different"><span class="id" title="lemma">project_different</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a id="non_self_projections_same_after_sends" class="idref" href="#non_self_projections_same_after_sends"><span class="id" title="lemma">non_self_projections_same_after_sends</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:57" class="idref" href="#s:57"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:58" class="idref" href="#Hpr:58"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:57"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:59" class="idref" href="#a:59"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#plan"><span class="id" title="definition">plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpra:60" class="idref" href="#Hpra:60"><span class="id" title="binder">Hpra</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:57"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:59"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hrec:63" class="idref" href="#Hrec:63"><span class="id" title="binder">Hrec</span></a> : <span class="id" title="keyword">forall</span> (<a id="ai:61" class="idref" href="#ai:61"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:61"><span class="id" title="variable">ai</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:59"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="c:62" class="idref" href="#c:62"><span class="id" title="binder">c</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:61"><span class="id" title="variable">ai</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update"><span class="id" title="constructor">update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#c:62"><span class="id" title="variable">c</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:64" class="idref" href="#res:64"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:57"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:59"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:65" class="idref" href="#i:65"><span class="id" title="binder">i</span></a> <a id="j:66" class="idref" href="#j:66"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:65"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:66"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#res:64"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:65"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:66"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:57"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:65"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:66"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="definition">apply_plan_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_long</span>, <span class="id" title="var">res_long</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_short</span>, <span class="id" title="var">res_short</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hres_long</span> : <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> ((<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>))) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_long</span>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hres_short</span> : <span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short</span>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpra_long</span> <span class="id" title="var">Hpra_short</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">Hpra_long</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">ai</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpr_long</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#non_self_projections_same_after_send"><span class="id" title="lemma">non_self_projections_same_after_send</span></a> <span class="id" title="var">res_long</span> <span class="id" title="var">Hpr_long</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hone</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">x</span>). <span class="id" title="var">spec</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hone</span> <span class="id" title="var">Hpra_short</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="component_list" class="idref" href="#component_list"><span class="id" title="abbreviation">component_list</span></a> <span class="id" title="var">s</span> <span class="id" title="var">li</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <span class="id" title="var">s</span> <span class="id" title="var">li</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Composition.EquivObsUtils" class="idref" href="#Composition.EquivObsUtils"><span class="id" title="section">EquivObsUtils</span></a>.<br/>

<br/>
</div>

<div class="doc">
Here we instantiate the observation-based equivocation model for our composition.
     The implicit <tt>ws</tt> stands for "witness set" and it means, in short, that we only
     take into account validators in <tt>ws</tt> when gathering observations for the composite state.
     Note that these observations can concern anyone, but they can only be taken from local
     observations of validators in <tt>ws</tt>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="ws:67" class="idref" href="#ws:67"><span class="id" title="binder">ws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Hstate_validators" class="idref" href="#Hstate_validators"><span class="id" title="definition">Hstate_validators</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:68" class="idref" href="#i:68"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) =&gt; (<span class="id" title="keyword">fun</span> (<a id="s:69" class="idref" href="#s:69"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:68"><span class="id" title="variable">i</span></a>)) =&gt; <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Instance</span> <a id="lv_composed_observable_events" class="idref" href="#lv_composed_observable_events"><span class="id" title="instance">lv_composed_observable_events</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#observable_events"><span class="id" title="class">observable_events</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_observable_events_instance"><span class="id" title="definition">composite_state_observable_events_instance</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hstate_events_fn"><span class="id" title="variable">Hstate_events_fn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hstate_validators"><span class="id" title="definition">Hstate_validators</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ce" class="idref" href="#ce"><span class="id" title="definition">ce</span></a> := <br/>
&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_observable_events_equivocation_evidence"><span class="id" title="definition">composite_observable_events_equivocation_evidence</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#message"><span class="id" title="definition">message</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hstate_events_fn"><span class="id" title="variable">Hstate_events_fn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hstate_validators"><span class="id" title="definition">Hstate_validators</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt_dec"><span class="id" title="lemma">simp_lv_event_lt_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a>.<br/>

<br/>
</div>

<div class="doc">
The honest set: Validators for which there is no evidence of equivocation.
     Note that some of these may actually be equivocating if we were to
     take into account observations originating outside of <tt>ws</tt> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wH" class="idref" href="#wH"><span class="id" title="definition">wH</span></a> (<a id="s:70" class="idref" href="#s:70"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="i:71" class="idref" href="#i:71"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_observable_events_equivocation_evidence_dec"><span class="id" title="definition">composite_observable_events_equivocation_evidence_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#message"><span class="id" title="definition">message</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hstate_events_fn"><span class="id" title="variable">Hstate_events_fn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hstate_validators"><span class="id" title="definition">Hstate_validators</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt_dec"><span class="id" title="lemma">simp_lv_event_lt_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:70"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:71"><span class="id" title="variable">i</span></a>))) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a>.<br/>

<br/>
</div>

<div class="doc">
The equivocating set : Validators for which there is evidence of equivocation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wE" class="idref" href="#wE"><span class="id" title="definition">wE</span></a> (<a id="s:72" class="idref" href="#s:72"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="i:73" class="idref" href="#i:73"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_observable_events_equivocation_evidence_dec"><span class="id" title="definition">composite_observable_events_equivocation_evidence_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#message"><span class="id" title="definition">message</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hstate_events_fn"><span class="id" title="variable">Hstate_events_fn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hstate_validators"><span class="id" title="definition">Hstate_validators</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt_dec"><span class="id" title="lemma">simp_lv_event_lt_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:72"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:73"><span class="id" title="variable">i</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a>.<br/>

<br/>
</div>

<div class="doc">
Shorthands for the union of observations. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wcobs" class="idref" href="#wcobs"><span class="id" title="definition">wcobs</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_events_fn"><span class="id" title="definition">composite_state_events_fn</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hstate_events_fn"><span class="id" title="variable">Hstate_events_fn</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wcobs_messages" class="idref" href="#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:74" class="idref" href="#s:74"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:75" class="idref" href="#target:75"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> (<a id="i:76" class="idref" href="#i:76"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) =&gt; (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_message_observations"><span class="id" title="definition">simp_lv_message_observations</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:76"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:75"><span class="id" title="variable">target</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wcobs_states" class="idref" href="#wcobs_states"><span class="id" title="definition">wcobs_states</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:77" class="idref" href="#s:77"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:78" class="idref" href="#target:78"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> (<a id="i:79" class="idref" href="#i:79"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) =&gt; (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:79"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:77"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:79"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:78"><span class="id" title="variable">target</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="cobs_single" class="idref" href="#cobs_single"><span class="id" title="lemma">cobs_single</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:80" class="idref" href="#s:80"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:81" class="idref" href="#target:81"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:82" class="idref" href="#e:82"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:82"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:80"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:81"><span class="id" title="variable">target</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="i:83" class="idref" href="#i:83"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:83"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:82"><span class="id" title="variable">e</span></a> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observations"><span class="id" title="definition">simp_lv_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:83"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:80"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:83"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:81"><span class="id" title="variable">target</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hinle</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ii</span> [<span class="id" title="var">Heqle</span> <span class="id" title="var">Hini</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqle</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observations"><span class="id" title="definition">simp_lv_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">target</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="cobs_single_s" class="idref" href="#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:84" class="idref" href="#s:84"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:85" class="idref" href="#target:85"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:86" class="idref" href="#e:86"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:86"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:84"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:85"><span class="id" title="variable">target</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="i:87" class="idref" href="#i:87"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:87"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:86"><span class="id" title="variable">e</span></a> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:87"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:84"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:87"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:85"><span class="id" title="variable">target</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hinle</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ii</span> [<span class="id" title="var">Heqle</span> <span class="id" title="var">Hini</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqle</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">target</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="cobs_single_m" class="idref" href="#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:88" class="idref" href="#s:88"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:89" class="idref" href="#target:89"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:90"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:88"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:89"><span class="id" title="variable">target</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="i:91" class="idref" href="#i:91"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:91"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:90"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_message_observations"><span class="id" title="definition">simp_lv_message_observations</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:88"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:91"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:89"><span class="id" title="variable">target</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hinle</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ii</span> [<span class="id" title="var">Heqle</span> <span class="id" title="var">Hini</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqle</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_message_observations"><span class="id" title="definition">simp_lv_message_observations</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">target</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="in_cobs_messages" class="idref" href="#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:92" class="idref" href="#s:92"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:93" class="idref" href="#target:93"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:94" class="idref" href="#e:94"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:95" class="idref" href="#Hin:95"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:94"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:92"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:93"><span class="id" title="variable">target</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_type"><span class="id" title="projection">get_simp_event_type</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:94"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hini</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_message_observations"><span class="id" title="lemma">in_simp_lv_message_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="in_cobs_states" class="idref" href="#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:96" class="idref" href="#s:96"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:97" class="idref" href="#target:97"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:98" class="idref" href="#e:98"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:99" class="idref" href="#Hin:99"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:98"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:96"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:97"><span class="id" title="variable">target</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_type"><span class="id" title="projection">get_simp_event_type</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:98"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hini</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_state_observations"><span class="id" title="lemma">in_simp_lv_state_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="cobs_messages_states" class="idref" href="#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:100" class="idref" href="#s:100"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:101" class="idref" href="#target:101"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:100"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:101"><span class="id" title="variable">target</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:100"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:101"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:100"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:101"><span class="id" title="variable">target</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_extract_forall"><span class="id" title="lemma">set_eq_extract_forall</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single"><span class="id" title="lemma">cobs_single</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hini</span> <span class="id" title="var">Hobsi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observations"><span class="id" title="definition">simp_lv_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hini</span> <span class="id" title="var">Hobsi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single"><span class="id" title="lemma">cobs_single</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_state_observations'"><span class="id" title="lemma">in_simp_lv_state_observations'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hini</span> <span class="id" title="var">Hobsi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single"><span class="id" title="lemma">cobs_single</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_message_observations'"><span class="id" title="lemma">in_simp_lv_message_observations'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="in_cobs_and_message" class="idref" href="#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:102" class="idref" href="#s:102"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:103" class="idref" href="#target:103"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:104" class="idref" href="#e:104"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hm:105" class="idref" href="#Hm:105"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_type"><span class="id" title="projection">get_simp_event_type</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:104"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:106" class="idref" href="#Hin:106"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:104"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:102"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:103"><span class="id" title="variable">target</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:104"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:102"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:103"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="in_cobs_states'" class="idref" href="#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:107" class="idref" href="#s:107"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:108" class="idref" href="#target:108"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:109" class="idref" href="#e:109"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:110" class="idref" href="#Hin:110"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:109"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:108"><span class="id" title="variable">target</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:109"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:108"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="in_cobs_messages'" class="idref" href="#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:112" class="idref" href="#target:112"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:113" class="idref" href="#e:113"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:114" class="idref" href="#Hin:114"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:113"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:112"><span class="id" title="variable">target</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:113"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:112"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cequiv_evidence" class="idref" href="#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (@<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt_dec"><span class="id" title="lemma">simp_lv_event_lt_dec</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ce"><span class="id" title="definition">ce</span></a>).<br/>

<br/>
</div>

<div class="doc">
There's at most one state observation
     regarding a fixed validator. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="unique_state_observation" class="idref" href="#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:115" class="idref" href="#s:115"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:116" class="idref" href="#i:116"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:117" class="idref" href="#e:117"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:118" class="idref" href="#Hin:118"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:117"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:115"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:116"><span class="id" title="variable">i</span></a>)) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:117"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:116"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:115"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:116"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_events_fn"><span class="id" title="definition">composite_state_events_fn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Hinj</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
And if said validator is in <tt>ws</tt>,
     it's always there. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_obs_present" class="idref" href="#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:119" class="idref" href="#s:119"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:120" class="idref" href="#i:120"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:121" class="idref" href="#Hin:121"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:120"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils.ws"><span class="id" title="variable">ws</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:120"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:119"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:120"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:119"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:120"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="GE_direct" class="idref" href="#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:122" class="idref" href="#s:122"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:123" class="idref" href="#i:123"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:123"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:122"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:122"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:123"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Shortcircuiting the lengthy translation
     between the observation typeclass and
     the above definitions. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="hbo_cobs" class="idref" href="#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:124" class="idref" href="#s:124"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:125" class="idref" href="#e:125"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:124"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:125"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:125"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:124"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:125"><span class="id" title="variable">e</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#observable_events_has_been_observed"><span class="id" title="definition">observable_events_has_been_observed</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#state_observable_events_fn"><span class="id" title="definition">state_observable_events_fn</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_events_fn"><span class="id" title="definition">composite_state_events_fn</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hinle</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Heqle</span> <span class="id" title="var">Hini</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e</span>)); [<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqle</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le'</span> [<span class="id" title="var">Hinle'</span> <span class="id" title="var">Hine'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinle'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinle'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">Heqk</span> <span class="id" title="var">Hink</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Hstate_events_fn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqk</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_observations"><span class="id" title="lemma">in_simp_lv_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_events_fn"><span class="id" title="definition">composite_state_events_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqle</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_validators"><span class="id" title="definition">composite_validators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hstate_validators"><span class="id" title="definition">Hstate_validators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="CasperCBC.Lib.Classes.html#inhabitant"><span class="id" title="method">inhabitant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|]. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We have actual equality due to these
     sets being the results of <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a></span>s. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="wE_eq_equality" class="idref" href="#wE_eq_equality"><span class="id" title="lemma">wE_eq_equality</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:126" class="idref" href="#s:126"><span class="id" title="binder">s</span></a> <a id="s':127" class="idref" href="#s':127"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:126"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':127"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:126"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':127"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#filter_set_eq"><span class="id" title="lemma">filter_set_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="wH_eq_equality" class="idref" href="#wH_eq_equality"><span class="id" title="lemma">wH_eq_equality</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:128" class="idref" href="#s:128"><span class="id" title="binder">s</span></a> <a id="s':129" class="idref" href="#s':129"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:130" class="idref" href="#i:130"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:128"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':129"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:128"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':129"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#filter_set_eq"><span class="id" title="lemma">filter_set_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="wH_wE'" class="idref" href="#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:131" class="idref" href="#s:131"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:132" class="idref" href="#i:132"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:132"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:131"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:132"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:131"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- ?<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_d</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="wE_wH'" class="idref" href="#wE_wH'"><span class="id" title="lemma">wE_wH'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:133" class="idref" href="#s:133"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:134" class="idref" href="#i:134"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:134"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:133"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:134"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:133"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- ?<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_d</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="wH_wE" class="idref" href="#wH_wE"><span class="id" title="lemma">wH_wE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:135" class="idref" href="#s:135"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:135"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_diff"><span class="id" title="definition">set_diff</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:135"><span class="id" title="variable">s</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_extract_forall"><span class="id" title="lemma">set_eq_extract_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_diff_intro"><span class="id" title="lemma">set_diff_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_diff_iff"><span class="id" title="lemma">set_diff_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="HE_eq_equiv" class="idref" href="#HE_eq_equiv"><span class="id" title="lemma">HE_eq_equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:136" class="idref" href="#s:136"><span class="id" title="binder">s</span></a> <a id="s':137" class="idref" href="#s':137"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:136"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':137"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:136"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':137"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#filter_complement"><span class="id" title="lemma">filter_complement</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We start to describe what happens to observations
     when doing composite updates (similarly to results in <span class="inlinecode"><span class="id" title="var">Observations.v</span></span>). Some results
     that don't hold for arbitrary <tt>ws</tt> live outside
     this section. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cobs_message_existing_other_lf" class="idref" href="#cobs_message_existing_other_lf"><span class="id" title="lemma">cobs_message_existing_other_lf</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:138" class="idref" href="#s:138"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:139" class="idref" href="#Hpr:139"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:138"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="so:140" class="idref" href="#so:140"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:141" class="idref" href="#i:141"><span class="id" title="binder">i</span></a> <a id="j:142" class="idref" href="#j:142"><span class="id" title="binder">j</span></a> <a id="target:143" class="idref" href="#target:143"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:144" class="idref" href="#Hdif:144"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:141"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:142"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':145" class="idref" href="#s':145"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:141"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:141"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:140"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:142"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:146" class="idref" href="#Hfull:146"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:141"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:142"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:140"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:142"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhave:147" class="idref" href="#Hhave:147"><span class="id" title="binder">Hhave</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:142"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:140"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:142"><span class="id" title="variable">j</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':145"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:143"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:143"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="k:149" class="idref" href="#k:149"><span class="id" title="binder">k</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#k:148"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsonb</span> : <span class="id" title="var">so</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hhave</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hhave</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_message_observations_nb"><span class="id" title="lemma">in_message_observations_nb</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hink</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">target</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">target</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hink</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hink'</span> <span class="id" title="var">Hink</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#new_incl_rest_same"><span class="id" title="lemma">new_incl_rest_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>; <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hink</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hink</span>|<span class="id" title="var">Hink</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hink</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hink</span>|<span class="id" title="var">Hink</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">Hhave</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#message_cross_observations"><span class="id" title="lemma">message_cross_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">e1</span> := (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">j</span> <span class="id" title="var">so</span>)) (<span class="id" title="var">i</span> := <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hink</span>;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hink</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hink'</span> <span class="id" title="var">Hink</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#new_incl_rest_diff"><span class="id" title="lemma">new_incl_rest_diff</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>; <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hink</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hink</span>|<span class="id" title="var">Hink</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">Hhave</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#message_cross_observations"><span class="id" title="lemma">message_cross_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">e1</span> := (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">j</span> <span class="id" title="var">so</span>)) (<span class="id" title="var">i</span> := <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cobs_message_existing_other_rt" class="idref" href="#cobs_message_existing_other_rt"><span class="id" title="lemma">cobs_message_existing_other_rt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:150" class="idref" href="#s:150"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:151" class="idref" href="#Hpr:151"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:150"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="so:152" class="idref" href="#so:152"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:153" class="idref" href="#i:153"><span class="id" title="binder">i</span></a> <a id="j:154" class="idref" href="#j:154"><span class="id" title="binder">j</span></a> <a id="target:155" class="idref" href="#target:155"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:156" class="idref" href="#Hdif:156"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:153"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:154"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':157" class="idref" href="#s':157"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:153"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:153"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:152"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:154"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:158" class="idref" href="#Hfull:158"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:153"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:154"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:152"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:154"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhave:159" class="idref" href="#Hhave:159"><span class="id" title="binder">Hhave</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:154"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:152"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:154"><span class="id" title="variable">j</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:155"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':157"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:155"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="k:161" class="idref" href="#k:161"><span class="id" title="binder">k</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#k:160"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsonb</span> : <span class="id" title="var">so</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hhave</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hhave</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_message_observations_nb"><span class="id" title="lemma">in_message_observations_nb</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#old_incl_new"><span class="id" title="lemma">old_incl_new</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">so</span> := <span class="id" title="var">so</span>) (<span class="id" title="var">i</span> := <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cobs_message_existing_other_rt'" class="idref" href="#cobs_message_existing_other_rt'"><span class="id" title="lemma">cobs_message_existing_other_rt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:162" class="idref" href="#s:162"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:163" class="idref" href="#Hpr:163"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:162"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="so:164" class="idref" href="#so:164"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsonb:165" class="idref" href="#Hsonb:165"><span class="id" title="binder">Hsonb</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:164"><span class="id" title="variable">so</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:166" class="idref" href="#i:166"><span class="id" title="binder">i</span></a> <a id="j:167" class="idref" href="#j:167"><span class="id" title="binder">j</span></a> <a id="target:168" class="idref" href="#target:168"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:169" class="idref" href="#Hdif:169"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:166"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:167"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':170" class="idref" href="#s':170"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:166"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:166"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:164"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:167"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:171" class="idref" href="#Hfull:171"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:166"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:167"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:164"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:167"><span class="id" title="variable">j</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:168"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':170"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:168"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="k:173" class="idref" href="#k:173"><span class="id" title="binder">k</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#k:172"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#old_incl_new"><span class="id" title="lemma">old_incl_new</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">so</span> := <span class="id" title="var">so</span>) (<span class="id" title="var">i</span> := <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cobs_message_existing_other" class="idref" href="#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:174" class="idref" href="#s:174"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:175" class="idref" href="#Hpr:175"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:174"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="so:176" class="idref" href="#so:176"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:177" class="idref" href="#i:177"><span class="id" title="binder">i</span></a> <a id="j:178" class="idref" href="#j:178"><span class="id" title="binder">j</span></a> <a id="target:179" class="idref" href="#target:179"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:180" class="idref" href="#Hdif:180"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:177"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:178"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':181" class="idref" href="#s':181"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:177"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:177"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:176"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:178"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:182" class="idref" href="#Hfull:182"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:177"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:178"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:176"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:178"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhave:183" class="idref" href="#Hhave:183"><span class="id" title="binder">Hhave</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:178"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:176"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:178"><span class="id" title="variable">j</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:179"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':181"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:179"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other_rt"><span class="id" title="lemma">cobs_message_existing_other_rt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other_lf"><span class="id" title="lemma">cobs_message_existing_other_lf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wcobs_message_existing_same1" class="idref" href="#wcobs_message_existing_same1"><span class="id" title="lemma">wcobs_message_existing_same1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:184" class="idref" href="#s:184"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:185" class="idref" href="#Hpr:185"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:184"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:186" class="idref" href="#b:186"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:187" class="idref" href="#i:187"><span class="id" title="binder">i</span></a> <a id="target:188" class="idref" href="#target:188"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:189" class="idref" href="#Hdif:189"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:187"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:188"><span class="id" title="variable">target</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':190" class="idref" href="#s':190"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:184"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:187"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:184"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:187"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:184"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:187"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:187"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#b:186"><span class="id" title="variable">b</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:184"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:188"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':190"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:188"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="k:192" class="idref" href="#k:192"><span class="id" title="binder">k</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#k:191"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#old_incl_new"><span class="id" title="lemma">old_incl_new</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">so</span> := (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<span class="id" title="var">i</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#cons_clean_message_obs"><span class="id" title="lemma">cons_clean_message_obs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b0</span> := <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wcobs_message_existing_same2" class="idref" href="#wcobs_message_existing_same2"><span class="id" title="lemma">wcobs_message_existing_same2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:193" class="idref" href="#s:193"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:194" class="idref" href="#Hpr:194"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:193"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:195" class="idref" href="#b:195"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:196" class="idref" href="#i:196"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':197" class="idref" href="#s':197"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:193"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:196"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:193"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:196"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:193"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:196"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:196"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#b:195"><span class="id" title="variable">b</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:193"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:196"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':197"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:196"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="k:199" class="idref" href="#k:199"><span class="id" title="binder">k</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#k:198"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">H'</span> <span class="id" title="var">H</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#old_incl_new"><span class="id" title="lemma">old_incl_new</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">so</span> := (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<span class="id" title="var">i</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#cons_clean_message_obs"><span class="id" title="lemma">cons_clean_message_obs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b0</span> := <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_future_message_obs" class="idref" href="#in_future_message_obs"><span class="id" title="lemma">in_future_message_obs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:200" class="idref" href="#s:200"><span class="id" title="binder">s</span></a> <a id="s':201" class="idref" href="#s':201"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:202" class="idref" href="#Hprs:202"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:200"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:203" class="idref" href="#target:203"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hf:204" class="idref" href="#Hf:204"><span class="id" title="binder">Hf</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:200"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':201"><span class="id" title="variable">s'</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:205" class="idref" href="#e:205"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:206" class="idref" href="#Hin:206"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:205"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:200"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:203"><span class="id" title="variable">target</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:205"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':201"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:203"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Hpr</span> <span class="id" title="var">Hlst</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#unroll_last"><span class="id" title="lemma">unroll_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hproto'</span> := <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hproto</span> <span class="id" title="var">Htrans</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtr</span> <span class="id" title="var">s0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition_destination"><span class="id" title="lemma">protocol_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">target</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_message_existing_same2"><span class="id" title="lemma">wcobs_message_existing_same2</span></a>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_message_existing_same1"><span class="id" title="lemma">wcobs_message_existing_same1</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_iom</span>;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other_rt'"><span class="id" title="lemma">cobs_message_existing_other_rt'</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hprs</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hex</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hex</span> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">target</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hex</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hex</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hex</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.EquivObsUtils"><span class="id" title="section">EquivObsUtils</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ws_incl_cobs" class="idref" href="#ws_incl_cobs"><span class="id" title="lemma">ws_incl_cobs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:207" class="idref" href="#s:207"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:208" class="idref" href="#i:208"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ws:209" class="idref" href="#ws:209"><span class="id" title="binder">ws</span></a> <a id="ws':210" class="idref" href="#ws':210"><span class="id" title="binder">ws'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hincl:211" class="idref" href="#Hincl:211"><span class="id" title="binder">Hincl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws':210"><span class="id" title="variable">ws'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws:209"><span class="id" title="variable">ws</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:212" class="idref" href="#e:212"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:212"><span class="id" title="variable">e</span></a> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws':210"><span class="id" title="variable">ws'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:207"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:208"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#e:212"><span class="id" title="variable">e</span></a> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws:209"><span class="id" title="variable">ws</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:207"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:208"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_events_fn"><span class="id" title="definition">composite_state_events_fn</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hinj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ws_incl_wE" class="idref" href="#ws_incl_wE"><span class="id" title="lemma">ws_incl_wE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:213" class="idref" href="#s:213"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ws:214" class="idref" href="#ws:214"><span class="id" title="binder">ws</span></a> <a id="ws':215" class="idref" href="#ws':215"><span class="id" title="binder">ws'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hincl:216" class="idref" href="#Hincl:216"><span class="id" title="binder">Hincl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws':215"><span class="id" title="variable">ws'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws:214"><span class="id" title="variable">ws</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws':215"><span class="id" title="variable">ws'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:213"><span class="id" title="variable">s</span></a>) (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws:214"><span class="id" title="variable">ws</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:213"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">He1</span> [<span class="id" title="var">He1'</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">He2</span> [<span class="id" title="var">He2'</span> <span class="id" title="var">Hcomp</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws_incl_cobs"><span class="id" title="lemma">ws_incl_cobs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">ws</span> := <span class="id" title="var">ws</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>. 2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws_incl_cobs"><span class="id" title="lemma">ws_incl_cobs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">ws</span> := <span class="id" title="var">ws</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>. 2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
GH := the set of globally honest validators: no evidence of equiv. exists at all.
     HH := the set of honest-looking-for-the-honest validators: members of GH have
     no evidence of equiv. regarding these validators.
     LH i := the set of locally honest validators (<tt>ws</tt> is a singleton). 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="GE" class="idref" href="#GE"><span class="id" title="definition">GE</span></a> := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="GH" class="idref" href="#GH"><span class="id" title="definition">GH</span></a> := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cobs" class="idref" href="#cobs"><span class="id" title="definition">cobs</span></a> (<a id="s:217" class="idref" href="#s:217"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:217"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cobs_messages" class="idref" href="#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> (<a id="s:218" class="idref" href="#s:218"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:218"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cobs_states" class="idref" href="#cobs_states"><span class="id" title="definition">cobs_states</span></a> (<a id="s:219" class="idref" href="#s:219"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:219"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HE" class="idref" href="#HE"><span class="id" title="definition">HE</span></a> (<a id="s:220" class="idref" href="#s:220"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:220"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:220"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="HH" class="idref" href="#HH"><span class="id" title="definition">HH</span></a> (<a id="s:221" class="idref" href="#s:221"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:221"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:221"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="hcobs" class="idref" href="#hcobs"><span class="id" title="definition">hcobs</span></a> (<a id="s:222" class="idref" href="#s:222"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:222"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:222"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="hcobs_messages" class="idref" href="#hcobs_messages"><span class="id" title="definition">hcobs_messages</span></a> (<a id="s:223" class="idref" href="#s:223"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:223"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:223"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="hcobs_states" class="idref" href="#hcobs_states"><span class="id" title="definition">hcobs_states</span></a> (<a id="s:224" class="idref" href="#s:224"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) := @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:224"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:224"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="LE" class="idref" href="#LE"><span class="id" title="definition">LE</span></a> (<a id="i:225" class="idref" href="#i:225"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) := (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:225"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="LH" class="idref" href="#LH"><span class="id" title="definition">LH</span></a> (<a id="i:226" class="idref" href="#i:226"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>) := (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH"><span class="id" title="definition">wH</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:226"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="GH_NoDup" class="idref" href="#GH_NoDup"><span class="id" title="lemma">GH_NoDup</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:227" class="idref" href="#s:227"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:227"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_filter"><span class="id" title="lemma">NoDup_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cobs_message_existing_same1" class="idref" href="#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:228" class="idref" href="#s:228"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:229" class="idref" href="#Hpr:229"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:228"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:230" class="idref" href="#b:230"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:231" class="idref" href="#i:231"><span class="id" title="binder">i</span></a> <a id="target:232" class="idref" href="#target:232"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:233" class="idref" href="#Hdif:233"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:231"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:232"><span class="id" title="variable">target</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':234" class="idref" href="#s':234"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:228"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:231"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:228"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:231"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:228"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:231"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:231"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#b:230"><span class="id" title="variable">b</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':234"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:232"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:228"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#target:232"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_extract_forall"><span class="id" title="lemma">set_eq_extract_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#cons_clean_message_obs"><span class="id" title="lemma">cons_clean_message_obs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#new_incl_rest_diff"><span class="id" title="lemma">new_incl_rest_diff</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>|<span class="id" title="tactic">intuition</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> :<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>. <span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_message_existing_same1"><span class="id" title="lemma">wcobs_message_existing_same1</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cobs_message_existing_same2" class="idref" href="#cobs_message_existing_same2"><span class="id" title="lemma">cobs_message_existing_same2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:235" class="idref" href="#s:235"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:236" class="idref" href="#Hpr:236"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:235"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:237" class="idref" href="#b:237"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:238" class="idref" href="#i:238"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':239" class="idref" href="#s':239"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#b:237"><span class="id" title="variable">b</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':239"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:238"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_extract_forall"><span class="id" title="lemma">set_eq_extract_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#cons_clean_message_obs"><span class="id" title="lemma">cons_clean_message_obs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b0</span> := <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#new_incl_rest_same"><span class="id" title="lemma">new_incl_rest_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>];[|<span class="id" title="tactic">right</span>;<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; (<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>|<span class="id" title="tactic">intuition</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-  <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_message_existing_same2"><span class="id" title="lemma">wcobs_message_existing_same2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#cons_clean_message_obs"><span class="id" title="lemma">cons_clean_message_obs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b0</span> := <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>) <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_same"><span class="id" title="lemma">project_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#refold_simp_lv_observations1"><span class="id" title="lemma">refold_simp_lv_observations1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The following set of results allow us to conclude that our
     common future-finding procedure maintains the same set of globally
     honest validators. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GE_existing_same_state_message" class="idref" href="#GE_existing_same_state_message"><span class="id" title="lemma">GE_existing_same_state_message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:240" class="idref" href="#s:240"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="es2:241" class="idref" href="#es2:241"><span class="id" title="binder">es2</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:242" class="idref" href="#Hprs:242"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:240"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:243" class="idref" href="#b:243"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:244" class="idref" href="#i:244"><span class="id" title="binder">i</span></a> <a id="v:245" class="idref" href="#v:245"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':246" class="idref" href="#s':246"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:244"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:244"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:244"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:244"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#b:243"><span class="id" title="variable">b</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hine2:247" class="idref" href="#Hine2:247"><span class="id" title="binder">Hine2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:245"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#es2:241"><span class="id" title="variable">es2</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':246"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:245"><span class="id" title="variable">v</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hcomp:248" class="idref" href="#Hcomp:248"><span class="id" title="binder">Hcomp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:245"><span class="id" title="variable">v</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':246"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:245"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:245"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#es2:241"><span class="id" title="variable">es2</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:245"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same2"><span class="id" title="lemma">cobs_message_existing_same2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">v</span> <span class="id" title="var">es2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#state_obs_stuff_cons"><span class="id" title="lemma">state_obs_stuff_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">v</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">so</span> := (<span class="id" title="var">s</span> <span class="id" title="var">v</span>)) (<span class="id" title="var">i</span> := <span class="id" title="var">v</span>) (<span class="id" title="var">b</span> := <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span>; [|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#history_disregards_cv"><span class="id" title="lemma">history_disregards_cv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_cons"><span class="id" title="lemma">unfold_history_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_same"><span class="id" title="lemma">project_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_same"><span class="id" title="lemma">project_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 3 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">v</span> <span class="id" title="var">es2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GE_existing_same" class="idref" href="#GE_existing_same"><span class="id" title="lemma">GE_existing_same</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:249" class="idref" href="#s:249"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:250" class="idref" href="#Hprs:250"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:249"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:251" class="idref" href="#b:251"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:252" class="idref" href="#i:252"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':253" class="idref" href="#s':253"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:249"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:252"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:249"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:252"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:249"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:252"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:252"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#b:251"><span class="id" title="variable">b</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':253"><span class="id" title="variable">s'</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:249"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hev</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">Hine1</span> [<span class="id" title="var">He1subj</span> <span class="id" title="var">Hrem</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">Hine2</span> [<span class="id" title="var">He2subj</span> <span class="id" title="var">Hcomp</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et1</span> <span class="id" title="var">ev1</span> <span class="id" title="var">es1</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et2</span> <span class="id" title="var">ev2</span> <span class="id" title="var">es2</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hv</span> : <span class="id" title="var">ev1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">ev2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He2subj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv1</span> <span class="id" title="var">Hv2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ev1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">ev2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine1</span>|<span class="id" title="var">Hine1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">es1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ </div>

<div class="doc">
State and state : immediate contradiction 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*State&nbsp;and&nbsp;message&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_same_state_message"><span class="id" title="lemma">GE_existing_same_state_message</span></a> <span class="id" title="var">s</span> <span class="id" title="var">es2</span> <span class="id" title="var">Hprs</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span> <span class="id" title="var">Hine2</span> <span class="id" title="var">Hcomp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hev</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hev</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_same_state_message"><span class="id" title="lemma">GE_existing_same_state_message</span></a> <span class="id" title="var">s</span> <span class="id" title="var">es1</span> <span class="id" title="var">Hprs</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span> <span class="id" title="var">Hine1</span> <span class="id" title="var">Hcomp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hev</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hev</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>, <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same2"><span class="id" title="lemma">cobs_message_existing_same2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same2"><span class="id" title="lemma">cobs_message_existing_same2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine1</span>|<span class="id" title="var">Hine1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span>;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>];[<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine1</span>;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>];[<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine1</span>|];[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|];[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">es1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>, <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 3 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 3 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GE_existing_different_state_message" class="idref" href="#GE_existing_different_state_message"><span class="id" title="lemma">GE_existing_different_state_message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:254" class="idref" href="#s:254"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:255" class="idref" href="#Hprs:255"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:254"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:256" class="idref" href="#i:256"><span class="id" title="binder">i</span></a> <a id="j:257" class="idref" href="#j:257"><span class="id" title="binder">j</span></a> <a id="v:258" class="idref" href="#v:258"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:259" class="idref" href="#Hdif:259"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:256"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:257"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="es2:260" class="idref" href="#es2:260"><span class="id" title="binder">es2</span></a> <a id="so:261" class="idref" href="#so:261"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':262" class="idref" href="#s':262"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:256"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:256"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:261"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:257"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:263" class="idref" href="#Hfull:263"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:256"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:257"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:261"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:257"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhave:264" class="idref" href="#Hhave:264"><span class="id" title="binder">Hhave</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:257"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:261"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs"><span class="id" title="definition">cobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:257"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hine2:265" class="idref" href="#Hine2:265"><span class="id" title="binder">Hine2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:258"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#es2:260"><span class="id" title="variable">es2</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':262"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:258"><span class="id" title="variable">v</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hcomp:266" class="idref" href="#Hcomp:266"><span class="id" title="binder">Hcomp</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:258"><span class="id" title="variable">v</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':262"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:258"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:258"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#es2:260"><span class="id" title="variable">es2</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#v:258"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="k:268" class="idref" href="#k:268"><span class="id" title="binder">k</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#k:267"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsonb</span> : <span class="id" title="var">so</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hhave</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_message_observations_nb"><span class="id" title="lemma">in_message_observations_nb</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 3, 4, 5: <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">v</span> <span class="id" title="var">es2</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s</span> <span class="id" title="var">v</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#state_obs_stuff"><span class="id" title="lemma">state_obs_stuff</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">so</span> := <span class="id" title="var">so</span>) (<span class="id" title="var">i0</span> := <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GE_existing_different" class="idref" href="#GE_existing_different"><span class="id" title="lemma">GE_existing_different</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:269" class="idref" href="#s:269"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:270" class="idref" href="#Hpr:270"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:269"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="so:271" class="idref" href="#so:271"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:272" class="idref" href="#i:272"><span class="id" title="binder">i</span></a> <a id="j:273" class="idref" href="#j:273"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:274" class="idref" href="#Hdif:274"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:272"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:273"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':275" class="idref" href="#s':275"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:269"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:272"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:269"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:272"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:271"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:273"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:276" class="idref" href="#Hfull:276"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:269"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:272"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:273"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:271"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:273"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhave:277" class="idref" href="#Hhave:277"><span class="id" title="binder">Hhave</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:273"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:271"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs"><span class="id" title="definition">cobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:269"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:273"><span class="id" title="variable">j</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':275"><span class="id" title="variable">s'</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:269"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hev</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">Hine1</span> [<span class="id" title="var">He1subj</span> <span class="id" title="var">Hrem</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">Hine2</span> [<span class="id" title="var">He2subj</span> <span class="id" title="var">Hcomp</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et1</span> <span class="id" title="var">ev1</span> <span class="id" title="var">es1</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et2</span> <span class="id" title="var">ev2</span> <span class="id" title="var">es2</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hv</span> : <span class="id" title="var">ev1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">ev2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He2subj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv1</span> <span class="id" title="var">Hv2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ev1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">ev2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine1</span>|<span class="id" title="var">Hine1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_different_state_message"><span class="id" title="lemma">GE_existing_different_state_message</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">v</span> <span class="id" title="var">Hdif</span> <span class="id" title="var">es2</span> <span class="id" title="var">so</span> <span class="id" title="var">Hfull</span> <span class="id" title="var">Hhave</span> <span class="id" title="var">Hine2</span> <span class="id" title="var">Hcomp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_different_state_message"><span class="id" title="lemma">GE_existing_different_state_message</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">v</span> <span class="id" title="var">Hdif</span> <span class="id" title="var">es1</span> <span class="id" title="var">so</span> <span class="id" title="var">Hfull</span> <span class="id" title="var">Hhave</span> <span class="id" title="var">Hine1</span> <span class="id" title="var">Hcomp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 3, 4, 5: <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 3, 4, 5: <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GE_existing_same_rev" class="idref" href="#GE_existing_same_rev"><span class="id" title="lemma">GE_existing_same_rev</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:278" class="idref" href="#s:278"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:279" class="idref" href="#Hprs:279"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:278"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:280" class="idref" href="#b:280"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:281" class="idref" href="#i:281"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhonest:282" class="idref" href="#Hhonest:282"><span class="id" title="binder">Hhonest</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:281"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:278"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':283" class="idref" href="#s':283"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:278"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:281"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:278"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:281"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:278"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:281"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:281"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#b:280"><span class="id" title="variable">b</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:278"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':283"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hev</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">Hine1</span> [<span class="id" title="var">He1subj</span> <span class="id" title="var">Hrem</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">Hine2</span> [<span class="id" title="var">He2subj</span> <span class="id" title="var">Hcomp</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et1</span> <span class="id" title="var">ev1</span> <span class="id" title="var">es1</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et2</span> <span class="id" title="var">ev2</span> <span class="id" title="var">es2</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hv</span> : <span class="id" title="var">ev1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">ev2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He2subj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv1</span> <span class="id" title="var">Hv2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ev1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">ev2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine1</span>|<span class="id" title="var">Hine1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">es1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s'</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s'</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)); [<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>;<span class="id" title="tactic">intuition</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_same1"><span class="id" title="lemma">cobs_message_existing_same1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GE_existing_different_rev" class="idref" href="#GE_existing_different_rev"><span class="id" title="lemma">GE_existing_different_rev</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:284" class="idref" href="#s:284"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:285" class="idref" href="#Hpr:285"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:284"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="so:286" class="idref" href="#so:286"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:287" class="idref" href="#i:287"><span class="id" title="binder">i</span></a> <a id="j:288" class="idref" href="#j:288"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:289" class="idref" href="#Hdif:289"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:287"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:288"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':290" class="idref" href="#s':290"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:287"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:287"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:286"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:288"><span class="id" title="variable">j</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfull:291" class="idref" href="#Hfull:291"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#i:287"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:288"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:286"><span class="id" title="variable">so</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:288"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhave:292" class="idref" href="#Hhave:292"><span class="id" title="binder">Hhave</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:288"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:286"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs"><span class="id" title="definition">cobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#j:288"><span class="id" title="variable">j</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:284"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s':290"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsonb</span> : <span class="id" title="var">so</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_and_message"><span class="id" title="lemma">in_cobs_and_message</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hhave</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_message_observations_nb"><span class="id" title="lemma">in_message_observations_nb</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hev</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">Hine1</span> [<span class="id" title="var">He1subj</span> <span class="id" title="var">Hrem</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">Hine2</span> [<span class="id" title="var">He2subj</span> <span class="id" title="var">Hcomp</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et1</span> <span class="id" title="var">ev1</span> <span class="id" title="var">es1</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">et2</span> <span class="id" title="var">ev2</span> <span class="id" title="var">es2</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hv</span> : <span class="id" title="var">ev1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">ev2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He2subj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2subj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv1</span> <span class="id" title="var">Hv2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">ev1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">ev2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine1</span>|<span class="id" title="var">Hine1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s'</span> <span class="id" title="var">v</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> :<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>];[<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>];[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">so</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#eq_history_eq_project"><span class="id" title="lemma">eq_history_eq_project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_different"><span class="id" title="lemma">project_different</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine2</span>|<span class="id" title="var">Hine2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states"><span class="id" title="lemma">in_cobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#unique_state_observation"><span class="id" title="lemma">unique_state_observation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hine2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">v</span> (<span class="id" title="var">s'</span> <span class="id" title="var">v</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> :<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>];[<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">contra</span>|<span class="id" title="var">contra</span>];[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">so</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#eq_history_eq_project"><span class="id" title="lemma">eq_history_eq_project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_different"><span class="id" title="lemma">project_different</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Hsnb"><span class="id" title="lemma">Hsnb</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable_commutative"><span class="id" title="lemma">comparable_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages"><span class="id" title="lemma">in_cobs_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Het2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Het2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">et2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> :<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_message_existing_other"><span class="id" title="lemma">cobs_message_existing_other</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="receive_plan_preserves_equivocation" class="idref" href="#receive_plan_preserves_equivocation"><span class="id" title="lemma">receive_plan_preserves_equivocation</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:293" class="idref" href="#s:293"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:294" class="idref" href="#Hpr:294"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:293"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:295" class="idref" href="#a:295"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#plan"><span class="id" title="definition">plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr_a:296" class="idref" href="#Hpr_a:296"><span class="id" title="binder">Hpr_a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:293"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:295"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hgood:300" class="idref" href="#Hgood:300"><span class="id" title="binder">Hgood</span></a> : <span class="id" title="keyword">forall</span> (<a id="ai:297" class="idref" href="#ai:297"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:297"><span class="id" title="variable">ai</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:295"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:297"><span class="id" title="variable">ai</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="so:298" class="idref" href="#so:298"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>) (<a id="from:299" class="idref" href="#from:299"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ai:297"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#from:299"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:298"><span class="id" title="variable">so</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#from:299"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#so:298"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:293"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#from:299"><span class="id" title="variable">from</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:301" class="idref" href="#res:301"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:293"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#a:295"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#s:293"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#res:301"><span class="id" title="variable">res</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpr_a'</span> := <span class="id" title="var">Hpr_a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="definition">apply_plan_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_long</span>, <span class="id" title="var">res_long</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_short</span>, <span class="id" title="var">res_short</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_long</span>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short</span>; <span class="id" title="tactic">intuition</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_tran"><span class="id" title="lemma">set_eq_tran</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s2</span> := <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">res_long</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ai</span> <span class="id" title="var">Hai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hgood</span> <span class="id" title="var">ai</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hgood</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>, <a class="idref" href="CasperCBC.VLSM.Plans.html#_apply_plan"><span class="id" title="definition">_apply_plan</span></a>. <span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hgood</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hgood</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">label_a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">res_long</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">input_a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">label_a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hgood</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hgood</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpr_a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpr_a2</span> <span class="id" title="var">Hpr_a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_one"><span class="id" title="lemma">finite_protocol_plan_from_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">Hpr_a</span> <span class="id" title="tactic">at</span> <span class="id" title="var">bottom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpr_a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpr_a</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">input_a</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_input</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hgood</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> [<span class="id" title="var">from</span> [<span class="id" title="var">Heqm</span> <span class="id" title="var">Hinso</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">eq_trans</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">from</span> <span class="id" title="var">so</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs"><span class="id" title="definition">cobs</span></a> <span class="id" title="var">res_long</span> <span class="id" title="var">from</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_future_message_obs"><span class="id" title="lemma">in_future_message_obs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">s</span> <span class="id" title="var">res_long</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">from</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hf</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last"><span class="id" title="definition">apply_plan_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">from</span> <span class="id" title="var">so</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_different_rev"><span class="id" title="lemma">GE_existing_different_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_different"><span class="id" title="lemma">GE_existing_different</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#Composition"><span class="id" title="section">Composition</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
