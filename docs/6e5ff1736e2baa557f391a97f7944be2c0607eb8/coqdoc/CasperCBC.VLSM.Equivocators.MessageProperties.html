<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write("<a href='" + document.title + ".svg'>" + document.title + "</a>")</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">ListSet</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#"><span class="id" title="library">Coq.Vectors.Fin</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Compare_dec.html#"><span class="id" title="library">Arith.Compare_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a><br/>
&nbsp;&nbsp;.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="CasperCBC.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#"><span class="id" title="library">ListSetExtras</span></a> <a class="idref" href="CasperCBC.Lib.FinExtras.html#"><span class="id" title="library">FinExtras</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#"><span class="id" title="library">VLSM.Common</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#"><span class="id" title="library">VLSM.Equivocation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#"><span class="id" title="library">VLSM.Equivocators.Common</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#"><span class="id" title="library">VLSM.Equivocators.Projections</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties" class="idref" href="#equivocator_vlsm_message_properties"><span class="id" title="section">equivocator_vlsm_message_properties</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab45"></a><h1 class="section">Lifting properties about sent messages to the equivocators</h1>


<div class="paragraph"> </div>

In this section we first prove some general properties about sent messages
being preserved and reflected by the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>, and then we show
that the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="record">has_been_sent_capability</span></a></span> and the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="record">computable_sent_messages</span></a></span>
can be lifted (each separately) from the original machine to the
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="X:2" class="idref" href="#X:2"><span class="id" title="binder">X</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocator_vlsm:3" class="idref" href="#equivocator_vlsm:3"><span class="id" title="binder">equivocator_vlsm</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#X:2"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="MachineDescriptor:4" class="idref" href="#MachineDescriptor:4"><span class="id" title="binder">MachineDescriptor</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#MachineDescriptor"><span class="id" title="inductive">MachineDescriptor</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#X:2"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
If a projection of an <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> trace <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a></span>s a message, then
the original trace must do so too.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_vlsm_trace_project_output_reflecting" class="idref" href="#equivocator_vlsm_trace_project_output_reflecting"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting</span></a><br/>
&nbsp;&nbsp;(<a id="tr:5" class="idref" href="#tr:5"><span class="id" title="binder">tr</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="trX:6" class="idref" href="#trX:6"><span class="id" title="binder">trX</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;(<a id="j:7" class="idref" href="#j:7"><span class="id" title="binder">j</span></a> <a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a>)<br/>
&nbsp;&nbsp;(<a id="HtrX:9" class="idref" href="#HtrX:9"><span class="id" title="binder">HtrX</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:5"><span class="id" title="variable">tr</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#j:7"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#trX:6"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#i:8"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hjbs:11" class="idref" href="#Hjbs:11"><span class="id" title="binder">Hjbs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:10"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#trX:6"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:10"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:5"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">trX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HtrX</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hjbs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">tr</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">trX'</span>, <span class="id" title="var">i'</span>)|]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqn</span>:<span class="id" title="var">Htr</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtr</span> <span class="id" title="var">trX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">i'</span>) <span class="id" title="keyword">as</span> [[[<span class="id" title="var">item'</span>|] <span class="id" title="var">i''</span>]|]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqn</span>:<span class="id" title="var">Hitem'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HtrX</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_transition_item_project_inv_messages"><span class="id" title="lemma">equivocator_transition_item_project_inv_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ha</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hjbs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtr</span> <span class="id" title="var">H0</span> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtr</span> <span class="id" title="var">Hjbs</span> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_equivocator_vlsm_trace_project_protocol_item_new_machine" class="idref" href="#preloaded_equivocator_vlsm_trace_project_protocol_item_new_machine"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_protocol_item_new_machine</span></a><br/>
&nbsp;&nbsp;(<a id="bs:12" class="idref" href="#bs:12"><span class="id" title="binder">bs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="btr:13" class="idref" href="#btr:13"><span class="id" title="binder">btr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hbtr:14" class="idref" href="#Hbtr:14"><span class="id" title="binder">Hbtr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bs:12"><span class="id" title="variable">bs</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#btr:13"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="bitem:15" class="idref" href="#bitem:15"><span class="id" title="binder">bitem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hitem:16" class="idref" href="#Hitem:16"><span class="id" title="binder">Hitem</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#btr:13"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="sn:17" class="idref" href="#sn:17"><span class="id" title="binder">sn</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hnew:18" class="idref" href="#Hnew:18"><span class="id" title="binder">Hnew</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#NewMachine"><span class="id" title="constructor">NewMachine</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#sn:17"><span class="id" title="variable">sn</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="d:19" class="idref" href="#d:19"><span class="id" title="binder">d</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#d:19"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:15"><span class="id" title="variable">bitem</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bprefix</span> [<span class="id" title="var">bsuffix</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">btr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_app_iff"><span class="id" title="lemma">finite_protocol_trace_from_app_iff</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hbtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbtr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hbprefix</span> <span class="id" title="var">Hbsuffix</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Hbsuffix</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbsuffix</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hv</span>]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_protocol_transition_item_project_inv5_new_machine"><span class="id" title="lemma">equivocator_protocol_transition_item_project_inv5_new_machine</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">lst</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hpitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (@<a class="idref" href="CasperCBC.VLSM.Common.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a> (@<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">Common.equivocator_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>)) <span class="id" title="var">l</span> <span class="id" title="var">iom</span> <span class="id" title="var">s</span> <span class="id" title="var">oom</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">bitem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">Common.l</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">dl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnew</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">dl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hpitem</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hpitem</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsndl</span> <span class="id" title="var">Hiom</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hpitem</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
For any <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a></span> in a protocol trace segment of an
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> there exists a projection of that trace containing
the projection of the item.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="preloaded_equivocator_vlsm_trace_project_protocol_item" class="idref" href="#preloaded_equivocator_vlsm_trace_project_protocol_item"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_protocol_item</span></a><br/>
&nbsp;&nbsp;(<a id="bs:20" class="idref" href="#bs:20"><span class="id" title="binder">bs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="btr:21" class="idref" href="#btr:21"><span class="id" title="binder">btr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hbtr:22" class="idref" href="#Hbtr:22"><span class="id" title="binder">Hbtr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bs:20"><span class="id" title="variable">bs</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#btr:21"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="bitem:23" class="idref" href="#bitem:23"><span class="id" title="binder">bitem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hitem:24" class="idref" href="#Hitem:24"><span class="id" title="binder">Hitem</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:23"><span class="id" title="variable">bitem</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#btr:21"><span class="id" title="variable">btr</span></a>)<br/>
&nbsp;&nbsp;(<a id="idl:25" class="idref" href="#idl:25"><span class="id" title="binder">idl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="fdl:26" class="idref" href="#fdl:26"><span class="id" title="binder">fdl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hlbitem:27" class="idref" href="#Hlbitem:27"><span class="id" title="binder">Hlbitem</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:23"><span class="id" title="variable">bitem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#idl:25"><span class="id" title="variable">idl</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#fdl:26"><span class="id" title="variable">fdl</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="item:28" class="idref" href="#item:28"><span class="id" title="binder">item</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="d:29" class="idref" href="#d:29"><span class="id" title="binder">d</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:23"><span class="id" title="variable">bitem</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#d:29"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#item:28"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bitem:23"><span class="id" title="variable">bitem</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="tr:30" class="idref" href="#tr:30"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#item:28"><span class="id" title="variable">item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:30"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="dfinal:31" class="idref" href="#dfinal:31"><span class="id" title="binder">dfinal</span></a> <a id="dfirst:32" class="idref" href="#dfirst:32"><span class="id" title="binder">dfirst</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#proper_descriptor"><span class="id" title="definition">proper_descriptor</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#dfirst:32"><span class="id" title="variable">dfirst</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bs:20"><span class="id" title="variable">bs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#proper_descriptor"><span class="id" title="definition">proper_descriptor</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#dfinal:31"><span class="id" title="variable">dfinal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#btr:21"><span class="id" title="variable">btr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bs:20"><span class="id" title="variable">bs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#btr:21"><span class="id" title="variable">btr</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#dfinal:31"><span class="id" title="variable">dfinal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:30"><span class="id" title="variable">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#dfirst:32"><span class="id" title="variable">dfirst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_protocol_trace_project_inv2"><span class="id" title="lemma">preloaded_equivocator_vlsm_protocol_trace_project_inv2</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">bs</span> <span class="id" title="var">btr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinv2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinv2</span>. { <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hitem</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinv2</span> <span class="id" title="var">Hbtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bprefix</span> [<span class="id" title="var">bsuffix</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">btr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_app_iff"><span class="id" title="lemma">finite_protocol_trace_from_app_iff</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hbtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbtr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hbprefix</span> <span class="id" title="var">Hbsuffix</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Hbsuffix</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbsuffix</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hv</span>]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_protocol_transition_item_project_inv5"><span class="id" title="lemma">equivocator_protocol_transition_item_project_inv5</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">lst</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (@<a class="idref" href="CasperCBC.VLSM.Common.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a> (@<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a> (@<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">Common.equivocator_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>)) <span class="id" title="var">l</span> <span class="id" title="var">iom</span> <span class="id" title="var">s</span> <span class="id" title="var">oom</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">bitem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">Common.l</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">dl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlbitem</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">dl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hpitem</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hi</span> [<span class="id" title="var">itemx</span> <span class="id" title="var">Hitemx</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">dfinal</span> := <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_trace_project_protocol_inv"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_protocol_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">fsuffix</span> [<span class="id" title="var">suffix</span> <span class="id" title="var">Hsuffix</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hpitem</span> <span class="id" title="var">fsuffix</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_i</span> [<span class="id" title="var">_Hi</span> [<span class="id" title="var">_itemx</span> <span class="id" title="var">_Hitemx</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_transition_item_project_some_inj"><span class="id" title="lemma">equivocator_vlsm_transition_item_project_some_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hitemx</span> <span class="id" title="var">_Hitemx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">H_i</span> [<span class="id" title="var">H_itemx</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">_i</span> <span class="id" title="var">_itemx</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hitemx</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">_Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemx</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_Hitemx</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">fsuffix</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">dsuffix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hitem</span> : <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">bitem</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">dsuffix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">bitem</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">dsuffix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">bitem</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">lbitem</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlbitem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">_Hitemx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project_app_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_app_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">Hsuffix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hsuffix'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_Hitemx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_protocol_transition_item_project_inv2"><span class="id" title="lemma">equivocator_protocol_transition_item_project_inv2</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">idl</span> <span class="id" title="var">fdl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">lst</span> <span class="id" title="var">s</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_Hitemx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_i</span> [<span class="id" title="var">_fi</span> [<span class="id" title="var">_Hdsuffix</span> [<span class="id" title="var">_Hi</span> [<span class="id" title="var">Heqitemx</span> <span class="id" title="var">Hd'</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqdsuffix</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_Hdsuffix</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">_Hdsuffix</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">_i</span> <span class="id" title="var">_fi</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">_Hdsuffix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">_Hi</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_ext"><span class="id" title="lemma">of_nat_ext</span></a>. <span class="id" title="tactic">clear</span> <span class="id" title="var">_Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_i'</span> [<span class="id" title="var">_fi'</span> [<span class="id" title="var">_Heq</span> [<span class="id" title="var">id</span> [<span class="id" title="var">Hvs'</span> <span class="id" title="var">Hts'</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">_Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">_i'</span> <span class="id" title="var">_fi'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">_Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_trace_project_protocol"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_protocol</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hbprefix</span> <span class="id" title="var">idl</span> <span class="id" title="var">id</span> <span class="id" title="var">fdl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">dfirst</span> [<span class="id" title="var">Hprefix</span> <span class="id" title="var">_</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project_app_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_app_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hprefix</span> <span class="id" title="var">Hsuffix'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lbitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">itemx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">suffix</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinv2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinv2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hdfinal</span> <span class="id" title="var">Hdinitial</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [..|<span class="id" title="tactic">apply</span> <span class="id" title="var">Htr</span>]; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hdinitial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">dfirst</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">j</span> <span class="id" title="var">fj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdinitial</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hsn</span>]]. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdinitial</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hdinitial</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If an <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>'s protocol trace segment <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a></span>s a message, then
one of its projections must do so too.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_vlsm_trace_project_output_reflecting_inv" class="idref" href="#equivocator_vlsm_trace_project_output_reflecting_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting_inv</span></a><br/>
&nbsp;&nbsp;(<a id="is:33" class="idref" href="#is:33"><span class="id" title="binder">is</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:34" class="idref" href="#tr:34"><span class="id" title="binder">tr</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:35" class="idref" href="#Htr:35"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#is:33"><span class="id" title="variable">is</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:36" class="idref" href="#m:36"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hbbs:37" class="idref" href="#Hbbs:37"><span class="id" title="binder">Hbbs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:36"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="j:38" class="idref" href="#j:38"><span class="id" title="binder">j</span></a> <a id="i:39" class="idref" href="#i:39"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.MachineDescriptor"><span class="id" title="variable">MachineDescriptor</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:40" class="idref" href="#Hi:40"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#proper_descriptor"><span class="id" title="definition">proper_descriptor</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#i:39"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#is:33"><span class="id" title="variable">is</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hj:41" class="idref" href="#Hj:41"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#proper_descriptor"><span class="id" title="definition">proper_descriptor</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#j:38"><span class="id" title="variable">j</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#is:33"><span class="id" title="variable">is</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="trX:42" class="idref" href="#trX:42"><span class="id" title="binder">trX</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HtrX:43" class="idref" href="#HtrX:43"><span class="id" title="binder">HtrX</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project"><span class="id" title="definition">equivocator_vlsm_trace_project</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#tr:34"><span class="id" title="variable">tr</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#j:38"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#trX:42"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#i:39"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:36"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#trX:42"><span class="id" title="variable">trX</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbbs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbbs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Houtput</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span> <span class="id" title="var">fi</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsndl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#preloaded_equivocator_vlsm_trace_project_protocol_item_new_machine"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_protocol_item_new_machine</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsndl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hcontra</span> <span class="id" title="var">_</span>]]. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#preloaded_equivocator_vlsm_trace_project_protocol_item"><span class="id" title="lemma">preloaded_equivocator_vlsm_trace_project_protocol_item</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsndl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemx</span> [[<span class="id" title="var">d</span> <span class="id" title="var">Hitemx</span>] [<span class="id" title="var">trx</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">ifinal</span> [<span class="id" title="var">ifirst</span> [<span class="id" title="var">Hifirst</span> [<span class="id" title="var">Hifinal</span> <span class="id" title="var">Htrx</span>]]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ifinal</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">ifirst</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">trx</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Htrx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">itemx</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_transition_item_project_inv_messages"><span class="id" title="lemma">equivocator_transition_item_project_inv_messages</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitemx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hitemx</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties.has_been_sent_lifting" class="idref" href="#equivocator_vlsm_message_properties.has_been_sent_lifting"><span class="id" title="section">has_been_sent_lifting</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab46"></a><h2 class="section">Lifting the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="record">has_been_sent_capability</span></a></span></h2>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="Hbs:44" class="idref" href="#Hbs:44"><span class="id" title="binder">Hbs</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
We define <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> for the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> as being sent by any
of the internal machines.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_has_been_sent" class="idref" href="#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:45" class="idref" href="#s:45"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:46" class="idref" href="#m:46"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="n:47" class="idref" href="#n:47"><span class="id" title="binder">n</span></a>, <a id="bs:48" class="idref" href="#bs:48"><span class="id" title="binder">bs</span></a>) := <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:45"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:49" class="idref" href="#i:49"><span class="id" title="binder">i</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#t"><span class="id" title="inductive">Fin.t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#n:47"><span class="id" title="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#bs:48"><span class="id" title="variable">bs</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#i:49"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:46"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="equivocator_has_been_sent_dec" class="idref" href="#equivocator_has_been_sent_dec"><span class="id" title="instance">equivocator_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">n</span> <span class="id" title="var">bs</span>] <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="i:51" class="idref" href="#i:51"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> (<span class="id" title="var">bs</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#i:50"><span class="id" title="variable">i</span></a>) <span class="id" title="var">m</span>) (<a class="idref" href="CasperCBC.Lib.FinExtras.html#fin_t_listing"><span class="id" title="definition">fin_t_listing</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]];<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>;<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">H</span>];<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">solve</span>[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.FinExtras.html#fin_t_full"><span class="id" title="lemma">fin_t_full</span></a>]|<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#Exists_dec"><span class="id" title="instance">Exists_dec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> has the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a></span>
for <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a></span> messages, meaning that if a message is sent in a trace leading
to state s, then it must be seen in all traces.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_has_been_sent_consistency" class="idref" href="#equivocator_has_been_sent_consistency"><span class="id" title="lemma">equivocator_has_been_sent_consistency</span></a><br/>
&nbsp;&nbsp;(<a id="s:52" class="idref" href="#s:52"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:53" class="idref" href="#Hs:53"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:52"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:52"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:54"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">bis</span> [<span class="id" title="var">btr</span> [<span class="id" title="var">Hbtr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">Hsome</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hbtr</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hsome</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">i</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">Hproject</span> <span class="id" title="var">Hsomex</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">j</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sj</span> | <span class="id" title="var">j</span> <span class="id" title="var">fj</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">solve</span>[<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project_on_new_machine"><span class="id" title="lemma">equivocator_vlsm_trace_project_on_new_machine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproject</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hproject</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsomex</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hntr</span> : <span class="id" title="var">btr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsome</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_protocol_trace_project_inv2"><span class="id" title="lemma">preloaded_equivocator_vlsm_protocol_trace_project_inv2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hntr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hbtr</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproject</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">HpreX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HpreX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HpreX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hj</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_last_pstate"><span class="id" title="lemma">finite_ptrace_last_pstate</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>  (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hbtr</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hpbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#preloaded_equivocator_state_project_protocol_state"><span class="id" title="lemma">preloaded_equivocator_state_project_protocol_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpbs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hall</span> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_all_preloaded_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hj</span>)) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span> <span class="id" title="var">fi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlastx</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlastx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sn</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">trX</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">HtrX</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlastx</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> [<span class="id" title="var">Hlastx</span> [<span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HinitX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Hbtr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">bis</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hi</span>)). <span class="id" title="tactic">exists</span> <span class="id" title="var">trX</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlastx</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlastx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hall</span> <span class="id" title="var">MachineDescriptor</span> <span class="id" title="var">equivocator_vlsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bis</span> <span class="id" title="var">btr</span> <span class="id" title="var">Hbtr</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_project_protocol_trace"><span class="id" title="lemma">preloaded_equivocator_vlsm_project_protocol_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hbtr</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">di</span> [<span class="id" title="var">Hproject</span> <span class="id" title="var">Hdi</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproject</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">di</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span> <span class="id" title="var">fi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> [<span class="id" title="var">Hlast</span> [<span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>]]]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HinitX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Hbtr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>) <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_is_trace"><span class="id" title="lemma">protocol_is_trace</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">_</span>]]]]]<br/>
    ; [<span class="id" title="tactic">elim</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hinit</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>) <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#last_error_destination_last"><span class="id" title="lemma">last_error_destination_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlast</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlst</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a></span> has <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="projection">proper_sent</span></a></span> property.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_proper_sent" class="idref" href="#equivocator_proper_sent"><span class="id" title="lemma">equivocator_proper_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:55" class="idref" href="#s:55"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:56" class="idref" href="#Hs:56"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:55"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:57" class="idref" href="#m:57"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:55"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:57"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hbbs</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">start</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span>, <span class="id" title="var">bs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbbs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hjbs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hjbs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [|<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#preloaded_equivocator_state_project_protocol_state"><span class="id" title="lemma">preloaded_equivocator_state_project_protocol_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">j</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_project_protocol_trace"><span class="id" title="lemma">preloaded_equivocator_vlsm_project_protocol_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">start</span> <span class="id" title="var">tr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hj</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_to_nat_inv"><span class="id" title="lemma">of_nat_to_nat_inv</span></a> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#to_nat"><span class="id" title="definition">to_nat</span></a> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">nj</span> <span class="id" title="var">Hnj</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hpre</span> <span class="id" title="var">nj</span> <span class="id" title="var">Hnj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">di</span> [<span class="id" title="var">Hproject</span> <span class="id" title="var">Hdi</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">di</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span> <span class="id" title="var">fi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HlastX</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlastX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlastX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hjbs</span> <span class="id" title="var">sn</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span> <span class="id" title="var">HlastX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">trX</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">nj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#NewMachine"><span class="id" title="constructor">NewMachine</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sn</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> [<span class="id" title="var">HlastX</span> [<span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>]]]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HinitX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlastX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlastX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hjbs</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">start</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hi</span>)) <span class="id" title="var">trX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>) <span class="id" title="var">HlastX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">trX</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">nj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">fi</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hbbs</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hbbs'</span> := <span class="id" title="var">Hbbs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_is_trace"><span class="id" title="lemma">protocol_is_trace</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">_</span>]]]]]<br/>
    ; [<span class="id" title="tactic">elim</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hinit</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>) <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#last_error_destination_last"><span class="id" title="lemma">last_error_destination_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlast</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hbbs</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hbbs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">i</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">HtrX</span> <span class="id" title="var">Hjbs</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hntr</span> : <span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbbs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">j</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sj</span> | <span class="id" title="var">j</span> <span class="id" title="var">fj</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project_on_new_machine"><span class="id" title="lemma">equivocator_vlsm_trace_project_on_new_machine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HtrX</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hjbs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_protocol_trace_project_inv2"><span class="id" title="lemma">preloaded_equivocator_vlsm_protocol_trace_project_inv2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hntr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">HpreX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HpreX</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HpreX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HpreX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hj</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ns</span>, <span class="id" title="var">bs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hbsj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">bs</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hj</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_last_pstate"><span class="id" title="lemma">finite_ptrace_last_pstate</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>  (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hpbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#preloaded_equivocator_state_project_protocol_state"><span class="id" title="lemma">preloaded_equivocator_state_project_protocol_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpbs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>); [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span> <span class="id" title="var">fi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlstx</span> <span class="id" title="var">Htrx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sn</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">trX</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Htrx</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlstx</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlstx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> [<span class="id" title="var">Hlstx</span> [<span class="id" title="var">Htrx</span> <span class="id" title="var">HinitX</span>]]]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HinitX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="keyword">is</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hi</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">trX</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htrx</span> <span class="id" title="var">HinitX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlstx</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlstx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a></span> has <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_not_sent"><span class="id" title="projection">proper_not_sent</span></a></span> property.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_proper_not_sent" class="idref" href="#equivocator_proper_not_sent"><span class="id" title="lemma">equivocator_proper_not_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:58" class="idref" href="#s:58"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:59" class="idref" href="#Hs:59"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:58"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:60" class="idref" href="#m:60"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocator_has_not_been_sent:63" class="idref" href="#equivocator_has_not_been_sent:63"><span class="id" title="binder">equivocator_has_not_been_sent</span></a> := <span class="id" title="keyword">fun</span> <a id="s:61" class="idref" href="#s:61"><span class="id" title="binder">s</span></a> <a id="m:62" class="idref" href="#m:62"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:61"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:62"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_not_been_sent:63"><span class="id" title="variable">equivocator_has_not_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:60"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency_proper_not_sent"><span class="id" title="lemma">has_been_sent_consistency_proper_not_sent</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_proper_sent"><span class="id" title="lemma">equivocator_proper_sent</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent_consistency"><span class="id" title="lemma">equivocator_has_been_sent_consistency</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally we define the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="record">has_been_sent_capability</span></a></span> for the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_has_been_sent_capability" class="idref" href="#equivocator_has_been_sent_capability"><span class="id" title="definition">equivocator_has_been_sent_capability</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent"><span class="id" title="definition">equivocator_has_been_sent</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_proper_sent"><span class="id" title="lemma">equivocator_proper_sent</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_not_sent"><span class="id" title="method">proper_not_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_proper_not_sent"><span class="id" title="lemma">equivocator_proper_not_sent</span></a><br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.has_been_sent_lifting"><span class="id" title="section">has_been_sent_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="equivocator_vlsm_message_properties.computable_sent_messages_lifting" class="idref" href="#equivocator_vlsm_message_properties.computable_sent_messages_lifting"><span class="id" title="section">computable_sent_messages_lifting</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab47"></a><h2 class="section">Lifting the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="record">computable_sent_messages</span></a></span> property</h2>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="Hsent_messages:64" class="idref" href="#Hsent_messages:64"><span class="id" title="binder">Hsent_messages</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>}<br/>
&nbsp;&nbsp;(<a id="message_eq:65" class="idref" href="#message_eq:65"><span class="id" title="binder">message_eq</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hbeen_sent_X:66" class="idref" href="#Hbeen_sent_X:66"><span class="id" title="binder">Hbeen_sent_X</span></a> := @<a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent_capability"><span class="id" title="definition">computable_sent_messages_has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#Hsent_messages:64"><span class="id" title="variable">Hsent_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#message_eq:65"><span class="id" title="variable">message_eq</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
We define the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="projection">sent_messages_fn</span></a></span> for the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span> as the
union of all <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="projection">sent_messages_fn</span></a></span> for its internal machines.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_sent_messages_fn" class="idref" href="#equivocator_sent_messages_fn"><span class="id" title="definition">equivocator_sent_messages_fn</span></a><br/>
&nbsp;&nbsp;(<a id="s:67" class="idref" href="#s:67"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="i:68" class="idref" href="#i:68"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="method">sent_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:67"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#i:68"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="CasperCBC.Lib.FinExtras.html#fin_t_listing"><span class="id" title="definition">fin_t_listing</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:67"><span class="id" title="variable">s</span></a>)))).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_sent_messages_fn"><span class="id" title="definition">equivocator_sent_messages_fn</span></a></span> captures all <span class="inlinecode"><a class="idref" href="CasperCBC.CBC.FullNode.Validator.State.html#sent_messages"><span class="id" title="definition">sent_messages</span></a></span> for that state.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_sent_messages_full" class="idref" href="#equivocator_sent_messages_full"><span class="id" title="lemma">equivocator_sent_messages_full</span></a><br/>
&nbsp;&nbsp;(<a id="s:69" class="idref" href="#s:69"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:70" class="idref" href="#Hs:70"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:69"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:71" class="idref" href="#m:71"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:71"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_sent_messages_fn"><span class="id" title="definition">equivocator_sent_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:69"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="sm:72" class="idref" href="#sm:72"><span class="id" title="binder">sm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages"><span class="id" title="definition">sent_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#s:69"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#sm:72"><span class="id" title="variable">sm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#m:71"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#preloaded_equivocator_state_project_protocol_state"><span class="id" title="lemma">preloaded_equivocator_state_project_protocol_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HpsX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">msgsi</span> [<span class="id" title="var">Hmsgsi</span> <span class="id" title="var">Hin</span>]]. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsgsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsgsi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">_</span>]]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">HpsX</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_consistency"><span class="id" title="method">sent_messages_consistency</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_is_trace"><span class="id" title="lemma">protocol_is_trace</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> | [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">_</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_empty"><span class="id" title="constructor">finite_ptrace_empty</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>)). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hzero</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">s</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">i</span>; [|<span class="id" title="tactic">inversion</span> <span class="id" title="var">i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>). <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#last_error_destination_last"><span class="id" title="lemma">last_error_destination_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlast</span> <span class="id" title="keyword">is</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinv</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_to_nat_inv"><span class="id" title="lemma">of_nat_to_nat_inv</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#to_nat"><span class="id" title="definition">to_nat</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ni</span> <span class="id" title="var">Hi</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hbm</span> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>) <span class="id" title="var">s</span> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [|<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Hbm</span>); <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_project_protocol_trace"><span class="id" title="lemma">preloaded_equivocator_vlsm_project_protocol_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">di</span> <span class="id" title="var">Hdi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">di</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span> <span class="id" title="var">fi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hproject</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">HtrX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">trX</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ni</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#NewMachine"><span class="id" title="constructor">NewMachine</span></a> <span class="id" title="var">_</span> <span class="id" title="var">sn</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hproject</span> [<span class="id" title="var">Hi'</span> [<span class="id" title="var">Hlast</span> [<span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>]]]]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HinitX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">trX</span> (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ni</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) (<a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#Existing"><span class="id" title="constructor">Existing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">fi</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>) <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlst</span> <span class="id" title="var">Hexists</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_trace_project_output_reflecting_inv"><span class="id" title="lemma">equivocator_vlsm_trace_project_output_reflecting_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hexists</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">ifinal</span> [<span class="id" title="var">istart</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">Hproject</span> <span class="id" title="var">HexistsX</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hntr</span> : <span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hexists</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ifinal</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sfinal</span> | <span class="id" title="var">i</span> <span class="id" title="var">ffinal</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#equivocator_vlsm_trace_project_on_new_machine"><span class="id" title="lemma">equivocator_vlsm_trace_project_on_new_machine</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproject</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hproject</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HexistsX</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocators.Projections.html#preloaded_equivocator_vlsm_protocol_trace_project_inv2"><span class="id" title="lemma">preloaded_equivocator_vlsm_protocol_trace_project_inv2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hntr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproject</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">HpreX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HpreX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HpreX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Histart</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="method">sent_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hi</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|]. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.FinExtras.html#fin_t_full"><span class="id" title="lemma">fin_t_full</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a>); [<span class="id" title="tactic">apply</span> <span class="id" title="var">HpsX</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm</span> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_preloaded_traces"><span class="id" title="definition">selected_message_exists_in_some_preloaded_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Hi</span>)) <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [|<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>); <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">istart</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sstart</span> | <span class="id" title="var">istart</span> <span class="id" title="var">fstart</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Histart</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sstart</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">trX</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">HtrX</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Histart</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Histart</span> [<span class="id" title="var">Hlast</span> [<span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>]]]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HinitX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="keyword">is</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Vectors.Fin.html#of_nat_lt"><span class="id" title="definition">of_nat_lt</span></a> <span class="id" title="var">Histart</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">trX</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">HtrX</span> <span class="id" title="var">HinitX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally, we define the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="record">computable_sent_messages</span></a></span> instance for the
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocators.Common.html#equivocator_vlsm"><span class="id" title="definition">equivocator_vlsm</span></a></span>.
Note that we can reuse the consistency property proved above since
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="record">computable_sent_messages</span></a></span> for <tt>X</tt> implies <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="record">has_been_sent_capability</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocator_computable_sent_messages" class="idref" href="#equivocator_computable_sent_messages"><span class="id" title="definition">equivocator_computable_sent_messages</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.equivocator_vlsm"><span class="id" title="variable">equivocator_vlsm</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="method">sent_messages_fn</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_sent_messages_fn"><span class="id" title="definition">equivocator_sent_messages_fn</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_sent_messages_full"><span class="id" title="lemma">equivocator_sent_messages_full</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_consistency"><span class="id" title="method">sent_messages_consistency</span></a> := @<a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_has_been_sent_consistency"><span class="id" title="lemma">equivocator_has_been_sent_consistency</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.computable_sent_messages_lifting.Hbeen_sent_X"><span class="id" title="variable">Hbeen_sent_X</span></a><br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties.computable_sent_messages_lifting"><span class="id" title="section">computable_sent_messages_lifting</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Equivocators.MessageProperties.html#equivocator_vlsm_message_properties"><span class="id" title="section">equivocator_vlsm_message_properties</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
