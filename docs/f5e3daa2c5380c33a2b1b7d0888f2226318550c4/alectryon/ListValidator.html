<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>ListValidator.v</title><meta charset="utf-8"><meta content="Alectryon v1.0" name="generator"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-centered alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc"><div class="alectryon-header">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running <a href="https://coq.inria.fr/">Coq</a>+<a href="https://github.com/ejgallego/coq-serapi">SerAPI</a> v8.12.0+0.12.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Bool List Reals FinFun Program.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Lia.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> ListNotations.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">From</span> CasperCBC
<span class="kn">Require Import</span> Lib.Preamble Lib.ListExtras VLSM.Common VLSM.Composition VLSM.Equivocation .</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">ListNode</span>.</span></span></span></pre><div class="doc">
<div class="paragraph"> </div>
<a id="lab1"></a><h3 class="section">Minimal List Validator Protocol</h3>
<div class="paragraph"> </div>

We introduce here the "minimal list validator protocol", by quoting the official
documentation:

<div class="paragraph"> </div>

In this section, we propose a protocol where each validator keeps a list of states of other validators. Each validator broadcasts its view of the other validators‚Äô
states. We claim that the protocol is nontrivial and safe: when equivocations are limited, it is possible to reach either outcome, and if the protocol reaches
a decision, all the validators agree on what it is.

<div class="paragraph"> </div>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --></pre><div class="doc">
Our context includes a finite <span class="inlinecode"><span class="id" title="var">index</span></span> type with decidable equality and an instance of it, <span class="inlinecode"><span class="id" title="var">index_self</span></span> which
    designates the chosen index of the current machine 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Context</span>
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">index_self</span> : index}
  {<span class="nv">index_listing</span> : list index}
  {<span class="nv">Hfinite</span> : Listing index_listing}
  `{EqDecision index}.</span></span></span></pre><div class="doc">
Each state contains a binary value and a list of all the states of the other validators. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">state</span> : <span class="kt">Type</span> :=
| Bottom
| Something
  : <span class="kr">forall</span> (<span class="nv">b</span> : bool) (<span class="nv">is</span> : indexed_state index_listing),
  state
<span class="kr">with</span> indexed_state : list index -&gt; <span class="kt">Type</span> :=
| Empty
  : indexed_state []
| Append
  : <span class="kr">forall</span> (<span class="nv">v</span> : index) (<span class="nv">l</span> : list index)
      (<span class="nv">s</span> : state) (<span class="nv">is</span> : indexed_state l),
  indexed_state (v :: l)
.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk0" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk0"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">state_eq_dec</span> (<span class="nv">s1</span> <span class="nv">s2</span> : state)
  : {s1 = s2} + {s1 &lt;&gt; s2}
<span class="kr">with</span>
indexed_state_eq_dec (l : list index) (ls1 : indexed_state l) (ls2 : indexed_state l)
  : {ls1 = ls2} + {ls1 &lt;&gt; ls2}.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{s1 = s2} + {s1 &lt;&gt; s2}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1, ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk1"><hr></label><div class="goal-conclusion"><span class="highlight">{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk2" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{s1 = s2} + {s1 &lt;&gt; s2}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1, ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk3"><hr></label><div class="goal-conclusion"><span class="highlight">{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk4" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk4"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{s1 = s2} + {s1 &lt;&gt; s2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk5" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk5"><span class="highlight"><span class="nb">destruct</span> s1; <span class="nb">destruct</span> s2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Bottom = Bottom} + {Bottom &lt;&gt; Bottom}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk6"><hr></label><div class="goal-conclusion"><span class="highlight">{Bottom = Something b <span class="kr">is</span>} + {Bottom &lt;&gt; Something b <span class="kr">is</span>}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ListValidator-v-chk7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk7"><hr></label><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Bottom} + {Something b <span class="kr">is</span> &lt;&gt; Bottom}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ListValidator-v-chk8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk8"><hr></label><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk9" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk9"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Bottom = Bottom} + {Bottom &lt;&gt; Bottom}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka"><span class="highlight"><span class="nb">left</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Bottom = Something b <span class="kr">is</span>} + {Bottom &lt;&gt; Something b <span class="kr">is</span>}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom &lt;&gt; Something b <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Bottom = Something b <span class="kr">is</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">discriminate</span> H.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Bottom} + {Something b <span class="kr">is</span> &lt;&gt; Bottom}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk10" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk10"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> = Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">discriminate</span> H.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk11" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk11"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk12" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk12"><span class="highlight"><span class="nb">destruct</span> (bool_eq_dec b b0).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk13" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b &lt;&gt; b0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk13"><hr></label><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk14" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk14"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk15" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk15"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk16" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk16"><span class="highlight"><span class="nb">destruct</span> (indexed_state_eq_dec index_listing <span class="kr">is</span> is0).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk17" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> &lt;&gt; is0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk17"><hr></label><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk18" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk18"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk19" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk19"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b0 is0 = Something b0 is0} +
{Something b0 is0 &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk1a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk1a"><span class="highlight"><span class="nb">left</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b0 is0 = Something b0 is0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk1b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk1b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> &lt;&gt; is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk1c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk1c"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> &lt;&gt; is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Something b0 is0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk1d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk1d"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> &lt;&gt; is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b0 <span class="kr">is</span> &lt;&gt; Something b0 is0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk1e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk1e"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> &lt;&gt; is0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b0 <span class="kr">is</span> = Something b0 is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk1f"><span class="highlight"><span class="nb">elim</span> n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> &lt;&gt; is0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b0 <span class="kr">is</span> = Something b0 is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">is</span> = is0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk20" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk20"><span class="highlight"><span class="nb">inversion</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> &lt;&gt; is0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b0 <span class="kr">is</span> = Something b0 is0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is0 = is0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">}</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk21" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk21"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b &lt;&gt; b0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Something b <span class="kr">is</span> = Something b0 is0} +
{Something b <span class="kr">is</span> &lt;&gt; Something b0 is0}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk22" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk22"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b &lt;&gt; b0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Something b0 is0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk23" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk23"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b &lt;&gt; b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> = Something b0 is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk24" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk24"><span class="highlight"><span class="nb">elim</span> n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b &lt;&gt; b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> = Something b0 is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b = b0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk25" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk25"><span class="highlight"><span class="nb">inversion</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b &lt;&gt; b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> = Something b0 is0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b = b0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = is0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b0 = b0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk26" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk26"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1, ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk27" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk27"><span class="highlight"><span class="nb">dependent destruction</span> ls1; <span class="nb">dependent destruction</span> ls2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Empty = Empty} + {Empty &lt;&gt; Empty}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk28" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk28"><hr></label><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk29" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk29"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Empty = Empty} + {Empty &lt;&gt; Empty}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk2a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk2a"><span class="highlight"><span class="nb">left</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty = Empty</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk2b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk2b"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk2c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk2c"><span class="highlight"><span class="nb">destruct</span> (state_eq_dec s s0).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk2d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; s0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk2d"><hr></label><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk2e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk2e"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk2f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk2f"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk30" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk30"><span class="highlight"><span class="nb">destruct</span> (indexed_state_eq_dec l ls1 ls2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 = ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk31" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 &lt;&gt; ls2</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk31"><hr></label><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk32" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk32"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 = ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk33" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk33"><span class="highlight"><span class="nb">left</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 = ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk34" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk34"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s0 ls2 = Append v l s0 ls2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk35" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk35"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 &lt;&gt; ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk36" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk36"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 &lt;&gt; ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s ls1 &lt;&gt; Append v l s0 ls2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk37" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk37"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 &lt;&gt; ls2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk38" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk38"><span class="highlight"><span class="nb">elim</span> n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 &lt;&gt; ls2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ls1 = ls2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk39" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk39"><span class="highlight"><span class="nb">inversion</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 &lt;&gt; ls2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">existT (<span class="kr">fun</span> <span class="nv">l</span> : list index =&gt; indexed_state l) l
  ls1 =
existT (<span class="kr">fun</span> <span class="nv">l</span> : list index =&gt; indexed_state l) l
  ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ls1 = ls2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk3a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk3a"><span class="highlight"><span class="nb">apply</span> inj_pairT2 <span class="kr">in</span> H2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 &lt;&gt; ls2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ls1 = ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ls1 = ls2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">}</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk3b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk3b"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; s0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{Append v l s ls1 = Append v l s0 ls2} +
{Append v l s ls1 &lt;&gt; Append v l s0 ls2}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk3c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk3c"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; s0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s ls1 &lt;&gt; Append v l s0 ls2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk3d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk3d"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk3e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk3e"><span class="highlight"><span class="nb">elim</span> n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = s0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk3f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk3f"><span class="highlight"><span class="nb">inversion</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
{s1 = s2} + {s1 &lt;&gt; s2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indexed_state_eq_dec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index)
  (<span class="nv">ls1</span> <span class="nv">ls2</span> : indexed_state l),
{ls1 = ls2} + {ls1 &lt;&gt; ls2}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Append v l s ls1 = Append v l s0 ls2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">existT (<span class="kr">fun</span> <span class="nv">l</span> : list index =&gt; indexed_state l) l
  ls1 =
existT (<span class="kr">fun</span> <span class="nv">l</span> : list index =&gt; indexed_state l) l
  ls2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s0 = s0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">state_EqDecision</span> : EqDecision state := state_eq_dec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">depth</span> (<span class="nv">s</span> : state) : nat :=
  <span class="kr">match</span> s <span class="kr">with</span>
  | Bottom =&gt; <span class="mi">0</span>
  | Something cv ls =&gt; depth_indexed index_listing ls + <span class="mi">1</span>
  <span class="kr">end</span>
  <span class="kr">with</span> depth_indexed (l : list index) (ls : indexed_state l) : nat :=
  <span class="kr">match</span> ls <span class="kr">with</span>
  | Empty =&gt; <span class="mi">0</span>
  | Append v l&#39; s&#39; is&#39; =&gt; max (depth s&#39;) (depth_indexed l&#39; is&#39;)
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Some utility functions. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">project_indexed</span>
  (<span class="nv">l</span> : list index)
  (<span class="nv">is</span> : indexed_state l)
  (<span class="nv">v</span> : index)
  : state
  :=
  <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
  | Empty =&gt;
    Bottom
  | Append v&#39; l&#39; s is&#39; =&gt;
    <span class="kr">if</span> decide (v&#39; = v)
    <span class="kr">then</span> s
    <span class="kr">else</span> project_indexed l&#39; is&#39; v
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">project</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">v</span> : index)
  : state
  :=
  <span class="kr">match</span> s <span class="kr">with</span>
  | Bottom =&gt; Bottom
  | Something b <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> v
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">update_indexed</span>
  (<span class="nv">l</span> : list index)
  (<span class="nv">is</span> : indexed_state l)
  (<span class="nv">v</span> : index)
  (<span class="nv">new_s</span> : state)
  : indexed_state l
  :=
  <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
  | Empty =&gt; Empty
  | Append v&#39; l&#39; s is&#39; =&gt;
    <span class="kr">if</span> decide (v&#39; = v)
    <span class="kr">then</span> Append v&#39; l&#39; new_s is&#39;
    <span class="kr">else</span> Append v&#39; l&#39; s (update_indexed l&#39; is&#39; v new_s)
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk40" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk40"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">update_indexed_eq</span>
  (<span class="nv">l</span> : list index)
  (<span class="nv">is</span> : indexed_state l)
  (<span class="nv">i</span> : index)
  (<span class="nv">news</span> : state)
  (<span class="nv">Heq</span> : project_indexed l <span class="kr">is</span> i = news) :
  (update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk41" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk41"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk42" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk42"><span class="highlight"><span class="nb">induction</span> <span class="kr">is</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed [] Empty i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed [] Empty i news = Empty</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk43" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk43"><hr></label><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk44" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk44"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed [] Empty i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed [] Empty i news = Empty</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk45" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk45"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed [] Empty i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty = Empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk46" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk46"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk47" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk47"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> decide (v = i)
 <span class="kr">then</span> Append v l news <span class="kr">is</span>
 <span class="kr">else</span> Append v l s (update_indexed l <span class="kr">is</span> i news)) =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk48" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk48"><span class="highlight"><span class="nb">destruct</span> (decide (v = i)) <span class="nb">eqn</span> : eq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l news <span class="kr">is</span> = Append v l s <span class="kr">is</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk49" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk49"><hr></label><div class="goal-conclusion"><span class="highlight">Append v l s (update_indexed l <span class="kr">is</span> i news) =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk4a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk4a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l news <span class="kr">is</span> = Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk4b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk4b"><span class="highlight"><span class="nb">assert</span> (Hsame : s = news).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = news</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk4c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = news</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk4c"><hr></label><div class="goal-conclusion"><span class="highlight">Append v l news <span class="kr">is</span> = Append v l s <span class="kr">is</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk4d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk4d"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk4e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk4e"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">if</span> decide (v = i)
 <span class="kr">then</span> s
 <span class="kr">else</span> project_indexed l <span class="kr">is</span> i) = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk4f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk4f"><span class="highlight"><span class="nb">rewrite</span> eq <span class="kr">in</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk50" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk50"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l news <span class="kr">is</span> = Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk51" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk51"><span class="highlight"><span class="nb">rewrite</span> Hsame.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l news <span class="kr">is</span> = Append v l news <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk52" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk52"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s (update_indexed l <span class="kr">is</span> i news) =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk53" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk53"><span class="highlight"><span class="nb">assert</span> (Hstep : project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i = project_indexed l <span class="kr">is</span> i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk54" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk54"><hr></label><div class="goal-conclusion"><span class="highlight">Append v l s (update_indexed l <span class="kr">is</span> i news) =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk55" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk55"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk56" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk56"><span class="highlight"><span class="nb">unfold</span> project_indexed.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> decide (v = i)
 <span class="kr">then</span> s
 <span class="kr">else</span>
  (<span class="kr">fix</span> project_indexed
     (l : list index) (<span class="kr">is</span> : indexed_state l)
     (v : index) {<span class="kr">struct</span> <span class="kr">is</span>} : state :=
     <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
     | Empty =&gt; Bottom
     | Append v&#39; l&#39; s is&#39; =&gt;
         <span class="kr">if</span> decide (v&#39; = v)
         <span class="kr">then</span> s
         <span class="kr">else</span> project_indexed l&#39; is&#39; v
     <span class="kr">end</span>) l <span class="kr">is</span> i) =
(<span class="kr">fix</span> project_indexed
   (l : list index) (<span class="kr">is</span> : indexed_state l) (v : index)
   {<span class="kr">struct</span> <span class="kr">is</span>} : state :=
   <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
   | Empty =&gt; Bottom
   | Append v&#39; l&#39; s is&#39; =&gt;
       <span class="kr">if</span> decide (v&#39; = v)
       <span class="kr">then</span> s
       <span class="kr">else</span> project_indexed l&#39; is&#39; v
   <span class="kr">end</span>) l <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk57" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk57"><span class="highlight"><span class="nb">rewrite</span> eq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fix</span> project_indexed
   (l : list index) (<span class="kr">is</span> : indexed_state l) (v : index)
   {<span class="kr">struct</span> <span class="kr">is</span>} : state :=
   <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
   | Empty =&gt; Bottom
   | Append v&#39; l&#39; s is&#39; =&gt;
       <span class="kr">if</span> decide (v&#39; = v)
       <span class="kr">then</span> s
       <span class="kr">else</span> project_indexed l&#39; is&#39; v
   <span class="kr">end</span>) l <span class="kr">is</span> i =
(<span class="kr">fix</span> project_indexed
   (l : list index) (<span class="kr">is</span> : indexed_state l) (v : index)
   {<span class="kr">struct</span> <span class="kr">is</span>} : state :=
   <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
   | Empty =&gt; Bottom
   | Append v&#39; l&#39; s is&#39; =&gt;
       <span class="kr">if</span> decide (v&#39; = v)
       <span class="kr">then</span> s
       <span class="kr">else</span> project_indexed l&#39; is&#39; v
   <span class="kr">end</span>) l <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk58" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk58"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fix</span> project_indexed
   (l : list index) (<span class="kr">is</span> : indexed_state l) (v : index)
   {<span class="kr">struct</span> <span class="kr">is</span>} : state :=
   <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
   | Empty =&gt; Bottom
   | Append v&#39; l&#39; s is&#39; =&gt;
       <span class="kr">if</span> decide (v&#39; = v)
       <span class="kr">then</span> s
       <span class="kr">else</span> project_indexed l&#39; is&#39; v
   <span class="kr">end</span>) l <span class="kr">is</span> i =
(<span class="kr">fix</span> project_indexed
   (l : list index) (<span class="kr">is</span> : indexed_state l) (v : index)
   {<span class="kr">struct</span> <span class="kr">is</span>} : state :=
   <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
   | Empty =&gt; Bottom
   | Append v&#39; l&#39; s is&#39; =&gt;
       <span class="kr">if</span> decide (v&#39; = v)
       <span class="kr">then</span> s
       <span class="kr">else</span> project_indexed l&#39; is&#39; v
   <span class="kr">end</span>) l <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk59" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk59"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s (update_indexed l <span class="kr">is</span> i news) =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk5a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk5a"><span class="highlight"><span class="nb">assert</span> (update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk5b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk5b"><hr></label><div class="goal-conclusion"><span class="highlight">Append v l s (update_indexed l <span class="kr">is</span> i news) =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk5c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk5c"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk5d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk5d"><span class="highlight"><span class="nb">apply</span> IHis.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l <span class="kr">is</span> i = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk5e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk5e"><span class="highlight"><span class="nb">rewrite</span> Hstep <span class="kr">in</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l <span class="kr">is</span> i = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk5f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk5f"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s (update_indexed l <span class="kr">is</span> i news) =
Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk60" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk60"><span class="highlight"><span class="nb">rewrite</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed l <span class="kr">is</span> i = news -&gt;
update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstep</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed (v :: l) (Append v l s <span class="kr">is</span>) i =
project_indexed l <span class="kr">is</span> i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed l <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s <span class="kr">is</span> = Append v l s <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk61" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk61"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">update_indexed_same</span>
  (<span class="nv">l</span> : list index)
  (<span class="nv">is</span> : indexed_state l)
  (<span class="nv">i</span> : index)
  (<span class="nv">j</span> : index)
  (<span class="nv">Heq</span> : i = j)
  (<span class="nv">Hin</span> : In i l)
  (<span class="nv">news</span> : state) :
  project_indexed l (update_indexed l <span class="kr">is</span> i news) j = news.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) j =
news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk62" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk62"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) j =
news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk63" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk63"><span class="highlight"><span class="nb">induction</span> <span class="kr">is</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed [] (update_indexed [] Empty i news) j =
news</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk64" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk64"><hr></label><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news) j =
news</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk65" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk65"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed [] (update_indexed [] Empty i news) j =
news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk66" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk66"><span class="highlight"><span class="nb">unfold</span> In <span class="kr">in</span> Hin.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">False</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed [] (update_indexed [] Empty i news) j =
news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk67" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk67"><span class="highlight"><span class="nb">exfalso</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">False</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk68" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk68"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news) j =
news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk69" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk69"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (<span class="kr">if</span> decide (v = i)
   <span class="kr">then</span> Append v l news <span class="kr">is</span>
   <span class="kr">else</span> Append v l s (update_indexed l <span class="kr">is</span> i news)) j =
news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk6a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk6a"><span class="highlight"><span class="nb">destruct</span> (decide (v = i)) <span class="nb">eqn</span> : dec_eq; <span class="nb">simpl</span>; <span class="nb">rewrite</span> &lt;- Heq; <span class="nb">rewrite</span> dec_eq;
    <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">news = news</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk6b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk6b"><hr></label><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) i =
news</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk6c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk6c"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">news = news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk6d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk6d"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) i =
news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk6e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk6e"><span class="highlight"><span class="nb">assert</span> (Hin&#39; : In i l).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i l</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk6f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk6f"><hr></label><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) i =
news</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk70" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk70"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (in_fast l i v Hin n).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk71" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk71"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) i =
news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk72" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk72"><span class="highlight"><span class="nb">rewrite</span> Heq <span class="kr">in</span> IHis.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> j news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) i =
news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk73" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk73"><span class="highlight"><span class="nb">rewrite</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> j news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> j news) j =
news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk74" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk74"><span class="highlight"><span class="nb">apply</span> IHis.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> j news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In j l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk75" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk75"><span class="highlight"><span class="nb">rewrite</span> &lt;- Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> j news)
  j = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dec_eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk76" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk76"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">update_indexed_different</span>
  (<span class="nv">l</span> : list index)
  (<span class="nv">is</span> : indexed_state l)
  (<span class="nv">i</span> : index)
  (<span class="nv">j</span> : index)
  (<span class="nv">Heq</span> : i &lt;&gt; j)
  (<span class="nv">Hin</span> : In i l /\ In j l)
  (<span class="nv">news</span> : state) :
  project_indexed l (update_indexed l <span class="kr">is</span> i news) j = project_indexed l <span class="kr">is</span> j.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) j =
project_indexed l <span class="kr">is</span> j</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk77" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk77"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) j =
project_indexed l <span class="kr">is</span> j</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk78" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk78"><span class="highlight"><span class="nb">induction</span> <span class="kr">is</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i [] /\ In j []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed [] (update_indexed [] Empty i news) j =
project_indexed [] Empty j</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk79" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk79"><hr></label><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news) j =
project_indexed (v :: l) (Append v l s <span class="kr">is</span>) j</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk7a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk7a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i [] /\ In j []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed [] (update_indexed [] Empty i news) j =
project_indexed [] Empty j</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk7b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk7b"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i [] /\ In j []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk7c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk7c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news) j =
project_indexed (v :: l) (Append v l s <span class="kr">is</span>) j</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk7d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk7d"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (<span class="kr">if</span> decide (v = i)
   <span class="kr">then</span> Append v l news <span class="kr">is</span>
   <span class="kr">else</span> Append v l s (update_indexed l <span class="kr">is</span> i news)) j =
(<span class="kr">if</span> decide (v = j) <span class="kr">then</span> s <span class="kr">else</span> project_indexed l <span class="kr">is</span> j)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk7e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk7e"><span class="highlight"><span class="nb">destruct</span> (decide (v = i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l) (Append v l news <span class="kr">is</span>) j =
(<span class="kr">if</span> decide (v = j) <span class="kr">then</span> s <span class="kr">else</span> project_indexed l <span class="kr">is</span> j)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk7f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk7f"><hr></label><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (Append v l s (update_indexed l <span class="kr">is</span> i news)) j =
(<span class="kr">if</span> decide (v = j) <span class="kr">then</span> s <span class="kr">else</span> project_indexed l <span class="kr">is</span> j)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk80" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk80"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l) (Append v l news <span class="kr">is</span>) j =
(<span class="kr">if</span> decide (v = j) <span class="kr">then</span> s <span class="kr">else</span> project_indexed l <span class="kr">is</span> j)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk81" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk81"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> decide (v = j)
 <span class="kr">then</span> news
 <span class="kr">else</span> project_indexed l <span class="kr">is</span> j) =
(<span class="kr">if</span> decide (v = j) <span class="kr">then</span> s <span class="kr">else</span> project_indexed l <span class="kr">is</span> j)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk82" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk82"><span class="highlight"><span class="nb">destruct</span> (decide (v = j)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">news = s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk83" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk83"><hr></label><div class="goal-conclusion"><span class="highlight">project_indexed l <span class="kr">is</span> j = project_indexed l <span class="kr">is</span> j</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk84" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk84"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">news = s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk85" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk85"><span class="highlight"><span class="nb">rewrite</span> e <span class="kr">in</span> e0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">news = s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk86" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk86"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j (j :: l) /\ In j (j :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> j news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">news = s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk87" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk87"><span class="highlight"><span class="nb">elim</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j (j :: l) /\ In j (j :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> j news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">j = j</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk88" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk88"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l <span class="kr">is</span> j = project_indexed l <span class="kr">is</span> j</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk89" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk89"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed (v :: l)
  (Append v l s (update_indexed l <span class="kr">is</span> i news)) j =
(<span class="kr">if</span> decide (v = j) <span class="kr">then</span> s <span class="kr">else</span> project_indexed l <span class="kr">is</span> j)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk8a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk8a"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> decide (v = j)
 <span class="kr">then</span> s
 <span class="kr">else</span> project_indexed l (update_indexed l <span class="kr">is</span> i news) j) =
(<span class="kr">if</span> decide (v = j) <span class="kr">then</span> s <span class="kr">else</span> project_indexed l <span class="kr">is</span> j)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk8b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk8b"><span class="highlight"><span class="nb">destruct</span> (decide (v = j)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk8c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk8c"><hr></label><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) j =
project_indexed l <span class="kr">is</span> j</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk8d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk8d"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk8e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk8e"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed l (update_indexed l <span class="kr">is</span> i news) j =
project_indexed l <span class="kr">is</span> j</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk8f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk8f"><span class="highlight"><span class="nb">apply</span> IHis.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l) /\ In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i l /\ In j l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk90" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk90"><span class="highlight"><span class="nb">destruct</span> Hin.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i l /\ In j l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk91" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk91"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i l</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk92" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk92"><hr></label><div class="goal-conclusion"><span class="highlight">In j l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk93" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk93"><span class="highlight"><span class="nb">apply</span> (in_fast l i v H n).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In j (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l /\ In j l -&gt;
project_indexed l (update_indexed l <span class="kr">is</span> i news)
  j = project_indexed l <span class="kr">is</span> j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In j l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (in_fast l j v H0 n0).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk94" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk94"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">update_indexed_idempotent</span>
  (<span class="nv">l</span> : list index)
  (<span class="nv">is</span> : indexed_state l)
  (<span class="nv">i</span> : index)
  (<span class="nv">Hin</span> : In i l)
  (<span class="nv">news</span> : state) :
  update_indexed l (update_indexed l <span class="kr">is</span> i news) i news = update_indexed l <span class="kr">is</span> i news.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l (update_indexed l <span class="kr">is</span> i news) i news =
update_indexed l <span class="kr">is</span> i news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk95" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk95"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l (update_indexed l <span class="kr">is</span> i news) i news =
update_indexed l <span class="kr">is</span> i news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk96" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk96"><span class="highlight"><span class="nb">induction</span> <span class="kr">is</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed [] (update_indexed [] Empty i news) i
  news = update_indexed [] Empty i news</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk97" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk97"><hr></label><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l)
  (update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news) i
  news =
update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk98" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk98"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed [] (update_indexed [] Empty i news) i
  news = update_indexed [] Empty i news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk99" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk99"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty = Empty</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk9a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk9a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l)
  (update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news) i
  news =
update_indexed (v :: l) (Append v l s <span class="kr">is</span>) i news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk9b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk9b"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l)
  (<span class="kr">if</span> decide (v = i)
   <span class="kr">then</span> Append v l news <span class="kr">is</span>
   <span class="kr">else</span> Append v l s (update_indexed l <span class="kr">is</span> i news)) i
  news =
(<span class="kr">if</span> decide (v = i)
 <span class="kr">then</span> Append v l news <span class="kr">is</span>
 <span class="kr">else</span> Append v l s (update_indexed l <span class="kr">is</span> i news))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk9c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk9c"><span class="highlight"><span class="nb">destruct</span> (decide (v = i)) <span class="nb">eqn</span> : eq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l) (Append v l news <span class="kr">is</span>) i news =
Append v l news <span class="kr">is</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chk9d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chk9d"><hr></label><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l)
  (Append v l s (update_indexed l <span class="kr">is</span> i news)) i news =
Append v l s (update_indexed l <span class="kr">is</span> i news)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk9e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk9e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l) (Append v l news <span class="kr">is</span>) i news =
Append v l news <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk9f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk9f"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> decide (v = i)
 <span class="kr">then</span> Append v l news <span class="kr">is</span>
 <span class="kr">else</span> Append v l news (update_indexed l <span class="kr">is</span> i news)) =
Append v l news <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka0" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka0"><span class="highlight"><span class="nb">rewrite</span> eq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l news <span class="kr">is</span> = Append v l news <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka1" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed (v :: l)
  (Append v l s (update_indexed l <span class="kr">is</span> i news)) i news =
Append v l s (update_indexed l <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka2" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka2"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> decide (v = i)
 <span class="kr">then</span> Append v l news (update_indexed l <span class="kr">is</span> i news)
 <span class="kr">else</span>
  Append v l s
    (update_indexed l (update_indexed l <span class="kr">is</span> i news) i
       news)) =
Append v l s (update_indexed l <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka3" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka3"><span class="highlight"><span class="nb">rewrite</span> eq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s
  (update_indexed l (update_indexed l <span class="kr">is</span> i news) i
     news) = Append v l s (update_indexed l <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka4" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka4"><span class="highlight"><span class="nb">assert</span> (update_indexed l (update_indexed l <span class="kr">is</span> i news) i news = update_indexed l <span class="kr">is</span> i news).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l (update_indexed l <span class="kr">is</span> i news) i news =
update_indexed l <span class="kr">is</span> i news</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chka5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chka5"><hr></label><div class="goal-conclusion"><span class="highlight">Append v l s
  (update_indexed l (update_indexed l <span class="kr">is</span> i news) i
     news) = Append v l s (update_indexed l <span class="kr">is</span> i news)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka6" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka6"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed l (update_indexed l <span class="kr">is</span> i news) i news =
update_indexed l <span class="kr">is</span> i news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka7" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka7"><span class="highlight"><span class="nb">apply</span> IHis.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (in_fast l i v Hin n).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka8" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka8"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s
  (update_indexed l (update_indexed l <span class="kr">is</span> i news) i
     news) = Append v l s (update_indexed l <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chka9" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chka9"><span class="highlight"><span class="nb">rewrite</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Append v l s (update_indexed l <span class="kr">is</span> i news) =
Append v l s (update_indexed l <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">all_bottom_f</span> (<span class="nv">l</span> : list index) : indexed_state l :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | [] =&gt; Empty
  | (h :: t) =&gt; Append h t Bottom (all_bottom_f t)
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">all_bottom</span> := all_bottom_f index_listing.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">update_consensus</span> (<span class="nv">big</span> : state) (<span class="nv">value</span> : bool) :=
  <span class="kr">match</span> big <span class="kr">with</span>
  | Bottom =&gt; Bottom
  | Something cv f =&gt; Something value f
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">update_state</span> (<span class="nv">big</span> : state) (<span class="nv">news</span> : state) (<span class="nv">i</span> : index) : state :=
  <span class="kr">match</span> big <span class="kr">with</span>
  | Bottom =&gt; Bottom
  | Something cv f =&gt; Something cv (update_indexed index_listing f i news)
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="c">(* update_consensus doesn&#39;t touch state *)</span>
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkaa" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkaa"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">update_consensus_clean</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">i</span> : index)
  (<span class="nv">value</span> : bool) :
  project s i = project (update_consensus s value) i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project s i = project (update_consensus s value) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkab" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkab"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project s i = project (update_consensus s value) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkac" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkac"><span class="highlight"><span class="nb">unfold</span> update_consensus.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project s i =
project
  <span class="kr">match</span> s <span class="kr">with</span>
  | Bottom =&gt; Bottom
  | Something _ f =&gt; Something value f
  <span class="kr">end</span> i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkad" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkad"><span class="highlight"><span class="nb">destruct</span> s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project Bottom i = project Bottom i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkae" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkae"><hr></label><div class="goal-conclusion"><span class="highlight">project (Something b <span class="kr">is</span>) i =
project (Something value <span class="kr">is</span>) i</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkaf" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkaf"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project Bottom i = project Bottom i</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb0" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb0"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb1" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb1"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project (Something b <span class="kr">is</span>) i =
project (Something value <span class="kr">is</span>) i</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb2" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb2"><span class="highlight"><span class="nb">unfold</span> project.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed index_listing <span class="kr">is</span> i =
project_indexed index_listing <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb3" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">depth_consensus_clean</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">value</span> : bool) :
  depth s = depth (update_consensus s value).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth s = depth (update_consensus s value)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb4" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth s = depth (update_consensus s value)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb5" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb5"><span class="highlight"><span class="nb">unfold</span> depth.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l) {<span class="kr">struct</span> ls} :
     nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;) (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth) s =
(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l) {<span class="kr">struct</span> ls} :
     nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;) (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth) (update_consensus s value)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> s; <span class="nb">simpl</span>; <span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb6" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb6"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">project_same</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">news</span> : state)
  (<span class="nv">i</span> : index)
  (<span class="nv">Hnot_bottom</span> : s &lt;&gt; Bottom) :
  project (update_state s news i) i = news.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project (update_state s news i) i = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb7" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project (update_state s news i) i = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb8" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb8"><span class="highlight"><span class="nb">unfold</span> project.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state s news i <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkb9" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkb9"><span class="highlight"><span class="nb">destruct</span> s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Bottom &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state Bottom news i <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = news</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkba" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkba"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state (Something b <span class="kr">is</span>) news i <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = news</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkbb" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkbb"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Bottom &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state Bottom news i <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkbc" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkbc"><span class="highlight"><span class="nb">elim</span> Hnot_bottom.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Bottom &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkbd" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkbd"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state (Something b <span class="kr">is</span>) news i <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkbe" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkbe"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed index_listing
  (update_indexed index_listing <span class="kr">is</span> i news) i = news</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkbf" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkbf"><span class="highlight"><span class="nb">apply</span> update_indexed_same.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i = i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkc0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkc0"><hr></label><div class="goal-conclusion"><span class="highlight">In i index_listing</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc1" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i = i</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc2" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc2"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i index_listing</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> ((proj2 Hfinite) i).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc3" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">project_different</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">news</span> : state)
  (<span class="nv">i</span> <span class="nv">j</span> : index)
  (<span class="nv">Hdif</span> : i &lt;&gt; j)
  (<span class="nv">Hnot_bottom</span> : s &lt;&gt; Bottom) :
  project (update_state s news j) i = project s i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project (update_state s news j) i = project s i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc4" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project (update_state s news j) i = project s i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc5" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc5"><span class="highlight"><span class="nb">unfold</span> project.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state s news j <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> =
<span class="kr">match</span> s <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc6" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc6"><span class="highlight"><span class="nb">destruct</span> s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Bottom &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state Bottom news j <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = Bottom</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkc7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkc7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state (Something b <span class="kr">is</span>) news j <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = project_indexed index_listing <span class="kr">is</span> i</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc8" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc8"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Bottom &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state Bottom news j <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = Bottom</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkc9" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkc9"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> update_state (Something b <span class="kr">is</span>) news j <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something _ <span class="kr">is</span> =&gt; project_indexed index_listing <span class="kr">is</span> i
<span class="kr">end</span> = project_indexed index_listing <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkca" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkca"><span class="highlight"><span class="nb">unfold</span> update_state.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed index_listing
  (update_indexed index_listing <span class="kr">is</span> j news) i =
project_indexed index_listing <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkcb" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkcb"><span class="highlight"><span class="nb">rewrite</span> update_indexed_different.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed index_listing <span class="kr">is</span> i =
project_indexed index_listing <span class="kr">is</span> i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkcc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkcc"><hr></label><div class="goal-conclusion"><span class="highlight">j &lt;&gt; i</span></div></blockquote><input class="coq-extra-goal-toggle" id="ListValidator-v-chkcd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkcd"><hr></label><div class="goal-conclusion"><span class="highlight">In j index_listing /\ In i index_listing</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkce" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkce"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">j &lt;&gt; i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkcf" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkcf"><hr></label><div class="goal-conclusion"><span class="highlight">In j index_listing /\ In i index_listing</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd0" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd0"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In j index_listing /\ In i index_listing</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd1" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd1"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In j index_listing</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkd2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkd2"><hr></label><div class="goal-conclusion"><span class="highlight">In i index_listing</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd3" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd3"><span class="highlight"><span class="nb">apply</span> ((proj2 Hfinite) j).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdif</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt;&gt; j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hnot_bottom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Something b <span class="kr">is</span> &lt;&gt; Bottom</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i index_listing</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> ((proj2 Hfinite) i).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd4" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">update_state_eq</span>
      (<span class="nv">big</span> : state)
      (<span class="nv">news</span> : state)
      (<span class="nv">i</span> : index)
      (<span class="nv">Hin</span> : In i index_listing)
      (<span class="nv">Heq</span> : project big i = news)
      : update_state big news i = big.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">big, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project big i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_state big news i = big</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd5" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">big, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project big i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_state big news i = big</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd6" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd6"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">big, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project big i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_state big news i = big</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd7" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd7"><span class="highlight"><span class="nb">unfold</span> update_state.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">big, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project big i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> big <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something cv f =&gt;
    Something cv
      (update_indexed index_listing f i news)
<span class="kr">end</span> = big</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkd8" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkd8"><span class="highlight"><span class="nb">destruct</span> big.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project Bottom i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkd9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkd9"><hr></label><div class="goal-conclusion"><span class="highlight">Something b (update_indexed index_listing <span class="kr">is</span> i news) =
Something b <span class="kr">is</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkda" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkda"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project Bottom i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote></div></div></small></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkdb" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkdb"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b (update_indexed index_listing <span class="kr">is</span> i news) =
Something b <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkdc" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkdc"><span class="highlight"><span class="nb">assert</span> (Heqis : (update_indexed index_listing <span class="kr">is</span> i news) = <span class="kr">is</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed index_listing <span class="kr">is</span> i news = <span class="kr">is</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkdd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed index_listing <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkdd"><hr></label><div class="goal-conclusion"><span class="highlight">Something b (update_indexed index_listing <span class="kr">is</span> i news) =
Something b <span class="kr">is</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkde" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkde"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_indexed index_listing <span class="kr">is</span> i news = <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkdf" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkdf"><span class="highlight"><span class="nb">apply</span> update_indexed_eq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed index_listing <span class="kr">is</span> i = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke0" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke0"><span class="highlight"><span class="nb">unfold</span> project <span class="kr">in</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed index_listing <span class="kr">is</span> i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed index_listing <span class="kr">is</span> i = news</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke1" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke1"><span class="highlight"><span class="nb">inversion</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq, H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project_indexed index_listing <span class="kr">is</span> i = news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">project_indexed index_listing <span class="kr">is</span> i =
project_indexed index_listing <span class="kr">is</span> i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke2" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke2"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed index_listing <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b (update_indexed index_listing <span class="kr">is</span> i news) =
Something b <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke3" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke3"><span class="highlight"><span class="nb">rewrite</span> Heqis.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hin</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">project (Something b <span class="kr">is</span>) i = news</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqis</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">update_indexed index_listing <span class="kr">is</span> i news = <span class="kr">is</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b <span class="kr">is</span> = Something b <span class="kr">is</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke4" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">update_state_idempotent</span>
      (<span class="nv">big</span> : state)
      (<span class="nv">news</span> : state)
      (<span class="nv">i</span> : index)
      : update_state (update_state big news i) news i = update_state big news i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">big, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_state (update_state big news i) news i =
update_state big news i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke5" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">big, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">update_state (update_state big news i) news i =
update_state big news i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke6" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke6"><span class="highlight"><span class="nb">unfold</span> update_state.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">big, news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span>
  <span class="kr">match</span> big <span class="kr">with</span>
  | Bottom =&gt; Bottom
  | Something cv f =&gt;
      Something cv
        (update_indexed index_listing f i news)
  <span class="kr">end</span>
<span class="kr">with</span>
| Bottom =&gt; Bottom
| Something cv f =&gt;
    Something cv
      (update_indexed index_listing f i news)
<span class="kr">end</span> =
<span class="kr">match</span> big <span class="kr">with</span>
| Bottom =&gt; Bottom
| Something cv f =&gt;
    Something cv
      (update_indexed index_listing f i news)
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke7" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke7"><span class="highlight"><span class="nb">destruct</span> big.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chke8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chke8"><hr></label><div class="goal-conclusion"><span class="highlight">Something b
  (update_indexed index_listing
     (update_indexed index_listing <span class="kr">is</span> i news) i news) =
Something b (update_indexed index_listing <span class="kr">is</span> i news)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chke9" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chke9"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Bottom = Bottom</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkea" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkea"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b
  (update_indexed index_listing
     (update_indexed index_listing <span class="kr">is</span> i news) i news) =
Something b (update_indexed index_listing <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkeb" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkeb"><span class="highlight"><span class="nb">specialize</span> update_indexed_idempotent.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> (<span class="nv">l</span> : list index) (<span class="nv">is</span> : indexed_state l)
   (<span class="nv">i</span> : index),
 In i l -&gt;
 <span class="kr">forall</span> <span class="nv">news</span> : state,
 update_indexed l (update_indexed l <span class="kr">is</span> i news) i news =
 update_indexed l <span class="kr">is</span> i news) -&gt;
Something b
  (update_indexed index_listing
     (update_indexed index_listing <span class="kr">is</span> i news) i news) =
Something b (update_indexed index_listing <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkec" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkec"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index) 
  (<span class="nv">is</span> : indexed_state l) 
  (<span class="nv">i</span> : index),
In i l -&gt;
<span class="kr">forall</span> <span class="nv">news</span> : state,
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b
  (update_indexed index_listing
     (update_indexed index_listing <span class="kr">is</span> i news) i news) =
Something b (update_indexed index_listing <span class="kr">is</span> i news)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chked" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chked"><span class="highlight"><span class="nb">rewrite</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index) 
  (<span class="nv">is</span> : indexed_state l) 
  (<span class="nv">i</span> : index),
In i l -&gt;
<span class="kr">forall</span> <span class="nv">news</span> : state,
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something b (update_indexed index_listing <span class="kr">is</span> i news) =
Something b (update_indexed index_listing <span class="kr">is</span> i news)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkee" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index) 
  (<span class="nv">is</span> : indexed_state l) 
  (<span class="nv">i</span> : index),
In i l -&gt;
<span class="kr">forall</span> <span class="nv">news</span> : state,
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkee"><hr></label><div class="goal-conclusion"><span class="highlight">In i index_listing</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkef" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkef"><span class="highlight"><span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">news</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list index) 
  (<span class="nv">is</span> : indexed_state l) 
  (<span class="nv">i</span> : index),
In i l -&gt;
<span class="kr">forall</span> <span class="nv">news</span> : state,
update_indexed l (update_indexed l <span class="kr">is</span> i news) i
  news = update_indexed l <span class="kr">is</span> i news</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In i index_listing</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (proj2 Hfinite i).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf0" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf0"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">get_all_states</span>
  (<span class="nv">l</span> : list index)
  (<span class="nv">is</span> : indexed_state l)
  : list state.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">get_all_states</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list index,
indexed_state l -&gt; list state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list state</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf1" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf1"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">get_all_states</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list index,
indexed_state l -&gt; list state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list state</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf2" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf2"><span class="highlight"><span class="nb">destruct</span> <span class="kr">is</span> <span class="nb">eqn</span>:is_eqn.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">get_all_states</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list index,
indexed_state l -&gt; list state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is_eqn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = Empty</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list state</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkf3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">get_all_states</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list index,
indexed_state l -&gt; list state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is_eqn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = Append v l s i</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkf3"><hr></label><div class="goal-conclusion"><span class="highlight">list state</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf4" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf4"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">get_all_states</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list index,
indexed_state l -&gt; list state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is_eqn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = Empty</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list state</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">exact</span> [].</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf5" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf5"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">get_all_states</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list index,
indexed_state l -&gt; list state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">is_eqn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">is</span> = Append v l s i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list state</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">exact</span> (s :: get_all_states l i).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">

     <span class="c">(* begin hide *)</span>
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf6" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf6"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">depth_parent_child_indexed</span>
      (<span class="nv">indices</span> : list index)
      (<span class="nv">i</span> : index)
      (<span class="nv">Hi</span> : In i indices)
      (<span class="nv">ls</span> : indexed_state indices)
      : depth_indexed indices ls &gt;= depth (project_indexed indices ls i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indices</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i indices</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state indices</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth_indexed indices ls &gt;=
depth (project_indexed indices ls i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf7" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">indices</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i indices</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state indices</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth_indexed indices ls &gt;=
depth (project_indexed indices ls i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf8" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf8"><span class="highlight"><span class="nb">generalize dependent</span> indices.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">indices</span> : list index,
In i indices -&gt;
<span class="kr">forall</span> <span class="nv">ls</span> : indexed_state indices,
depth_indexed indices ls &gt;=
depth (project_indexed indices ls i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkf9" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkf9"><span class="highlight"><span class="nb">induction</span> ls.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth_indexed [] Empty &gt;=
depth (project_indexed [] Empty i)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkfa" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkfa"><hr></label><div class="goal-conclusion"><span class="highlight">depth_indexed (v :: l) (Append v l s ls) &gt;=
depth (project_indexed (v :: l) (Append v l s ls) i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkfb" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkfb"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth_indexed [] Empty &gt;=
depth (project_indexed [] Empty i)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkfc" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkfc"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth_indexed (v :: l) (Append v l s ls) &gt;=
depth (project_indexed (v :: l) (Append v l s ls) i)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkfd" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkfd"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s) (depth_indexed l ls) &gt;=
depth
  (<span class="kr">if</span> decide (v = i)
   <span class="kr">then</span> s
   <span class="kr">else</span> project_indexed l ls i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chkfe" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chkfe"><span class="highlight"><span class="nb">destruct</span> (decide (v = i)) <span class="nb">eqn</span> : Heqdec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s) (depth_indexed l ls) &gt;= depth s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ListValidator-v-chkff" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ListValidator-v-chkff"><hr></label><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s) (depth_indexed l ls) &gt;=
depth (project_indexed l ls i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk100" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk100"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s) (depth_indexed l ls) &gt;= depth s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk101" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk101"><span class="highlight"><span class="nb">unfold</span> depth_indexed.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s)
  ((<span class="kr">with</span> depth (s : state) : nat :=
      <span class="kr">match</span> s <span class="kr">with</span>
      | Bottom =&gt; <span class="mi">0</span>
      | Something _ ls =&gt;
          depth_indexed index_listing ls + <span class="mi">1</span>
      <span class="kr">end</span>
    <span class="kr">with</span> depth_indexed
      (l : list index) (ls : indexed_state l) {<span class="kr">struct</span>
       ls} : nat :=
      <span class="kr">match</span> ls <span class="kr">with</span>
      | Empty =&gt; <span class="mi">0</span>
      | Append _ l&#39; s&#39; is&#39; =&gt;
          Init.Nat.max (depth s&#39;)
            (depth_indexed l&#39; is&#39;)
      <span class="kr">end</span>
    <span class="kr">for</span>
    depth_indexed) l ls) &gt;= depth s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk102" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk102"><span class="highlight"><span class="nb">unfold</span> depth.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_left</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max
  ((<span class="kr">with</span> depth (s : state) : nat :=
      <span class="kr">match</span> s <span class="kr">with</span>
      | Bottom =&gt; <span class="mi">0</span>
      | Something _ ls =&gt;
          depth_indexed index_listing ls + <span class="mi">1</span>
      <span class="kr">end</span>
    <span class="kr">with</span> depth_indexed
      (l : list index) (ls : indexed_state l) {<span class="kr">struct</span>
       ls} : nat :=
      <span class="kr">match</span> ls <span class="kr">with</span>
      | Empty =&gt; <span class="mi">0</span>
      | Append _ l&#39; s&#39; is&#39; =&gt;
          Init.Nat.max (depth s&#39;)
            (depth_indexed l&#39; is&#39;)
      <span class="kr">end</span>
    <span class="kr">for</span>
    depth) s)
  ((<span class="kr">with</span> depth (s : state) : nat :=
      <span class="kr">match</span> s <span class="kr">with</span>
      | Bottom =&gt; <span class="mi">0</span>
      | Something _ ls =&gt;
          depth_indexed index_listing ls + <span class="mi">1</span>
      <span class="kr">end</span>
    <span class="kr">with</span> depth_indexed
      (l : list index) (ls : indexed_state l) {<span class="kr">struct</span>
       ls} : nat :=
      <span class="kr">match</span> ls <span class="kr">with</span>
      | Empty =&gt; <span class="mi">0</span>
      | Append _ l&#39; s&#39; is&#39; =&gt;
          Init.Nat.max (depth s&#39;)
            (depth_indexed l&#39; is&#39;)
      <span class="kr">end</span>
    <span class="kr">for</span>
    depth_indexed) l ls) &gt;=
(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l) {<span class="kr">struct</span> ls} :
     nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;) (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth) s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk103" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk103"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s) (depth_indexed l ls) &gt;=
depth (project_indexed l ls i)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk104" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk104"><span class="highlight"><span class="nb">pose</span> (in_fast l i v Hi n) <span class="kr">as</span> Hi&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l -&gt;
depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi'</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">in_fast l i v Hi n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s) (depth_indexed l ls) &gt;=
depth (project_indexed l ls i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk105" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk105"><span class="highlight"><span class="nb">specialize</span> (IHls Hi&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">depth_indexed l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi'</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">in_fast l i v Hi n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s) (depth_indexed l ls) &gt;=
depth (project_indexed l ls i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk106" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk106"><span class="highlight"><span class="nb">unfold</span> depth_indexed <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l)
   {<span class="kr">struct</span> ls} : nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;)
         (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth_indexed) l ls &gt;=
depth (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi'</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">in_fast l i v Hi n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max (depth s)
  ((<span class="kr">with</span> depth (s : state) : nat :=
      <span class="kr">match</span> s <span class="kr">with</span>
      | Bottom =&gt; <span class="mi">0</span>
      | Something _ ls =&gt;
          depth_indexed index_listing ls + <span class="mi">1</span>
      <span class="kr">end</span>
    <span class="kr">with</span> depth_indexed
      (l : list index) (ls : indexed_state l) {<span class="kr">struct</span>
       ls} : nat :=
      <span class="kr">match</span> ls <span class="kr">with</span>
      | Empty =&gt; <span class="mi">0</span>
      | Append _ l&#39; s&#39; is&#39; =&gt;
          Init.Nat.max (depth s&#39;)
            (depth_indexed l&#39; is&#39;)
      <span class="kr">end</span>
    <span class="kr">for</span>
    depth_indexed) l ls) &gt;=
depth (project_indexed l ls i)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk107" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk107"><span class="highlight"><span class="nb">unfold</span> depth <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i (v :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">state</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l)
   {<span class="kr">struct</span> ls} : nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;)
         (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth_indexed) l ls &gt;=
(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l)
   {<span class="kr">struct</span> ls} : nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;)
         (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth) (project_indexed l ls i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">v &lt;&gt; i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqdec</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">decide (v = i) = in_right</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi'</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">in_fast l i v Hi n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In i l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Init.Nat.max
  ((<span class="kr">with</span> depth (s : state) : nat :=
      <span class="kr">match</span> s <span class="kr">with</span>
      | Bottom =&gt; <span class="mi">0</span>
      | Something _ ls =&gt;
          depth_indexed index_listing ls + <span class="mi">1</span>
      <span class="kr">end</span>
    <span class="kr">with</span> depth_indexed
      (l : list index) (ls : indexed_state l) {<span class="kr">struct</span>
       ls} : nat :=
      <span class="kr">match</span> ls <span class="kr">with</span>
      | Empty =&gt; <span class="mi">0</span>
      | Append _ l&#39; s&#39; is&#39; =&gt;
          Init.Nat.max (depth s&#39;)
            (depth_indexed l&#39; is&#39;)
      <span class="kr">end</span>
    <span class="kr">for</span>
    depth) s)
  ((<span class="kr">with</span> depth (s : state) : nat :=
      <span class="kr">match</span> s <span class="kr">with</span>
      | Bottom =&gt; <span class="mi">0</span>
      | Something _ ls =&gt;
          depth_indexed index_listing ls + <span class="mi">1</span>
      <span class="kr">end</span>
    <span class="kr">with</span> depth_indexed
      (l : list index) (ls : indexed_state l) {<span class="kr">struct</span>
       ls} : nat :=
      <span class="kr">match</span> ls <span class="kr">with</span>
      | Empty =&gt; <span class="mi">0</span>
      | Append _ l&#39; s&#39; is&#39; =&gt;
          Init.Nat.max (depth s&#39;)
            (depth_indexed l&#39; is&#39;)
      <span class="kr">end</span>
    <span class="kr">for</span>
    depth_indexed) l ls) &gt;=
(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l) {<span class="kr">struct</span> ls} :
     nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;) (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth) (project_indexed l ls i)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">

</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk108" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk108"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">depth_parent_child</span> :
      <span class="kr">forall</span> (<span class="nv">ls</span> : indexed_state index_listing)
         (<span class="nv">cv</span> : bool)
         (<span class="nv">i</span> : index),
         depth (Something cv ls) &gt;= S (depth (project_indexed index_listing ls i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ls</span> : indexed_state index_listing) (<span class="nv">cv</span> : bool)
  (<span class="nv">i</span> : index),
depth (Something cv ls) &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk109" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk109"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ls</span> : indexed_state index_listing) (<span class="nv">cv</span> : bool)
  (<span class="nv">i</span> : index),
depth (Something cv ls) &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk10a" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk10a"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth (Something cv ls) &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk10b" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk10b"><span class="highlight"><span class="nb">specialize</span> depth_parent_child_indexed.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> (<span class="nv">indices</span> : list index) (<span class="nv">i</span> : index),
 In i indices -&gt;
 <span class="kr">forall</span> <span class="nv">ls</span> : indexed_state indices,
 depth_indexed indices ls &gt;=
 depth (project_indexed indices ls i)) -&gt;
depth (Something cv ls) &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk10c" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk10c"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indices</span> : list index) (<span class="nv">i</span> : index),
In i indices -&gt;
<span class="kr">forall</span> <span class="nv">ls</span> : indexed_state indices,
depth_indexed indices ls &gt;=
depth (project_indexed indices ls i)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth (Something cv ls) &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk10d" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk10d"><span class="highlight"><span class="nb">specialize</span> (H index_listing i ((proj2 Hfinite) i) ls).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">depth_indexed index_listing ls &gt;=
depth (project_indexed index_listing ls i)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">depth (Something cv ls) &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk10e" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk10e"><span class="highlight"><span class="nb">unfold</span> depth <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">depth_indexed index_listing ls &gt;=
depth (project_indexed index_listing ls i)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l) {<span class="kr">struct</span> ls} :
     nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;) (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth_indexed) index_listing ls + <span class="mi">1</span> &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk10f" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk10f"><span class="highlight"><span class="nb">unfold</span> depth_indexed <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ls</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">indexed_state index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l) {<span class="kr">struct</span>
    ls} : nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;)
         (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth_indexed) index_listing ls &gt;=
depth (project_indexed index_listing ls i)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">with</span> depth (s : state) : nat :=
   <span class="kr">match</span> s <span class="kr">with</span>
   | Bottom =&gt; <span class="mi">0</span>
   | Something _ ls =&gt;
       depth_indexed index_listing ls + <span class="mi">1</span>
   <span class="kr">end</span>
 <span class="kr">with</span> depth_indexed
   (l : list index) (ls : indexed_state l) {<span class="kr">struct</span> ls} :
     nat :=
   <span class="kr">match</span> ls <span class="kr">with</span>
   | Empty =&gt; <span class="mi">0</span>
   | Append _ l&#39; s&#39; is&#39; =&gt;
       Init.Nat.max (depth s&#39;) (depth_indexed l&#39; is&#39;)
   <span class="kr">end</span>
 <span class="kr">for</span>
 depth_indexed) index_listing ls + <span class="mi">1</span> &gt;=
S (depth (project_indexed index_listing ls i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Our only initial state will be Bottom. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">state00</span> := Bottom.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">initial_state_prop</span> (<span class="nv">s</span> : state) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> (<span class="nv">cv</span> : bool),
  (s = Something cv all_bottom).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk110" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk110"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">bottom_good</span> : initial_state_prop (Something false all_bottom).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">initial_state_prop (Something false all_bottom)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk111" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk111"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">initial_state_prop (Something false all_bottom)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk112" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk112"><span class="highlight"><span class="nb">unfold</span> initial_state_prop.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">cv</span> : bool,
  Something false all_bottom = Something cv all_bottom</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ListValidator-v-chk113" style="display: none" type="checkbox"><label class="coq-input" for="ListValidator-v-chk113"><span class="highlight"><span class="kr">exists</span> <span class="nv">false</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">index</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_self</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">index_listing</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list index</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfinite</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Listing index_listing</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EqDecision0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">EqDecision index</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Something false all_bottom =
Something false all_bottom</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">state0</span> : {s | initial_state_prop s} :=
  exist _ (Something false all_bottom) bottom_good.</span></span></span></pre><div class="doc">
Messages are pairs of indices and states.
    There are no initial messages.
    The type is trivially inhabitated by
    the pair of <span class="inlinecode"><span class="id" title="var">index_self</span></span> and Bottom]. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">message</span> : <span class="kt">Type</span> := (index * state).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">message_EqDecision</span> : EqDecision message := _.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">initial_message_prop</span> (<span class="nv">m</span> : message) : <span class="kt">Prop</span> := <span class="kt">False</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">message00</span> := (index_self, state00).</span></span></span></pre><div class="doc">
The decision function extracts the consensus value
    from a state. It is possible that a state is undecided.
    We choose to encode this by making consensus values
    options of bool. In this way <span class="inlinecode"><span class="id" title="var">None</span></span> signifies the
    absence of decision. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">decision</span> (<span class="nv">s</span> : state) : option bool :=
  <span class="kr">match</span> s <span class="kr">with</span>
  | Bottom =&gt; None
  | Something c some =&gt; Some c
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Get a list of everyone's decisions from the view
    of a given state 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">global_decisions</span> (<span class="nv">s</span> : state) : list (option bool) :=
  <span class="kr">match</span> s <span class="kr">with</span>
  | Bottom =&gt; []
  | Something c some =&gt; List.map decision (get_all_states index_listing some)
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
The value of the estimator is defined as the mode of all decisions,
    where possible decisions are &lt;0&gt;, &lt;1&gt; or &lt;{0, 1}&gt; (no decision).
    We choose to define the estimator as a relation between state and bool.
    If the mode value is a decisive one, the estimator will only relate
    to the chosen value, otherwise it will relate to both values.

<div class="paragraph"> </div>

    Currently, ties resolve generously (everyone equal to the mode is
    taken into account).
 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">estimator</span> (<span class="nv">s</span> : state) (<span class="nv">b</span> : bool) : <span class="kt">Prop</span> :=
  <span class="kr">let</span> <span class="nv">none_count</span> := List.count_occ decide_eq (global_decisions s) None <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">our_count</span> := List.count_occ decide_eq (global_decisions s) (Some b) <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">other_count</span> := List.count_occ decide_eq (global_decisions s) (Some (negb b)) <span class="kr">in</span>
  <span class="kr">match</span> s <span class="kr">with</span>
  | Bottom =&gt; <span class="kt">True</span>
  | Something c some =&gt; (none_count &gt;= our_count /\ none_count &gt;= other_count) \/ our_count &gt;= other_count
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Labels describe the type of transitions: either updates (with boolean values) or receiving of messages. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">label_list</span> : <span class="kt">Type</span> :=
| update (c : bool)
| receive.</span></span></span></pre><div class="doc">
Transitions:
<ul class="doclist">
<li> Update &lt;c&gt; =&gt; updates the state at <span class="inlinecode"><span class="id" title="var">index_self</span></span> with a new state which
                    contains &lt;c&gt; as a consensus value. A message is emitted to broadcast
                    this update: it contains the machine's index and its <i>previous state</i>.

</li>
<li> Receive =&gt; Updates the view of global states with new information
                 about the node which sent the received message.
                 No message is emitted.

</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">list_transition</span> (<span class="nv">l</span> : label_list) (<span class="nv">som</span> : state * option message) : state * option message :=
  <span class="kr">let</span> (<span class="nv">s</span>, om) := som <span class="kr">in</span>
     <span class="kr">match</span> l <span class="kr">with</span>
     | update c =&gt; ((update_consensus (update_state s s index_self) c), Some (index_self, s))
     | receive =&gt; <span class="kr">match</span> om <span class="kr">with</span>
                  | Some m =&gt; ((update_state s (snd m) (fst m)), None)
                  | None =&gt; (s, None)
                  <span class="kr">end</span>
     <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Validity:
<ul class="doclist">
<li> Update &lt;c&gt; =&gt; &lt;c&gt; must be in the estimator of the given state.

</li>
<li> Receive =&gt; A message must be received, sent by a <i>different</i> node.
                 The sender's state in his own state list
                 should match our view of it in our state list. 
</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">list_valid</span>
  (<span class="nv">est</span> : state -&gt; bool -&gt; <span class="kt">Prop</span>)
  (<span class="nv">l</span> : label_list)
  (<span class="nv">som</span> : state * option message)
  :=
  <span class="kr">let</span> (<span class="nv">s</span>, om) := som <span class="kr">in</span>
  <span class="kr">match</span> l <span class="kr">with</span>
  | update c =&gt; est s c /\ om = None
  | receive =&gt; <span class="kr">match</span> om <span class="kr">with</span>
               | None =&gt; <span class="kt">False</span>
               | Some m =&gt; project s (fst m) = project (snd m) (fst m) /\ (snd m) &lt;&gt; Bottom /\ index_self &lt;&gt; (fst m)
               <span class="kr">end</span>
    <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Finally, we are ready to instantiate the protocol as a VLSM 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v1.0 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">VLSM_list_protocol</span> : VLSM_type message :=
  { state := state
  ; label := label_list
  }.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">LSM_list</span> : VLSM_sign VLSM_list_protocol :=
  { initial_state_prop := initial_state_prop
  ; initial_message_prop := initial_message_prop
  ; s0 := state0
  ; m0 := message00
  ; l0 := receive
  }.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">VLSM_list_machine</span>
  (<span class="nv">est</span> : state -&gt; bool -&gt; <span class="kt">Prop</span>)
  : VLSM_class LSM_list :=
  { transition := list_transition
    ; valid := list_valid est
  }.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">VLSM_list</span>
  (<span class="nv">est</span> : state -&gt; bool -&gt; <span class="kt">Prop</span>)
  : VLSM message := mk_vlsm (VLSM_list_machine est).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">ListNode</span>.</span></span></span></pre></article></body></html>