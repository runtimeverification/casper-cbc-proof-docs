<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">ListSet</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Permutation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Logic.EqdepFacts.html#"><span class="id" title="library">EqdepFacts</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="CasperCBC.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#"><span class="id" title="library">Lib.ListSetExtras</span></a> <a class="idref" href="CasperCBC.Lib.SortedLists.html#"><span class="id" title="library">Lib.SortedLists</span></a> <a class="idref" href="CasperCBC.CBC.Protocol.html#"><span class="id" title="library">CBC.Protocol</span></a>.<br/>

<br/>
</div>

<div class="doc">
Building blocks for instancing CBC_protocol_eq with a concrete binary consensus protocol  Set equality on states 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="States" class="idref" href="#States"><span class="id" title="section">States</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="C" class="idref" href="#C"><span class="id" title="inductive">C</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="zero" class="idref" href="#zero"><span class="id" title="constructor">zero</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C:1"><span class="id" title="inductive">C</span></a><br/>
&nbsp;&nbsp;| <a id="one" class="idref" href="#one"><span class="id" title="constructor">one</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C:1"><span class="id" title="inductive">C</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="C_inhabited" class="idref" href="#C_inhabited"><span class="id" title="definition">C_inhabited</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="C_compare" class="idref" href="#C_compare"><span class="id" title="definition">C_compare</span></a> (<a id="c1:3" class="idref" href="#c1:3"><span class="id" title="binder">c1</span></a> <a id="c2:4" class="idref" href="#c2:4"><span class="id" title="binder">c2</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#c1:3"><span class="id" title="variable">c1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#c2:4"><span class="id" title="variable">c2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#c2:4"><span class="id" title="variable">c2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="C_compare_reflexive" class="idref" href="#C_compare_reflexive"><span class="id" title="lemma">C_compare_reflexive</span></a> : <a class="idref" href="CasperCBC.Lib.Preamble.html#CompareReflexive"><span class="id" title="class">CompareReflexive</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C_compare"><span class="id" title="definition">C_compare</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="C_compare_transitive" class="idref" href="#C_compare_transitive"><span class="id" title="lemma">C_compare_transitive</span></a> : <a class="idref" href="CasperCBC.Lib.Preamble.html#CompareTransitive"><span class="id" title="class">CompareTransitive</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C_compare"><span class="id" title="definition">C_compare</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">comp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="C_compare_strictorder" class="idref" href="#C_compare_strictorder"><span class="id" title="lemma">C_compare_strictorder</span></a> : <a class="idref" href="CasperCBC.Lib.Preamble.html#CompareStrictOrder"><span class="id" title="class">CompareStrictOrder</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C_compare"><span class="id" title="definition">C_compare</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#C_compare_reflexive"><span class="id" title="lemma">C_compare_reflexive</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#C_compare_transitive"><span class="id" title="lemma">C_compare_transitive</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="about_C" class="idref" href="#about_C"><span class="id" title="instance">about_C</span></a> : <a class="idref" href="CasperCBC.Lib.Preamble.html#StrictlyComparable"><span class="id" title="class">StrictlyComparable</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="CasperCBC.Lib.Preamble.html#inhabited"><span class="id" title="method">inhabited</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#C_inhabited"><span class="id" title="definition">C_inhabited</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#compare"><span class="id" title="method">compare</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#C_compare"><span class="id" title="definition">C_compare</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#compare_strictorder"><span class="id" title="method">compare_strictorder</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#C_compare_strictorder"><span class="id" title="lemma">C_compare_strictorder</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> <a id="States.V" class="idref" href="#States.V"><span class="id" title="variable">V</span></a> <a id="States.H" class="idref" href="#States.H"><span class="id" title="variable">H</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="about_V:10" class="idref" href="#about_V:10"><span class="id" title="binder">about_V</span></a> : `{<a class="idref" href="CasperCBC.Lib.Preamble.html#StrictlyComparable"><span class="id" title="class">StrictlyComparable</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="about_H:11" class="idref" href="#about_H:11"><span class="id" title="binder">about_H</span></a> : `{<a class="idref" href="CasperCBC.Lib.Preamble.html#StrictlyComparable"><span class="id" title="class">StrictlyComparable</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.H"><span class="id" title="variable">H</span></a>}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="posR" class="idref" href="#posR"><span class="id" title="definition">posR</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="r:12" class="idref" href="#r:12"><span class="id" title="binder">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#r:12"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="posR_proj1" class="idref" href="#posR_proj1"><span class="id" title="definition">posR_proj1</span></a> (<a id="r:13" class="idref" href="#r:13"><span class="id" title="binder">r</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#posR"><span class="id" title="definition">posR</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#r:13"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="CasperCBC.CBC.Binary.html#posR_proj1"><span class="id" title="definition">posR_proj1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#posR_proj1"><span class="id" title="definition">:</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#posR_proj1"><span class="id" title="definition">posR</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#posR_proj1"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#posR_proj1"><span class="id" title="definition">R</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="weight" class="idref" href="#weight"><span class="id" title="axiom">weight</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#posR"><span class="id" title="definition">posR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sum_weights" class="idref" href="#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<a id="l:15" class="idref" href="#l:15"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="v:16" class="idref" href="#v:16"><span class="id" title="binder">v</span></a> <a id="r:17" class="idref" href="#r:17"><span class="id" title="binder">r</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:16"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#r:17"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">R</span>) 0%<span class="id" title="var">R</span> <a class="idref" href="CasperCBC.CBC.Binary.html#l:15"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameters</span> (<a id="t_full" class="idref" href="#t_full"><span class="id" title="axiom">t_full</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="r:18" class="idref" href="#r:18"><span class="id" title="binder">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#r:18"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">&gt;=</span></a> 0)%<span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="suff_val_full" class="idref" href="#suff_val_full"><span class="id" title="axiom">suff_val_full</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="vs:20" class="idref" href="#vs:20"><span class="id" title="binder">vs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:20"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="v:21" class="idref" href="#v:21"><span class="id" title="binder">v</span></a> <a id="r:22" class="idref" href="#r:22"><span class="id" title="binder">r</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:21"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#r:22"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">R</span>) 0%<span class="id" title="var">R</span>) <a class="idref" href="CasperCBC.CBC.Binary.html#vs:20"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#t_full:19"><span class="id" title="variable">t_full</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Additional&nbsp;types&nbsp;for&nbsp;defining&nbsp;light&nbsp;node&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="justification_type" class="idref" href="#justification_type"><span class="id" title="definition">justification_type</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.H"><span class="id" title="variable">H</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="justification_type_inhabited" class="idref" href="#justification_type_inhabited"><span class="id" title="definition">justification_type_inhabited</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="justification_compare" class="idref" href="#justification_compare"><span class="id" title="definition">justification_compare</span></a> : (<a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a>) := <a class="idref" href="CasperCBC.Lib.SortedLists.html#list_compare"><span class="id" title="definition">list_compare</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare"><span class="id" title="method">compare</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="about_justification_type" class="idref" href="#about_justification_type"><span class="id" title="instance">about_justification_type</span></a> : <a class="idref" href="CasperCBC.Lib.Preamble.html#StrictlyComparable"><span class="id" title="class">StrictlyComparable</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="CasperCBC.Lib.Preamble.html#inhabited"><span class="id" title="method">inhabited</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type_inhabited"><span class="id" title="definition">justification_type_inhabited</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#compare"><span class="id" title="method">compare</span></a> := <a class="idref" href="CasperCBC.Lib.SortedLists.html#list_compare"><span class="id" title="definition">list_compare</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare"><span class="id" title="method">compare</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#compare_strictorder"><span class="id" title="method">compare_strictorder</span></a> := <a class="idref" href="CasperCBC.Lib.SortedLists.html#list_compare_strict_order"><span class="id" title="instance">list_compare_strict_order</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="message" class="idref" href="#message"><span class="id" title="definition">message</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="message_type" class="idref" href="#message_type"><span class="id" title="definition">message_type</span></a> := <a class="idref" href="CasperCBC.Lib.Preamble.html#TripleStrictlyComparable"><span class="id" title="instance">TripleStrictlyComparable</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="estimate" class="idref" href="#estimate"><span class="id" title="definition">estimate</span></a> (<a id="msg:24" class="idref" href="#msg:24"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:24"><span class="id" title="variable">msg</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">c</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sender" class="idref" href="#sender"><span class="id" title="definition">sender</span></a> (<a id="msg:26" class="idref" href="#msg:26"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:26"><span class="id" title="variable">msg</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">v</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="justification" class="idref" href="#justification"><span class="id" title="definition">justification</span></a> (<a id="msg:28" class="idref" href="#msg:28"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:28"><span class="id" title="variable">msg</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">j</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Defining&nbsp;new&nbsp;states&nbsp;for&nbsp;light&nbsp;node&nbsp;version&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="state" class="idref" href="#state"><span class="id" title="definition">state</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="state0" class="idref" href="#state0"><span class="id" title="definition">state0</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="about_state" class="idref" href="#about_state"><span class="id" title="axiom">about_state</span></a> : <a class="idref" href="CasperCBC.Lib.Preamble.html#StrictlyComparable"><span class="id" title="class">StrictlyComparable</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="state_eq" class="idref" href="#state_eq"><span class="id" title="definition">state_eq</span></a> (<a id="s1:31" class="idref" href="#s1:31"><span class="id" title="binder">s1</span></a> <a id="s2:32" class="idref" href="#s2:32"><span class="id" title="binder">s2</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:31"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:32"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:32"><span class="id" title="variable">s2</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:31"><span class="id" title="variable">s1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="state_union" class="idref" href="#state_union"><span class="id" title="definition">state_union</span></a> (<a id="s1:33" class="idref" href="#s1:33"><span class="id" title="binder">s1</span></a> <a id="s2:34" class="idref" href="#s2:34"><span class="id" title="binder">s2</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:33"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:34"><span class="id" title="variable">s2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_union_comm" class="idref" href="#state_union_comm"><span class="id" title="lemma">state_union_comm</span></a> : <span class="id" title="keyword">forall</span> <a id="s1:35" class="idref" href="#s1:35"><span class="id" title="binder">s1</span></a> <a id="s2:36" class="idref" href="#s2:36"><span class="id" title="binder">s2</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#state_eq"><span class="id" title="definition">state_eq</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:35"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:36"><span class="id" title="variable">s2</span></a>) (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:36"><span class="id" title="variable">s2</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:35"><span class="id" title="variable">s1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Binary.html#state_eq"><span class="id" title="definition">state_eq</span></a>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H_in</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_comm"><span class="id" title="lemma">set_union_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="observed" class="idref" href="#observed"><span class="id" title="definition">observed</span></a> (<a id="sigma:37" class="idref" href="#sigma:37"><span class="id" title="binder">sigma</span></a>:<a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sender"><span class="id" title="definition">sender</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:37"><span class="id" title="variable">sigma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameters</span> (<a id="hash" class="idref" href="#hash"><span class="id" title="axiom">hash</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.H"><span class="id" title="variable">H</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="hash_injective" class="idref" href="#hash_injective"><span class="id" title="axiom">hash_injective</span></a> : <a class="idref" href="CasperCBC.Lib.Preamble.html#Injective"><span class="id" title="class">Injective</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash:38"><span class="id" title="variable">hash</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="later" class="idref" href="#later"><span class="id" title="definition">later</span></a> (<a id="msg:40" class="idref" href="#msg:40"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>) (<a id="sigma:41" class="idref" href="#sigma:41"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="msg':42" class="idref" href="#msg':42"><span class="id" title="binder">msg'</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.ListExtras.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#hash"><span class="id" title="axiom">hash</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:40"><span class="id" title="variable">msg</span></a>) (<a class="idref" href="CasperCBC.CBC.Binary.html#justification"><span class="id" title="definition">justification</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg':42"><span class="id" title="variable">msg'</span></a>)) <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:41"><span class="id" title="variable">sigma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="from_sender" class="idref" href="#from_sender"><span class="id" title="definition">from_sender</span></a> (<a id="v:43" class="idref" href="#v:43"><span class="id" title="binder">v</span></a>:<a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a>) (<a id="sigma:44" class="idref" href="#sigma:44"><span class="id" title="binder">sigma</span></a>:<a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="msg':45" class="idref" href="#msg':45"><span class="id" title="binder">msg'</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.ListExtras.html#compareb"><span class="id" title="definition">compareb</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#sender"><span class="id" title="definition">sender</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg':45"><span class="id" title="variable">msg'</span></a>) <a class="idref" href="CasperCBC.CBC.Binary.html#v:43"><span class="id" title="variable">v</span></a>) <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:44"><span class="id" title="variable">sigma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="later_from" class="idref" href="#later_from"><span class="id" title="definition">later_from</span></a> (<a id="msg:46" class="idref" href="#msg:46"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>) (<a id="v:47" class="idref" href="#v:47"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a>) (<a id="sigma:48" class="idref" href="#sigma:48"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="msg':49" class="idref" href="#msg':49"><span class="id" title="binder">msg'</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.Lib.ListExtras.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#hash"><span class="id" title="axiom">hash</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:46"><span class="id" title="variable">msg</span></a>) (<a class="idref" href="CasperCBC.CBC.Binary.html#justification"><span class="id" title="definition">justification</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg':49"><span class="id" title="variable">msg'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.Lib.ListExtras.html#compareb"><span class="id" title="definition">compareb</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#sender"><span class="id" title="definition">sender</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg':49"><span class="id" title="variable">msg'</span></a>) <a class="idref" href="CasperCBC.CBC.Binary.html#v:47"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>) <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:48"><span class="id" title="variable">sigma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_nil_fn" class="idref" href="#is_nil_fn"><span class="id" title="definition">is_nil_fn</span></a> {<a id="A:50" class="idref" href="#A:50"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="l:51" class="idref" href="#l:51"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#A:50"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#l:51"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="latest_messages" class="idref" href="#latest_messages"><span class="id" title="definition">latest_messages</span></a> (<a id="sigma:53" class="idref" href="#sigma:53"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="v:54" class="idref" href="#v:54"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="msg:55" class="idref" href="#msg:55"><span class="id" title="binder">msg</span></a> =&gt; <a class="idref" href="CasperCBC.CBC.Binary.html#is_nil_fn"><span class="id" title="definition">is_nil_fn</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#later_from"><span class="id" title="definition">later_from</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:55"><span class="id" title="variable">msg</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:54"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:53"><span class="id" title="variable">sigma</span></a>)) (<a class="idref" href="CasperCBC.CBC.Binary.html#from_sender"><span class="id" title="definition">from_sender</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:54"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:53"><span class="id" title="variable">sigma</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="latest_messages_driven" class="idref" href="#latest_messages_driven"><span class="id" title="definition">latest_messages_driven</span></a> (<a id="estimator:56" class="idref" href="#estimator:56"><span class="id" title="binder">estimator</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="validator:57" class="idref" href="#validator:57"><span class="id" title="binder">validator</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="sigma:58" class="idref" href="#sigma:58"><span class="id" title="binder">sigma</span></a> <a id="c:59" class="idref" href="#c:59"><span class="id" title="binder">c</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#estimator:56"><span class="id" title="variable">estimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:58"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#c:59"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#validator:57"><span class="id" title="variable">validator</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#latest_messages"><span class="id" title="definition">latest_messages</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:58"><span class="id" title="variable">sigma</span></a>) <a class="idref" href="CasperCBC.CBC.Binary.html#c:59"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="latest_estimates" class="idref" href="#latest_estimates"><span class="id" title="definition">latest_estimates</span></a> (<a id="sigma:60" class="idref" href="#sigma:60"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="v:61" class="idref" href="#v:61"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#estimate"><span class="id" title="definition">estimate</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#latest_messages"><span class="id" title="definition">latest_messages</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:60"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:61"><span class="id" title="variable">v</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="latest_estimates_driven" class="idref" href="#latest_estimates_driven"><span class="id" title="definition">latest_estimates_driven</span></a> (<a id="estimator:62" class="idref" href="#estimator:62"><span class="id" title="binder">estimator</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="validator:63" class="idref" href="#validator:63"><span class="id" title="binder">validator</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="sigma:64" class="idref" href="#sigma:64"><span class="id" title="binder">sigma</span></a> <a id="c:65" class="idref" href="#c:65"><span class="id" title="binder">c</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#estimator:62"><span class="id" title="variable">estimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:64"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#c:65"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#validator:63"><span class="id" title="variable">validator</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#latest_estimates"><span class="id" title="definition">latest_estimates</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:64"><span class="id" title="variable">sigma</span></a>) <a class="idref" href="CasperCBC.CBC.Binary.html#c:65"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="in_fn" class="idref" href="#in_fn"><span class="id" title="definition">in_fn</span></a> {<a id="A:66" class="idref" href="#A:66"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="eq_dec:69" class="idref" href="#eq_dec:69"><span class="id" title="binder">eq_dec</span></a> : <span class="id" title="keyword">forall</span> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder">x</span></a> <a id="y:68" class="idref" href="#y:68"><span class="id" title="binder">y</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#A:66"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#y:68"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#y:68"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>) (<a id="a:70" class="idref" href="#a:70"><span class="id" title="binder">a</span></a>:<a class="idref" href="CasperCBC.CBC.Binary.html#A:66"><span class="id" title="variable">A</span></a>) (<a id="l:71" class="idref" href="#l:71"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#A:66"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#eq_dec:69"><span class="id" title="variable">eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#l:71"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validators_latest_estimates" class="idref" href="#validators_latest_estimates"><span class="id" title="definition">validators_latest_estimates</span></a> (<a id="c:72" class="idref" href="#c:72"><span class="id" title="binder">c</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a>) (<a id="sigma:73" class="idref" href="#sigma:73"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="v:74" class="idref" href="#v:74"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="CasperCBC.CBC.Binary.html#in_fn"><span class="id" title="definition">in_fn</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#c:72"><span class="id" title="variable">c</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#latest_estimates"><span class="id" title="definition">latest_estimates</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:73"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:74"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="CasperCBC.CBC.Binary.html#observed"><span class="id" title="definition">observed</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:73"><span class="id" title="variable">sigma</span></a>).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="score" class="idref" href="#score"><span class="id" title="definition">score</span></a> (<a id="c:75" class="idref" href="#c:75"><span class="id" title="binder">c</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a>) (<a id="sigma:76" class="idref" href="#sigma:76"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.Rplus"><span class="id" title="axiom">Rplus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R0"><span class="id" title="axiom">R0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#posR_proj1"><span class="id" title="definition">posR_proj1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#validators_latest_estimates"><span class="id" title="definition">validators_latest_estimates</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#c:75"><span class="id" title="variable">c</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:76"><span class="id" title="variable">sigma</span></a>))).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="reach" class="idref" href="#reach"><span class="id" title="definition">reach</span></a> (<a id="s1:77" class="idref" href="#s1:77"><span class="id" title="binder">s1</span></a> <a id="s2:78" class="idref" href="#s2:78"><span class="id" title="binder">s2</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:77"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:78"><span class="id" title="variable">s2</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reach_refl" class="idref" href="#reach_refl"><span class="id" title="lemma">reach_refl</span></a> : <span class="id" title="keyword">forall</span> <a id="s:79" class="idref" href="#s:79"><span class="id" title="binder">s</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:79"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:79"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl_refl"><span class="id" title="lemma">incl_refl</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reach_trans" class="idref" href="#reach_trans"><span class="id" title="lemma">reach_trans</span></a> : <span class="id" title="keyword">forall</span> <a id="s1:80" class="idref" href="#s1:80"><span class="id" title="binder">s1</span></a> <a id="s2:81" class="idref" href="#s2:81"><span class="id" title="binder">s2</span></a> <a id="s3:82" class="idref" href="#s3:82"><span class="id" title="binder">s3</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:80"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:81"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:81"><span class="id" title="variable">s2</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s3:82"><span class="id" title="variable">s3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:80"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s3:82"><span class="id" title="variable">s3</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl_tran"><span class="id" title="lemma">incl_tran</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reach_union" class="idref" href="#reach_union"><span class="id" title="lemma">reach_union</span></a> : <span class="id" title="keyword">forall</span> <a id="s1:83" class="idref" href="#s1:83"><span class="id" title="binder">s1</span></a> <a id="s2:84" class="idref" href="#s2:84"><span class="id" title="binder">s2</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:83"><span class="id" title="variable">s1</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:83"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:84"><span class="id" title="variable">s2</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">x</span> <span class="id" title="var">H_in</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reach_morphism" class="idref" href="#reach_morphism"><span class="id" title="lemma">reach_morphism</span></a> : <span class="id" title="keyword">forall</span> <a id="s1:85" class="idref" href="#s1:85"><span class="id" title="binder">s1</span></a> <a id="s2:86" class="idref" href="#s2:86"><span class="id" title="binder">s2</span></a> <a id="s3:87" class="idref" href="#s3:87"><span class="id" title="binder">s3</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:85"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:86"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#state_eq"><span class="id" title="definition">state_eq</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:86"><span class="id" title="variable">s2</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s3:87"><span class="id" title="variable">s3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:85"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s3:87"><span class="id" title="variable">s3</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s3</span> <span class="id" title="var">H_reach</span> <span class="id" title="var">H_eq</span> <span class="id" title="var">x</span> <span class="id" title="var">H_in</span>. <span class="id" title="var">spec</span> <span class="id" title="var">H_reach</span> <span class="id" title="var">x</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_eq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H_eq</span> <span class="id" title="var">_</span>]. <span class="id" title="var">spec</span> <span class="id" title="var">H_eq</span> <span class="id" title="var">x</span> <span class="id" title="var">H_reach</span>; <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Inductive</span> <a id="binEstimator" class="idref" href="#binEstimator"><span class="id" title="inductive">binEstimator</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;| <a id="estimator_one" class="idref" href="#estimator_one"><span class="id" title="constructor">estimator_one</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:90" class="idref" href="#sigma:90"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:90"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:90"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#binEstimator:88"><span class="id" title="inductive">binEstimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:90"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a><br/>
&nbsp;| <a id="estimator_zero" class="idref" href="#estimator_zero"><span class="id" title="constructor">estimator_zero</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:91" class="idref" href="#sigma:91"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:91"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:91"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#binEstimator:88"><span class="id" title="inductive">binEstimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:91"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a><br/>
&nbsp;| <a id="estimator_both_zero" class="idref" href="#estimator_both_zero"><span class="id" title="constructor">estimator_both_zero</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:92" class="idref" href="#sigma:92"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:92"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:92"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#binEstimator:88"><span class="id" title="inductive">binEstimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:92"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a><br/>
&nbsp;| <a id="estimator_both_one" class="idref" href="#estimator_both_one"><span class="id" title="constructor">estimator_both_one</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:93" class="idref" href="#sigma:93"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:93"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:93"><span class="id" title="variable">sigma</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#binEstimator:88"><span class="id" title="inductive">binEstimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:93"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="estimator_total" class="idref" href="#estimator_total"><span class="id" title="lemma">estimator_total</span></a> : <span class="id" title="keyword">forall</span> <a id="s:94" class="idref" href="#s:94"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="c:95" class="idref" href="#c:95"><span class="id" title="binder">c</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#binEstimator"><span class="id" title="inductive">binEstimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:94"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#c:95"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#total_order_T"><span class="id" title="lemma">total_order_T</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <span class="id" title="var">sigma</span>) (<a class="idref" href="CasperCBC.CBC.Binary.html#score"><span class="id" title="definition">score</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <span class="id" title="var">sigma</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">HLT</span> | <span class="id" title="var">HEQ</span>] | <span class="id" title="var">HGT</span>].<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#estimator_one"><span class="id" title="constructor">estimator_one</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#estimator_both_one"><span class="id" title="constructor">estimator_both_one</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#estimator_zero"><span class="id" title="constructor">estimator_zero</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocating_messages" class="idref" href="#equivocating_messages"><span class="id" title="definition">equivocating_messages</span></a> (<a id="msg1:96" class="idref" href="#msg1:96"><span class="id" title="binder">msg1</span></a> <a id="msg2:97" class="idref" href="#msg2:97"><span class="id" title="binder">msg2</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg1:96"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg2:97"><span class="id" title="variable">msg2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.CBC.Binary.html#msg1:96"><span class="id" title="variable">msg1</span></a>, <a class="idref" href="CasperCBC.CBC.Binary.html#msg2:97"><span class="id" title="variable">msg2</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">j1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">j2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#hash"><span class="id" title="axiom">hash</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg1:96"><span class="id" title="variable">msg1</span></a>) <span class="id" title="var">j2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#hash"><span class="id" title="axiom">hash</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg2:97"><span class="id" title="variable">msg2</span></a>) <span class="id" title="var">j1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocating_message_state" class="idref" href="#equivocating_message_state"><span class="id" title="definition">equivocating_message_state</span></a> (<a id="msg:100" class="idref" href="#msg:100"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_messages"><span class="id" title="definition">equivocating_messages</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:100"><span class="id" title="variable">msg</span></a>).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="equivocating_message_state_incl" class="idref" href="#equivocating_message_state_incl"><span class="id" title="lemma">equivocating_message_state_incl</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:101" class="idref" href="#sigma:101"><span class="id" title="binder">sigma</span></a> <a id="sigma':102" class="idref" href="#sigma':102"><span class="id" title="binder">sigma'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:101"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':102"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="msg:103" class="idref" href="#msg:103"><span class="id" title="binder">msg</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_message_state"><span class="id" title="definition">equivocating_message_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:103"><span class="id" title="variable">msg</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:101"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_message_state"><span class="id" title="definition">equivocating_message_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:103"><span class="id" title="variable">msg</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':102"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_message_state"><span class="id" title="definition">equivocating_message_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Heq</span>]]. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocating_senders" class="idref" href="#equivocating_senders"><span class="id" title="definition">equivocating_senders</span></a> (<a id="sigma:104" class="idref" href="#sigma:104"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sender"><span class="id" title="definition">sender</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="msg:105" class="idref" href="#msg:105"><span class="id" title="binder">msg</span></a> =&gt; <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_message_state"><span class="id" title="definition">equivocating_message_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:105"><span class="id" title="variable">msg</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:104"><span class="id" title="variable">sigma</span></a>) <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:104"><span class="id" title="variable">sigma</span></a>).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="equivocating_senders_nodup" class="idref" href="#equivocating_senders_nodup"><span class="id" title="lemma">equivocating_senders_nodup</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:106" class="idref" href="#sigma:106"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_senders"><span class="id" title="definition">equivocating_senders</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:106"><span class="id" title="variable">sigma</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_map_nodup"><span class="id" title="lemma">set_map_nodup</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="equivocating_senders_incl" class="idref" href="#equivocating_senders_incl"><span class="id" title="lemma">equivocating_senders_incl</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:107" class="idref" href="#sigma:107"><span class="id" title="binder">sigma</span></a> <a id="sigma':108" class="idref" href="#sigma':108"><span class="id" title="binder">sigma'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:107"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':108"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_senders"><span class="id" title="definition">equivocating_senders</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:107"><span class="id" title="variable">sigma</span></a>) (<a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_senders"><span class="id" title="definition">equivocating_senders</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':108"><span class="id" title="variable">sigma'</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_map_incl"><span class="id" title="lemma">set_map_incl</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl_tran"><span class="id" title="lemma">incl_tran</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="msg:110" class="idref" href="#msg:110"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#message"><span class="id" title="definition">message</span></a> =&gt; <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_message_state"><span class="id" title="definition">equivocating_message_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#msg:109"><span class="id" title="variable">msg</span></a> <span class="id" title="var">sigma</span>) <span class="id" title="var">sigma'</span>).<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#filter_incl"><span class="id" title="lemma">filter_incl</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#filter_incl_fn"><span class="id" title="lemma">filter_incl_fn</span></a>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_message_state_incl"><span class="id" title="lemma">equivocating_message_state_incl</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="fault_weight_state" class="idref" href="#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> (<a id="sigma:111" class="idref" href="#sigma:111"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_senders"><span class="id" title="definition">equivocating_senders</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:111"><span class="id" title="variable">sigma</span></a>).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sum_weights_in" class="idref" href="#sum_weights_in"><span class="id" title="lemma">sum_weights_in</span></a> : <span class="id" title="keyword">forall</span> <a id="v:112" class="idref" href="#v:112"><span class="id" title="binder">v</span></a> <a id="vs:113" class="idref" href="#vs:113"><span class="id" title="binder">vs</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:113"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:112"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:113"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:113"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:112"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:112"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:113"><span class="id" title="variable">vs</span></a>))%<span class="id" title="var">R</span>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <span class="id" title="var">v</span> <span class="id" title="var">v</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <span class="id" title="var">v</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">spec</span> <span class="id" title="var">IHvs</span> <span class="id" title="var">H5</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHvs</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="lemma">Rplus_comm</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a> <span class="id" title="var">v</span>) (<a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a> <span class="id" title="var">a</span>)). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" title="lemma">Rplus_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sum_weights_incl" class="idref" href="#sum_weights_incl"><span class="id" title="lemma">sum_weights_incl</span></a> : <span class="id" title="keyword">forall</span> <a id="vs:114" class="idref" href="#vs:114"><span class="id" title="binder">vs</span></a> <a id="vs':115" class="idref" href="#vs':115"><span class="id" title="binder">vs'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:114"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs':115"><span class="id" title="variable">vs'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:114"><span class="id" title="variable">vs</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs':115"><span class="id" title="variable">vs'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs:114"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#vs':115"><span class="id" title="variable">vs'</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">vs</span> <span class="id" title="var">vs'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">vs</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#incl_empty"><span class="id" title="lemma">incl_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.RIneq.html#Rle_refl"><span class="id" title="lemma">Rle_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">vs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights_in"><span class="id" title="lemma">sum_weights_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_l"><span class="id" title="lemma">Rplus_le_compat_l</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHvs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove_nodup"><span class="id" title="lemma">set_remove_nodup</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hrem</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove_iff"><span class="id" title="lemma">set_remove_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrem</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Hxa</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hxa</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> <span class="id" title="var">vs'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHvs'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hin'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Raxioms.html#Rplus_0_l"><span class="id" title="lemma">Rplus_0_l</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.RIneq.html#Rplus_le_compat_r"><span class="id" title="lemma">Rplus_le_compat_r</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fault_weight_state_incl" class="idref" href="#fault_weight_state_incl"><span class="id" title="lemma">fault_weight_state_incl</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:116" class="idref" href="#sigma:116"><span class="id" title="binder">sigma</span></a> <a id="sigma':117" class="idref" href="#sigma':117"><span class="id" title="binder">sigma'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:116"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':117"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:116"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':117"><span class="id" title="variable">sigma'</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights_incl"><span class="id" title="lemma">sum_weights_incl</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_senders_nodup"><span class="id" title="lemma">equivocating_senders_nodup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_senders_incl"><span class="id" title="lemma">equivocating_senders_incl</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fault_weight_max" class="idref" href="#fault_weight_max"><span class="id" title="lemma">fault_weight_max</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:118" class="idref" href="#sigma:118"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:118"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights"><span class="id" title="definition">sum_weights</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_map"><span class="id" title="definition">set_map</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sender"><span class="id" title="definition">sender</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:118"><span class="id" title="variable">sigma</span></a>))%<span class="id" title="var">R</span>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#sum_weights_incl"><span class="id" title="lemma">sum_weights_incl</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_map_nodup"><span class="id" title="lemma">set_map_nodup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Binary.html#equivocating_senders"><span class="id" title="definition">equivocating_senders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_map_incl"><span class="id" title="lemma">set_map_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="equivocation_weight_compat" class="idref" href="#equivocation_weight_compat"><span class="id" title="lemma">equivocation_weight_compat</span></a> : <span class="id" title="keyword">forall</span> <a id="s1:119" class="idref" href="#s1:119"><span class="id" title="binder">s1</span></a> <a id="s2:120" class="idref" href="#s2:120"><span class="id" title="binder">s2</span></a>, (<a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:119"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:120"><span class="id" title="variable">s2</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:119"><span class="id" title="variable">s1</span></a>))%<span class="id" title="var">R</span>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H_useful</span> := <a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state_incl"><span class="id" title="lemma">fault_weight_state_incl</span></a> <span class="id" title="var">s1</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <span class="id" title="var">s2</span> <span class="id" title="var">s1</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">H_useful</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H_in</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="valid_estimate_condition" class="idref" href="#valid_estimate_condition"><span class="id" title="definition">valid_estimate_condition</span></a> (<a id="c:121" class="idref" href="#c:121"><span class="id" title="binder">c</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a>) (<a id="sigma:122" class="idref" href="#sigma:122"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#binEstimator"><span class="id" title="inductive">binEstimator</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:122"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#c:121"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="fault_tolerance_condition" class="idref" href="#fault_tolerance_condition"><span class="id" title="definition">fault_tolerance_condition</span></a> (<a id="sigma:123" class="idref" href="#sigma:123"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:123"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#t_full"><span class="id" title="axiom">t_full</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
&nbsp;<span class="comment">(*&nbsp;What&nbsp;if&nbsp;we&nbsp;don't&nbsp;need&nbsp;sorted&nbsp;hashes&nbsp;here&nbsp;either&nbsp;*)</span><br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="hash_state" class="idref" href="#hash_state"><span class="id" title="definition">hash_state</span></a> (<a id="sigma:124" class="idref" href="#sigma:124"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>) : <a class="idref" href="CasperCBC.CBC.Binary.html#justification_type"><span class="id" title="definition">justification_type</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash"><span class="id" title="axiom">hash</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:124"><span class="id" title="variable">sigma</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Inductive</span> <a id="protocol_state" class="idref" href="#protocol_state"><span class="id" title="inductive">protocol_state</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;| <a id="protocol_state_nil" class="idref" href="#protocol_state_nil"><span class="id" title="constructor">protocol_state_nil</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state:125"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#state0"><span class="id" title="definition">state0</span></a><br/>
&nbsp;| <a id="protocol_state_cons" class="idref" href="#protocol_state_cons"><span class="id" title="constructor">protocol_state_cons</span></a> : <span class="id" title="keyword">forall</span> <a id="c:127" class="idref" href="#c:127"><span class="id" title="binder">c</span></a> <a id="v:128" class="idref" href="#v:128"><span class="id" title="binder">v</span></a> <a id="j:129" class="idref" href="#j:129"><span class="id" title="binder">j</span></a> <a id="sigma':130" class="idref" href="#sigma':130"><span class="id" title="binder">sigma'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state:125"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#j:129"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#valid_estimate_condition"><span class="id" title="definition">valid_estimate_condition</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#c:127"><span class="id" title="variable">c</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#j:129"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#c:127"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:128"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#j:129"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':130"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state:125"><span class="id" title="inductive">protocol_state</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.CBC.Binary.html#c:127"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#v:128"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#j:129"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':130"><span class="id" title="variable">sigma'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':130"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition"><span class="id" title="definition">fault_tolerance_condition</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':130"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state:125"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':130"><span class="id" title="variable">sigma'</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fault_tolerance_condition_subset" class="idref" href="#fault_tolerance_condition_subset"><span class="id" title="lemma">fault_tolerance_condition_subset</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:131" class="idref" href="#sigma:131"><span class="id" title="binder">sigma</span></a> <a id="sigma':132" class="idref" href="#sigma':132"><span class="id" title="binder">sigma'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:131"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':132"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition"><span class="id" title="definition">fault_tolerance_condition</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':132"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition"><span class="id" title="definition">fault_tolerance_condition</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:131"><span class="id" title="variable">sigma</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition"><span class="id" title="definition">fault_tolerance_condition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.RIneq.html#Rle_trans"><span class="id" title="lemma">Rle_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> <span class="id" title="var">sigma'</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state_incl"><span class="id" title="lemma">fault_weight_state_incl</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="protocol_state_nodup" class="idref" href="#protocol_state_nodup"><span class="id" title="lemma">protocol_state_nodup</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:133" class="idref" href="#sigma:133"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:133"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:133"><span class="id" title="variable">sigma</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fault_tolerance_condition_set_eq" class="idref" href="#fault_tolerance_condition_set_eq"><span class="id" title="lemma">fault_tolerance_condition_set_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:134" class="idref" href="#sigma:134"><span class="id" title="binder">sigma</span></a> <a id="sigma':135" class="idref" href="#sigma':135"><span class="id" title="binder">sigma'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:134"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':135"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition"><span class="id" title="definition">fault_tolerance_condition</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:134"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition"><span class="id" title="definition">fault_tolerance_condition</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':135"><span class="id" title="variable">sigma'</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition_subset"><span class="id" title="lemma">fault_tolerance_condition_subset</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="set_eq_protocol_state" class="idref" href="#set_eq_protocol_state"><span class="id" title="lemma">set_eq_protocol_state</span></a> : <span class="id" title="keyword">forall</span> <a id="sigma:136" class="idref" href="#sigma:136"><span class="id" title="binder">sigma</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:136"><span class="id" title="variable">sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="sigma':137" class="idref" href="#sigma':137"><span class="id" title="binder">sigma'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma:136"><span class="id" title="variable">sigma</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':137"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':137"><span class="id" title="variable">sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#sigma':137"><span class="id" title="variable">sigma'</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sigma</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Binary.html#state0"><span class="id" title="definition">state0</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#incl_empty"><span class="id" title="lemma">incl_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_remove"><span class="id" title="lemma">set_eq_remove</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hset_eq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHH'2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hset_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state_cons"><span class="id" title="constructor">protocol_state_cons</span></a> <span class="id" title="var">c</span> <span class="id" title="var">v</span> <span class="id" title="var">j</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">H4</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition_set_eq"><span class="id" title="lemma">fault_tolerance_condition_set_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove_nodup"><span class="id" title="lemma">set_remove_nodup</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="about_prot_state" class="idref" href="#about_prot_state"><span class="id" title="lemma">about_prot_state</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s1:138" class="idref" href="#s1:138"><span class="id" title="binder">s1</span></a> <a id="s2:139" class="idref" href="#s2:139"><span class="id" title="binder">s2</span></a> : <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:138"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:139"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:138"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:139"><span class="id" title="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#t_full"><span class="id" title="axiom">t_full</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s1:138"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s2:139"><span class="id" title="variable">s2</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sig1</span> <span class="id" title="var">sig2</span> <span class="id" title="var">Hps1</span> <span class="id" title="var">Hps2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hps2</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHps2_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <span class="id" title="var">sig1</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">sigma'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHps2_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#fault_tolerance_condition_subset"><span class="id" title="lemma">fault_tolerance_condition_subset</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <span class="id" title="var">sig1</span> <span class="id" title="var">sigma'</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove_1"><span class="id" title="lemma">set_remove_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHHps2_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state_nodup"><span class="id" title="lemma">protocol_state_nodup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hps1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hnodups1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HnodupUs1s'</span> := <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <span class="id" title="var">Hnodups1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HnodupUs1s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">sig1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#set_eq_protocol_state"><span class="id" title="lemma">set_eq_protocol_state</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <span class="id" title="var">sig1</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">sigma'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_remove_union_in"><span class="id" title="lemma">set_eq_remove_union_in</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state_cons"><span class="id" title="constructor">protocol_state_cons</span></a> <span class="id" title="var">c</span> <span class="id" title="var">v</span> <span class="id" title="var">j</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove_nodup"><span class="id" title="lemma">set_remove_nodup</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">HnodupUs1s'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hnoduprem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Binary.html#set_eq_protocol_state"><span class="id" title="lemma">set_eq_protocol_state</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a> <span class="id" title="var">sig1</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#compare_eq_dec"><span class="id" title="lemma">compare_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#hash_state"><span class="id" title="definition">hash_state</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">sigma'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_remove_union_not_in"><span class="id" title="lemma">set_eq_remove_union_not_in</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Instance</span> <a id="LightNode_seteq" class="idref" href="#LightNode_seteq"><span class="id" title="instance">LightNode_seteq</span></a> : <a class="idref" href="CasperCBC.CBC.Protocol.html#CBC_protocol_eq"><span class="id" title="class">CBC_protocol_eq</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;&gt;&gt;&nbsp;*)</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#consensus_values"><span class="id" title="method">consensus_values</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#C"><span class="id" title="inductive">C</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&gt;&gt;&nbsp;*)</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#about_consensus_values"><span class="id" title="method">about_consensus_values</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#about_C"><span class="id" title="instance">about_C</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#validators"><span class="id" title="method">validators</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#States.V"><span class="id" title="variable">V</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#about_validators"><span class="id" title="method">about_validators</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#States.about_V"><span class="id" title="variable">about_V</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#weight"><span class="id" title="method">weight</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#weight"><span class="id" title="axiom">weight</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#t"><span class="id" title="method">t</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#t_full"><span class="id" title="axiom">t_full</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#suff_val"><span class="id" title="method">suff_val</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#suff_val_full"><span class="id" title="axiom">suff_val_full</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#state"><span class="id" title="method">state</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#state"><span class="id" title="definition">state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#about_state"><span class="id" title="method">about_state</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#about_state"><span class="id" title="axiom">about_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#state0"><span class="id" title="method">state0</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#state0"><span class="id" title="definition">state0</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#state_eq"><span class="id" title="method">state_eq</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#state_eq"><span class="id" title="definition">state_eq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#state_union"><span class="id" title="method">state_union</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#state_union"><span class="id" title="definition">state_union</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#state_union_comm"><span class="id" title="method">state_union_comm</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#state_union_comm"><span class="id" title="lemma">state_union_comm</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#reach"><span class="id" title="method">reach</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#reach"><span class="id" title="definition">reach</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#reach_refl"><span class="id" title="method">reach_refl</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#reach_refl"><span class="id" title="lemma">reach_refl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#reach_trans"><span class="id" title="method">reach_trans</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#reach_trans"><span class="id" title="lemma">reach_trans</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#reach_union"><span class="id" title="method">reach_union</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#reach_union"><span class="id" title="lemma">reach_union</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#reach_morphism"><span class="id" title="method">reach_morphism</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#reach_morphism"><span class="id" title="lemma">reach_morphism</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&gt;&gt;&nbsp;*)</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#E"><span class="id" title="method">E</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#binEstimator"><span class="id" title="inductive">binEstimator</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#estimator_total"><span class="id" title="method">estimator_total</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#estimator_total"><span class="id" title="lemma">estimator_total</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#prot_state"><span class="id" title="method">prot_state</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state"><span class="id" title="inductive">protocol_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#about_state0"><span class="id" title="method">about_state0</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#protocol_state_nil"><span class="id" title="constructor">protocol_state_nil</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#equivocation_weight"><span class="id" title="method">equivocation_weight</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#fault_weight_state"><span class="id" title="definition">fault_weight_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#equivocation_weight_compat"><span class="id" title="method">equivocation_weight_compat</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#equivocation_weight_compat"><span class="id" title="lemma">equivocation_weight_compat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Protocol.html#about_prot_state"><span class="id" title="method">about_prot_state</span></a> := <a class="idref" href="CasperCBC.CBC.Binary.html#about_prot_state"><span class="id" title="lemma">about_prot_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="bivalent" class="idref" href="#bivalent"><span class="id" title="definition">bivalent</span></a> : <a class="idref" href="CasperCBC.CBC.Protocol.html#pstate"><span class="id" title="definition">pstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="s:140" class="idref" href="#s:140"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.CBC.Protocol.html#pstate"><span class="id" title="definition">pstate</span></a>) =&gt; <a class="idref" href="CasperCBC.CBC.Protocol.html#not_locked_off"><span class="id" title="definition">not_locked_off</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:140"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.CBC.Protocol.html#not_locked_off"><span class="id" title="definition">not_locked_off</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:140"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="stuck" class="idref" href="#stuck"><span class="id" title="definition">stuck</span></a> : <a class="idref" href="CasperCBC.CBC.Protocol.html#pstate"><span class="id" title="definition">pstate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="s:141" class="idref" href="#s:141"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.CBC.Protocol.html#pstate"><span class="id" title="definition">pstate</span></a>) =&gt; <a class="idref" href="CasperCBC.CBC.Protocol.html#locked_off"><span class="id" title="definition">locked_off</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:141"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.CBC.Protocol.html#locked_off"><span class="id" title="definition">locked_off</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:141"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="locked_on_off" class="idref" href="#locked_on_off"><span class="id" title="lemma">locked_on_off</span></a> : <span class="id" title="keyword">forall</span> <a id="s:142" class="idref" href="#s:142"><span class="id" title="binder">s</span></a>, <a class="idref" href="CasperCBC.CBC.Protocol.html#locked_on"><span class="id" title="definition">locked_on</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:142"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.CBC.Protocol.html#locked_off"><span class="id" title="definition">locked_off</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a> <a class="idref" href="CasperCBC.CBC.Binary.html#s:142"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#locked_on"><span class="id" title="definition">locked_on</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#locked_off"><span class="id" title="definition">locked_off</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#not_locked_off"><span class="id" title="definition">not_locked_off</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#not"><span class="id" title="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Lon1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#decided_on"><span class="id" title="definition">decided_on</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">D</span> <a class="idref" href="CasperCBC.CBC.Binary.html#one"><span class="id" title="constructor">one</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">D1</span>. <span class="id" title="var">remember</span> (<span class="id" title="var">D</span> <a class="idref" href="CasperCBC.CBC.Binary.html#zero"><span class="id" title="constructor">zero</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">D0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqD</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">HeqD</span>; <span class="id" title="tactic">clear</span>  <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Lon1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Loff0</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Loff0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#decided_on"><span class="id" title="definition">decided_on</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#decided"><span class="id" title="definition">decided</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H_s</span> : <a class="idref" href="CasperCBC.CBC.Protocol.html#pstate_rel"><span class="id" title="definition">pstate_rel</span></a> <span class="id" title="var">sigma</span> <span class="id" title="var">sigma</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#pstate_rel_refl"><span class="id" title="lemma">pstate_rel_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_s</span> <span class="id" title="keyword">as</span> <span class="id" title="var">D1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_s</span> <span class="id" title="keyword">as</span> <span class="id" title="var">D0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#decided_on_predicate"><span class="id" title="definition">decided_on_predicate</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.CBC.Binary.html#estimator_total"><span class="id" title="lemma">estimator_total</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">sigma</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">c'</span> <span class="id" title="var">H_c'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">D0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_c'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">C0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">D1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_c'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">C1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">C0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#decided_on"><span class="id" title="definition">decided_on</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHLoff0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hrel</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#forward_consistency"><span class="id" title="lemma">forward_consistency</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Loff0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Loff0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sigma'</span> <span class="id" title="var">H_r'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">H2</span> <span class="id" title="var">sigma'</span> <span class="id" title="var">H_r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#one_path_holds_now"><span class="id" title="constructor">one_path_holds_now</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#decided_on"><span class="id" title="definition">decided_on</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_r'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">H_r'</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.CBC.Protocol.html#forward_consistency"><span class="id" title="lemma">forward_consistency</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sigma'</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.CBC.Binary.html#States"><span class="id" title="section">States</span></a>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
