<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.Streams.html#"><span class="id" title="library">Streams</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Logic.ProofIrrelevance.html#"><span class="id" title="library">ProofIrrelevance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Arith.Plus.html#"><span class="id" title="library">Coq.Arith.Plus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Arith.Minus.html#"><span class="id" title="library">Coq.Arith.Minus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">Coq.Logic.FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Coq.Reals.Reals</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="CasperCBC.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#"><span class="id" title="library">VLSM.Common</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#"><span class="id" title="library">VLSM.Composition</span></a> <a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#"><span class="id" title="library">VLSM.ProjectionTraces</span></a> <a class="idref" href="CasperCBC.CBC.Common.html#"><span class="id" title="library">CBC.Common</span></a> <a class="idref" href="CasperCBC.CBC.Equivocation.html#"><span class="id" title="library">CBC.Equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="exists_proj1_sig" class="idref" href="#exists_proj1_sig"><span class="id" title="lemma">exists_proj1_sig</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:2" class="idref" href="#P:2"><span class="id" title="binder">P</span></a>:<a class="idref" href="CasperCBC.VLSM.Equivocation.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="a:3" class="idref" href="#a:3"><span class="id" title="binder">a</span></a>:<a class="idref" href="CasperCBC.VLSM.Equivocation.html#A:1"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="xP:5" class="idref" href="#xP:5"><span class="id" title="binder">xP</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#P:2"><span class="id" title="variable">P</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#x:4"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#xP:5"><span class="id" title="variable">xP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#a:3"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#P:2"><span class="id" title="variable">P</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#a:3"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>] <span class="id" title="var">Heq</span>];<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab51"></a><h3 class="section">Summary</h3>

This chapter is dedicated to building the language for discussing equivocation.
    Equivocation occurs on the receipt of a message which has not been previously sent.
    The designated sender (validator) of the message is then said to be equivocating.
    Our main purpose is to keep track of equivocating senders in a composite context
    and limit equivocation by means of a composition constraint.

<div class="paragraph"> </div>

 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a id="lab52"></a><h3 class="section">State-message oracles. Endowing states with history.</h3>


<div class="paragraph"> </div>

    Our first step is to define some useful concepts in the context of a single VLSM.

<div class="paragraph"> </div>

    Apart from basic definitions of equivocation, we introduce the concept of a
    <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a></span>. Such an oracle can, given a state and a message,
    decide whether the message has been sent (or received) in the history leading
    to the current state. Formally, we say that a <span class="inlinecode"><a class="idref" href="CasperCBC.CBC.FullNode.Validator.State.html#message"><span class="id" title="inductive">message</span></a></span> &lt;m&gt; <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
    if we're in  <span class="inlinecode"><a class="idref" href="CasperCBC.CBC.FullNode.Validator.State.html#state"><span class="id" title="definition">state</span></a></span> &lt;s&gt; iff every protocol trace which produces &lt;s&gt; contains &lt;m&gt;
    as a sent message somewhere along the way.

<div class="paragraph"> </div>

    The existence of such oracles, which practically imply endowing states with history,
    is necessary if we are to detect equivocation using a composition constaint, as these
    constraints act upon states, not traces.
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Simple" class="idref" href="#Simple"><span class="id" title="section">Simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="message:6" class="idref" href="#message:6"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:7" class="idref" href="#vlsm:7"><span class="id" title="binder">vlsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message:6"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pre_vlsm:8" class="idref" href="#pre_vlsm:8"><span class="id" title="binder">pre_vlsm</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#vlsm:7"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
We begin with a basic utility function. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="trace_has_message" class="idref" href="#trace_has_message"><span class="id" title="definition">trace_has_message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:9" class="idref" href="#message_selector:9"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="msg:10" class="idref" href="#msg:10"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tr:11" class="idref" href="#tr:11"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="item:12" class="idref" href="#item:12"><span class="id" title="binder">item</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:9"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#item:12"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#msg:10"><span class="id" title="variable">msg</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:11"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
</div>

<div class="doc">
The following property detects equivocation in a given trace for a given message. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocation_in_trace" class="idref" href="#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="msg:13" class="idref" href="#msg:13"><span class="id" title="binder">msg</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tr:14" class="idref" href="#tr:14"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="prefix:15" class="idref" href="#prefix:15"><span class="id" title="binder">prefix</span></a> <a id="suffix:16" class="idref" href="#suffix:16"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="item:17" class="idref" href="#item:17"><span class="id" title="binder">item</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:14"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#prefix:15"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#item:17"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#suffix:16"><span class="id" title="variable">suffix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#item:17"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#msg:13"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#msg:13"><span class="id" title="variable">msg</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#prefix:15"><span class="id" title="variable">prefix</span></a>).<br/>

<br/>
</div>

<div class="doc">
We intend to give define several message oracles: <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>, <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a></span>,
    <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> and <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received"><span class="id" title="method">has_not_been_received</span></a></span>. To avoid repetition, we give
    build some generic definitions first. 
<div class="paragraph"> </div>

 General signature of a message oracle 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="state_message_oracle" class="idref" href="#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="specialized_selected_message_exists_in_all_traces" class="idref" href="#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:18" class="idref" href="#X:18"><span class="id" title="binder">X</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:19" class="idref" href="#message_selector:19"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:20" class="idref" href="#s:20"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:21" class="idref" href="#m:21"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="start:22" class="idref" href="#start:22"><span class="id" title="binder">start</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tr:23" class="idref" href="#tr:23"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:24" class="idref" href="#Htr:24"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#X:18"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:22"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:23"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hlast:25" class="idref" href="#Hlast:25"><span class="id" title="binder">Hlast</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:23"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:22"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:20"><span class="id" title="variable">s</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> (<a id="elem:26" class="idref" href="#elem:26"><span class="id" title="binder">elem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>) =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:19"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#elem:26"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:21"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:23"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="selected_message_exists_in_all_traces" class="idref" href="#selected_message_exists_in_all_traces"><span class="id" title="definition">selected_message_exists_in_all_traces</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Equivocation.html#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="specialized_selected_message_exists_in_some_traces" class="idref" href="#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:27" class="idref" href="#X:27"><span class="id" title="binder">X</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:28" class="idref" href="#message_selector:28"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:29" class="idref" href="#s:29"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:30" class="idref" href="#m:30"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="start:31" class="idref" href="#start:31"><span class="id" title="binder">start</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tr:32" class="idref" href="#tr:32"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:33" class="idref" href="#Htr:33"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#X:27"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:31"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:32"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hlast:34" class="idref" href="#Hlast:34"><span class="id" title="binder">Hlast</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:32"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:31"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:29"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> (<a id="elem:35" class="idref" href="#elem:35"><span class="id" title="binder">elem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>) =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:28"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#elem:35"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:30"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:32"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="selected_message_exists_in_some_traces" class="idref" href="#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Equivocation.html#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="selected_message_exists_in_no_trace" class="idref" href="#selected_message_exists_in_no_trace"><span class="id" title="definition">selected_message_exists_in_no_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:36" class="idref" href="#message_selector:36"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:37" class="idref" href="#s:37"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:38" class="idref" href="#m:38"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="start:39" class="idref" href="#start:39"><span class="id" title="binder">start</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tr:40" class="idref" href="#tr:40"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:41" class="idref" href="#Htr:41"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:39"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:40"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hlast:42" class="idref" href="#Hlast:42"><span class="id" title="binder">Hlast</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:40"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:39"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:37"><span class="id" title="variable">s</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> (<a id="elem:43" class="idref" href="#elem:43"><span class="id" title="binder">elem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>) =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:36"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#elem:43"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:38"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:40"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="selected_message_exists_not_some_iff_no" class="idref" href="#selected_message_exists_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_not_some_iff_no</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:44" class="idref" href="#message_selector:44"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:45" class="idref" href="#s:45"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:46" class="idref" href="#m:46"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:44"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:46"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_no_trace"><span class="id" title="definition">selected_message_exists_in_no_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:44"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:45"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:46"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hnot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span> <span class="id" title="var">Hsend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>, <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hsend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hno</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">Hsend</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Hno</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span> <span class="id" title="var">Hsend</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Sufficient condition for 'specialized_selected_message_exists_in_some_traces'
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="specialized_selected_message_exists_in_some_traces_from" class="idref" href="#specialized_selected_message_exists_in_some_traces_from"><span class="id" title="lemma">specialized_selected_message_exists_in_some_traces_from</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:47" class="idref" href="#X:47"><span class="id" title="binder">X</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:48" class="idref" href="#message_selector:48"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:50" class="idref" href="#m:50"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="start:51" class="idref" href="#start:51"><span class="id" title="binder">start</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tr:52" class="idref" href="#tr:52"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:53" class="idref" href="#Htr:53"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#X:47"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:51"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:52"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hlast:54" class="idref" href="#Hlast:54"><span class="id" title="binder">Hlast</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:52"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#start:51"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:49"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsome:56" class="idref" href="#Hsome:56"><span class="id" title="binder">Hsome</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> (<a id="elem:55" class="idref" href="#elem:55"><span class="id" title="binder">elem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>) =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:48"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#elem:55"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:50"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:52"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#X:47"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:48"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:49"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:50"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_first_pstate"><span class="id" title="lemma">finite_ptrace_first_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hstart</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hstart</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_is_trace"><span class="id" title="lemma">protocol_is_trace</span></a> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hstart</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr_start</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_start</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span>| <span class="id" title="var">Htr_start</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">start</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlast</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_start</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">is_start</span> [<span class="id" title="var">tr_start</span> [<span class="id" title="var">Htr_start</span> [<span class="id" title="var">Heqstart</span> <span class="id" title="var">Hout</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#last_error_destination_last"><span class="id" title="lemma">last_error_destination_last</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">default</span> := <span class="id" title="var">is_start</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heqstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">is_start</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">tr_start</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_start</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr_start</span> <span class="id" title="var">His_start</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">start</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_app_iff"><span class="id" title="lemma">finite_protocol_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#last_app"><span class="id" title="lemma">last_app</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_app"><span class="id" title="lemma">Exists_app</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="selected_messages_consistency_prop" class="idref" href="#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:57" class="idref" href="#message_selector:57"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:58" class="idref" href="#s:58"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:59" class="idref" href="#m:59"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:57"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:59"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces"><span class="id" title="definition">selected_message_exists_in_all_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:57"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:59"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="selected_message_exists_in_all_traces_initial_state" class="idref" href="#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:60" class="idref" href="#s:60"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:61" class="idref" href="#Hs:61"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:60"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="selector:62" class="idref" href="#selector:62"><span class="id" title="binder">selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:63" class="idref" href="#m:63"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces"><span class="id" title="definition">selected_message_exists_in_all_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selector:62"><span class="id" title="variable">selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:60"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:63"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hselected</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hps</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">replace</span> <span class="id" title="var">s</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hselected</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">Htr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hselected</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hselected</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hx</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Checks if all <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.CommonTraces.html#protocol_trace"><span class="id" title="inductive">protocol_trace</span></a></span>s leading to a certain state contain a certain message.
    The <span class="inlinecode"><span class="id" title="var">message_selector</span></span> argument specifices whether we're looking for received or sent
    messages.

<div class="paragraph"> </div>

    Notably, the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.CommonTraces.html#protocol_trace"><span class="id" title="inductive">protocol_trace</span></a></span>s over which we are iterating belong to the preloaded
    version of the target VLSM. This is because we want VLSMs to have oracles which
    are valid irrespective of the composition they take part in. As we know,
    the behaviour preloaded VLSMs includes behaviours of its projections in any
    composition. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="all_traces_have_message_prop" class="idref" href="#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:64" class="idref" href="#message_selector:64"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="oracle:65" class="idref" href="#oracle:65"><span class="id" title="binder">oracle</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:66" class="idref" href="#s:66"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:67" class="idref" href="#m:67"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#oracle:65"><span class="id" title="variable">oracle</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:66"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:67"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces"><span class="id" title="definition">selected_message_exists_in_all_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:64"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:66"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:67"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="no_traces_have_message_prop" class="idref" href="#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message_selector:68" class="idref" href="#message_selector:68"><span class="id" title="binder">message_selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="oracle:69" class="idref" href="#oracle:69"><span class="id" title="binder">oracle</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:70" class="idref" href="#s:70"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:71" class="idref" href="#m:71"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#oracle:69"><span class="id" title="variable">oracle</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:70"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:71"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_no_trace"><span class="id" title="definition">selected_message_exists_in_no_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message_selector:68"><span class="id" title="variable">message_selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:70"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:71"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="has_been_sent_prop" class="idref" href="#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="has_not_been_sent_prop" class="idref" href="#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="has_been_received_prop" class="idref" href="#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="has_not_been_received_prop" class="idref" href="#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a>).<br/>

<br/>
</div>

<div class="doc">
Per the vocabulary of the official VLSM document, we say that VLSMs endowed
    with a <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a></span> for sent messages have the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> capability.
    Capabilities for receiving messages are treated analogously, so we omit mentioning
    them explicitly.

<div class="paragraph"> </div>

    Notably, we also define the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a></span> oracle, which decides if a message
    has definitely not been sent, on any of the traces producing a current state.

<div class="paragraph"> </div>

    Furthermore, we require a <span class="inlinecode"><span class="id" title="var">sent_excluded_middle</span></span> property, which stipulates
    that any argument to the oracle should return true in exactly one of
    <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> and <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="has_been_sent_capability" class="idref" href="#has_been_sent_capability"><span class="id" title="record">has_been_sent_capability</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="has_been_sent" class="idref" href="#has_been_sent"><span class="id" title="projection">has_been_sent</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="has_been_sent_dec" class="idref" href="#has_been_sent_dec"><span class="id" title="projection">has_been_sent_dec</span></a> :&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent:73"><span class="id" title="method">has_been_sent</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="proper_sent" class="idref" href="#proper_sent"><span class="id" title="projection">proper_sent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:75" class="idref" href="#s:75"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:76" class="idref" href="#Hs:76"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:75"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:77" class="idref" href="#m:77"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent:73"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:75"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:77"><span class="id" title="variable">m</span></a>);<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">has_not_been_sent</span>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:79" class="idref" href="#s:79"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>) (<a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent:73"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:79"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:80"><span class="id" title="variable">m</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="proper_not_sent" class="idref" href="#proper_not_sent"><span class="id" title="projection">proper_not_sent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:82" class="idref" href="#s:82"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:83" class="idref" href="#Hs:83"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:82"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:84" class="idref" href="#m:84"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent:81"><span class="id" title="method">has_not_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:82"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:84"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
Reverse implication for 'selected_messages_consistency_prop'
    always holds. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="consistency_from_protocol_proj2" class="idref" href="#consistency_from_protocol_proj2"><span class="id" title="lemma">consistency_from_protocol_proj2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:86" class="idref" href="#s:86"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:87" class="idref" href="#Hs:87"><span class="id" title="binder">Hs</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:86"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:88" class="idref" href="#m:88"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="selector:89" class="idref" href="#selector:89"><span class="id" title="binder">selector</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hall:90" class="idref" href="#Hall:90"><span class="id" title="binder">Hall</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces"><span class="id" title="definition">selected_message_exists_in_all_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selector:89"><span class="id" title="variable">selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:86"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:88"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selector:89"><span class="id" title="variable">selector</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:86"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:88"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_is_trace"><span class="id" title="lemma">protocol_is_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">_</span>]]]]]<br/>
      ; [<span class="id" title="tactic">elim</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">selector</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#last_error_destination_last"><span class="id" title="lemma">last_error_destination_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlast</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_consistency" class="idref" href="#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hbs:91" class="idref" href="#Hbs:91"><span class="id" title="binder">Hbs</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:92" class="idref" href="#s:92"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:93" class="idref" href="#Hs:93"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:92"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:94" class="idref" href="#m:94"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:92"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:94"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span>|<span class="id" title="var">Hsm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_not_sent"><span class="id" title="method">proper_not_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">Hsome</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">Hsm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#consistency_from_protocol_proj2"><span class="id" title="lemma">consistency_from_protocol_proj2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Sufficent condition for 'proper_sent' avoiding the
    'pre_loaded_with_all_messages_vlsm'
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="specialized_proper_sent" class="idref" href="#specialized_proper_sent"><span class="id" title="lemma">specialized_proper_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hbs:95" class="idref" href="#Hbs:95"><span class="id" title="binder">Hbs</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:96" class="idref" href="#s:96"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:97" class="idref" href="#Hs:97"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:96"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:98" class="idref" href="#m:98"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsome:99" class="idref" href="#Hsome:99"><span class="id" title="binder">Hsome</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#specialized_selected_message_exists_in_some_traces"><span class="id" title="definition">specialized_selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:96"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:98"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:96"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:98"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpres</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_protocol_prop"><span class="id" title="lemma">pre_loaded_with_all_messages_protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpres</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hsome</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_finite_trace"><span class="id" title="lemma">VLSM_incl_finite_trace</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>) (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
'proper_sent' condition specialized to regular vlsm traces
    (avoiding 'pre_loaded_with_all_messages_vlsm')
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="specialized_proper_sent_rev" class="idref" href="#specialized_proper_sent_rev"><span class="id" title="lemma">specialized_proper_sent_rev</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hbs:100" class="idref" href="#Hbs:100"><span class="id" title="binder">Hbs</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:101" class="idref" href="#s:101"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:102" class="idref" href="#Hs:102"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:101"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsm:104" class="idref" href="#Hsm:104"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:101"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:103"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#specialized_selected_message_exists_in_all_traces"><span class="id" title="definition">specialized_selected_message_exists_in_all_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:101"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:103"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpres</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_protocol_prop"><span class="id" title="lemma">pre_loaded_with_all_messages_protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsm</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsm</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_finite_trace"><span class="id" title="lemma">VLSM_incl_finite_trace</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>) (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_been_sent_consistency_proper_not_sent" class="idref" href="#has_been_sent_consistency_proper_not_sent"><span class="id" title="lemma">has_been_sent_consistency_proper_not_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_sent:105" class="idref" href="#has_been_sent:105"><span class="id" title="binder">has_been_sent</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_sent_dec:106" class="idref" href="#has_been_sent_dec:106"><span class="id" title="binder">has_been_sent_dec</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent:105"><span class="id" title="variable">has_been_sent</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:107" class="idref" href="#s:107"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:108" class="idref" href="#m:108"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="proper_sent:109" class="idref" href="#proper_sent:109"><span class="id" title="binder">proper_sent</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent:105"><span class="id" title="variable">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:108"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_not_been_sent:112" class="idref" href="#has_not_been_sent:112"><span class="id" title="binder">has_not_been_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:110" class="idref" href="#s:110"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>) (<a id="m:111" class="idref" href="#m:111"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent:105"><span class="id" title="variable">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:110"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:111"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hconsistency:113" class="idref" href="#Hconsistency:113"><span class="id" title="binder">Hconsistency</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:108"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent:112"><span class="id" title="variable">has_not_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:108"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_not_some_iff_no</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#not_iff_compat"><span class="id" title="lemma">not_iff_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#iff_trans"><span class="id" title="lemma">iff_trans</span></a> <span class="id" title="var">proper_sent</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hconsistency</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="has_been_received_capability" class="idref" href="#has_been_received_capability"><span class="id" title="record">has_been_received_capability</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="has_been_received" class="idref" href="#has_been_received"><span class="id" title="projection">has_been_received</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="has_been_received_dec" class="idref" href="#has_been_received_dec"><span class="id" title="projection">has_been_received_dec</span></a> :&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received:115"><span class="id" title="method">has_been_received</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="proper_received" class="idref" href="#proper_received"><span class="id" title="projection">proper_received</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:117" class="idref" href="#s:117"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:118" class="idref" href="#Hs:118"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:117"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:119" class="idref" href="#m:119"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received:115"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:117"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:119"><span class="id" title="variable">m</span></a>);<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">has_not_been_received</span>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:121" class="idref" href="#s:121"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>) (<a id="m:122" class="idref" href="#m:122"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received:115"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:121"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:122"><span class="id" title="variable">m</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="proper_not_received" class="idref" href="#proper_not_received"><span class="id" title="projection">proper_not_received</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:124" class="idref" href="#s:124"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:125" class="idref" href="#Hs:125"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:124"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:126" class="idref" href="#m:126"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received:123"><span class="id" title="method">has_not_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:124"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:126"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_been_received_consistency" class="idref" href="#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hbs:128" class="idref" href="#Hbs:128"><span class="id" title="binder">Hbs</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_capability"><span class="id" title="class">has_been_received_capability</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:129" class="idref" href="#s:129"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:130" class="idref" href="#Hs:130"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:129"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:131" class="idref" href="#m:131"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:129"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:131"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span>|<span class="id" title="var">Hsm</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>;<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_not_received"><span class="id" title="method">proper_not_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">Hsome</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">Hsm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#consistency_from_protocol_proj2"><span class="id" title="lemma">consistency_from_protocol_proj2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_been_received_consistency_proper_not_received" class="idref" href="#has_been_received_consistency_proper_not_received"><span class="id" title="lemma">has_been_received_consistency_proper_not_received</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_received:132" class="idref" href="#has_been_received:132"><span class="id" title="binder">has_been_received</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_received_dec:133" class="idref" href="#has_been_received_dec:133"><span class="id" title="binder">has_been_received_dec</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received:132"><span class="id" title="variable">has_been_received</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:134" class="idref" href="#s:134"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:135" class="idref" href="#m:135"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="proper_received:136" class="idref" href="#proper_received:136"><span class="id" title="binder">proper_received</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received:132"><span class="id" title="variable">has_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:134"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:135"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_not_been_received:139" class="idref" href="#has_not_been_received:139"><span class="id" title="binder">has_not_been_received</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="s:137" class="idref" href="#s:137"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>) (<a id="m:138" class="idref" href="#m:138"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received:132"><span class="id" title="variable">has_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:137"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:138"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hconsistency:140" class="idref" href="#Hconsistency:140"><span class="id" title="binder">Hconsistency</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:134"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:135"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received:139"><span class="id" title="variable">has_not_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:134"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:135"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received"><span class="id" title="method">has_not_been_received</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsm</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsm'</span> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hconsistency</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">proper_received</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm'</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hnone</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">has_been_received</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsm</span>|<span class="id" title="var">Hsm</span>];[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">proper_received</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hconsistency</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsm</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">Hsm</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">Hnone</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sent_messages" class="idref" href="#sent_messages"><span class="id" title="definition">sent_messages</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:141" class="idref" href="#s:141"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">sig</span></a> (<span class="id" title="keyword">fun</span> <a id="m:142" class="idref" href="#m:142"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:141"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:142"><span class="id" title="variable">m</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sent_messages_proper" class="idref" href="#sent_messages_proper"><span class="id" title="lemma">sent_messages_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhbs:143" class="idref" href="#Hhbs:143"><span class="id" title="binder">Hhbs</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:144" class="idref" href="#s:144"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:145" class="idref" href="#Hs:145"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:144"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:146" class="idref" href="#m:146"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:146"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m':147" class="idref" href="#m':147"><span class="id" title="binder">m'</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages"><span class="id" title="definition">sent_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:144"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m':147"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:146"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages"><span class="id" title="definition">sent_messages</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#exists_proj1_sig"><span class="id" title="lemma">exists_proj1_sig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a>,<a class="idref" href="CasperCBC.VLSM.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="received_messages" class="idref" href="#received_messages"><span class="id" title="definition">received_messages</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:148" class="idref" href="#s:148"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#sig"><span class="id" title="inductive">sig</span></a> (<span class="id" title="keyword">fun</span> <a id="m:149" class="idref" href="#m:149"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:148"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:149"><span class="id" title="variable">m</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="received_messages_proper" class="idref" href="#received_messages_proper"><span class="id" title="lemma">received_messages_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhbs:150" class="idref" href="#Hhbs:150"><span class="id" title="binder">Hhbs</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_capability"><span class="id" title="class">has_been_received_capability</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:151" class="idref" href="#s:151"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:152" class="idref" href="#Hs:152"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:151"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:153" class="idref" href="#m:153"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:153"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m':154" class="idref" href="#m':154"><span class="id" title="binder">m'</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages"><span class="id" title="definition">received_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:151"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m':154"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:153"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages"><span class="id" title="definition">received_messages</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#exists_proj1_sig"><span class="id" title="lemma">exists_proj1_sig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a>,<a class="idref" href="CasperCBC.VLSM.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_consistency"><span class="id" title="lemma">has_been_received_consistency</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="computable_sent_messages" class="idref" href="#computable_sent_messages"><span class="id" title="record">computable_sent_messages</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="sent_messages_fn" class="idref" href="#sent_messages_fn"><span class="id" title="projection">sent_messages_fn</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="sent_messages_full" class="idref" href="#sent_messages_full"><span class="id" title="projection">sent_messages_full</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:157" class="idref" href="#s:157"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>) (<a id="Hs:158" class="idref" href="#Hs:158"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:157"><span class="id" title="variable">s</span></a>) (<a id="m:159" class="idref" href="#m:159"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:159"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn:156"><span class="id" title="method">sent_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:157"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="sm:160" class="idref" href="#sm:160"><span class="id" title="binder">sm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages"><span class="id" title="definition">sent_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:157"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sm:160"><span class="id" title="variable">sm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:159"><span class="id" title="variable">m</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="sent_messages_consistency" class="idref" href="#sent_messages_consistency"><span class="id" title="projection">sent_messages_consistency</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:162" class="idref" href="#s:162"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:163" class="idref" href="#Hs:163"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:162"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:164" class="idref" href="#m:164"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:164"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="computable_sent_messages_initial_state_empty" class="idref" href="#computable_sent_messages_initial_state_empty"><span class="id" title="lemma">computable_sent_messages_initial_state_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hrm:166" class="idref" href="#Hrm:166"><span class="id" title="binder">Hrm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:167" class="idref" href="#s:167"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vinitial_state"><span class="id" title="definition">vinitial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="method">sent_messages_fn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:167"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hps</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>. <span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="method">sent_messages_fn</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">m</span> <span class="id" title="var">l</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsm</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hps</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsm</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">m0</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_consistency"><span class="id" title="method">sent_messages_consistency</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="computable_sent_messages_has_been_sent" class="idref" href="#computable_sent_messages_has_been_sent"><span class="id" title="definition">computable_sent_messages_has_been_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:168" class="idref" href="#Hsm:168"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:169" class="idref" href="#s:169"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:170" class="idref" href="#m:170"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:170"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="method">sent_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:169"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="computable_sent_message_has_been_sent_dec" class="idref" href="#computable_sent_message_has_been_sent_dec"><span class="id" title="instance">computable_sent_message_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:171" class="idref" href="#Hsm:171"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="eq_message:172" class="idref" href="#eq_message:172"><span class="id" title="binder">eq_message</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent"><span class="id" title="definition">computable_sent_messages_has_been_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="s:173" class="idref" href="#s:173"><span class="id" title="binder">s</span></a> <a id="m:174" class="idref" href="#m:174"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:174"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_fn"><span class="id" title="method">sent_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:173"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="computable_sent_messages_has_been_sent_proper" class="idref" href="#computable_sent_messages_has_been_sent_proper"><span class="id" title="lemma">computable_sent_messages_has_been_sent_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:175" class="idref" href="#Hsm:175"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:176" class="idref" href="#s:176"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:177" class="idref" href="#Hs:177"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:176"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:178" class="idref" href="#m:178"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent"><span class="id" title="definition">computable_sent_messages_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:176"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:178"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent"><span class="id" title="definition">computable_sent_messages_has_been_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">m0</span> <span class="id" title="var">Hm0</span>] <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">m0</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_consistency"><span class="id" title="method">sent_messages_consistency</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_consistency"><span class="id" title="method">sent_messages_consistency</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="computable_sent_messages_has_not_been_sent" class="idref" href="#computable_sent_messages_has_not_been_sent"><span class="id" title="definition">computable_sent_messages_has_not_been_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:179" class="idref" href="#Hsm:179"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:180" class="idref" href="#s:180"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:181" class="idref" href="#m:181"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent"><span class="id" title="definition">computable_sent_messages_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:180"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:181"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="computable_sent_messages_has_not_been_sent_proper" class="idref" href="#computable_sent_messages_has_not_been_sent_proper"><span class="id" title="lemma">computable_sent_messages_has_not_been_sent_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:182" class="idref" href="#Hsm:182"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:183" class="idref" href="#s:183"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:184" class="idref" href="#Hs:184"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:183"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:185" class="idref" href="#m:185"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_not_been_sent"><span class="id" title="definition">computable_sent_messages_has_not_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:185"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_not_been_sent"><span class="id" title="definition">computable_sent_messages_has_not_been_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent"><span class="id" title="definition">computable_sent_messages_has_been_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hno</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hno</span>;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>, <span class="id" title="var">Htr</span>,<span class="id" title="var">Hlast</span>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a>;[<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Htrace</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_messages_full"><span class="id" title="method">sent_messages_full</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">m0</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">Heq</span>];<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<span class="id" title="tactic">subst</span> <span class="id" title="var">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">Hex</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Htrace</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span> <span class="id" title="var">Hex</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="computable_sent_messages_has_been_sent_capability" class="idref" href="#computable_sent_messages_has_been_sent_capability"><span class="id" title="definition">computable_sent_messages_has_been_sent_capability</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:186" class="idref" href="#Hsm:186"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages"><span class="id" title="class">computable_sent_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="eq_message:187" class="idref" href="#eq_message:187"><span class="id" title="binder">eq_message</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent"><span class="id" title="definition">computable_sent_messages_has_been_sent</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_been_sent_proper"><span class="id" title="lemma">computable_sent_messages_has_been_sent_proper</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_not_sent"><span class="id" title="method">proper_not_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_sent_messages_has_not_been_sent_proper"><span class="id" title="lemma">computable_sent_messages_has_not_been_sent_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="computable_received_messages" class="idref" href="#computable_received_messages"><span class="id" title="record">computable_received_messages</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="received_messages_fn" class="idref" href="#received_messages_fn"><span class="id" title="projection">received_messages_fn</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="received_messages_full" class="idref" href="#received_messages_full"><span class="id" title="projection">received_messages_full</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:190" class="idref" href="#s:190"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>) (<a id="Hs:191" class="idref" href="#Hs:191"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:190"><span class="id" title="variable">s</span></a>) (<a id="m:192" class="idref" href="#m:192"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:192"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_fn:189"><span class="id" title="method">received_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:190"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="sm:193" class="idref" href="#sm:193"><span class="id" title="binder">sm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages"><span class="id" title="definition">received_messages</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:190"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sm:193"><span class="id" title="variable">sm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:192"><span class="id" title="variable">m</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="received_messages_consistency" class="idref" href="#received_messages_consistency"><span class="id" title="projection">received_messages_consistency</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:195" class="idref" href="#s:195"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:196" class="idref" href="#Hs:196"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:195"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:197" class="idref" href="#m:197"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:197"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="computable_received_messages_initial_state_empty" class="idref" href="#computable_received_messages_initial_state_empty"><span class="id" title="lemma">computable_received_messages_initial_state_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hrm:199" class="idref" href="#Hrm:199"><span class="id" title="binder">Hrm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages"><span class="id" title="class">computable_received_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:200" class="idref" href="#s:200"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vinitial_state"><span class="id" title="definition">vinitial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_fn"><span class="id" title="method">received_messages_fn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:200"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hps</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>. <span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_initial_state"><span class="id" title="constructor">protocol_initial_state</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">Hs</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_fn"><span class="id" title="method">received_messages_fn</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">m</span> <span class="id" title="var">l</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hrcv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_full"><span class="id" title="method">received_messages_full</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hps</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrcv</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">m0</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_consistency"><span class="id" title="method">received_messages_consistency</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="computable_received_messages_has_been_received" class="idref" href="#computable_received_messages_has_been_received"><span class="id" title="definition">computable_received_messages_has_been_received</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:201" class="idref" href="#Hsm:201"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages"><span class="id" title="class">computable_received_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:202" class="idref" href="#s:202"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:203" class="idref" href="#m:203"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:203"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_fn"><span class="id" title="method">received_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:202"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="computable_received_messages_has_been_received_dec" class="idref" href="#computable_received_messages_has_been_received_dec"><span class="id" title="instance">computable_received_messages_has_been_received_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:204" class="idref" href="#Hsm:204"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages"><span class="id" title="class">computable_received_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="eq_message:205" class="idref" href="#eq_message:205"><span class="id" title="binder">eq_message</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_been_received"><span class="id" title="definition">computable_received_messages_has_been_received</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="s:206" class="idref" href="#s:206"><span class="id" title="binder">s</span></a> <a id="m:207" class="idref" href="#m:207"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:207"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_fn"><span class="id" title="method">received_messages_fn</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:206"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="computable_received_messages_has_been_received_proper" class="idref" href="#computable_received_messages_has_been_received_proper"><span class="id" title="lemma">computable_received_messages_has_been_received_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:208" class="idref" href="#Hsm:208"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages"><span class="id" title="class">computable_received_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:209" class="idref" href="#s:209"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:210" class="idref" href="#Hs:210"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:209"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:211" class="idref" href="#m:211"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_been_received"><span class="id" title="definition">computable_received_messages_has_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:209"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:211"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_prop"><span class="id" title="definition">has_been_received_prop</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#all_traces_have_message_prop"><span class="id" title="definition">all_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_been_received"><span class="id" title="definition">computable_received_messages_has_been_received</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_full"><span class="id" title="method">received_messages_full</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">m0</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">Heq</span>];<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<span class="id" title="tactic">subst</span> <span class="id" title="var">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_consistency"><span class="id" title="method">received_messages_consistency</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_full"><span class="id" title="method">received_messages_full</span></a>;[<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_consistency"><span class="id" title="method">received_messages_consistency</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="computable_received_messages_has_not_been_received" class="idref" href="#computable_received_messages_has_not_been_received"><span class="id" title="definition">computable_received_messages_has_not_been_received</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:212" class="idref" href="#Hsm:212"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages"><span class="id" title="class">computable_received_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:213" class="idref" href="#s:213"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.vlsm"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:214" class="idref" href="#m:214"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_been_received"><span class="id" title="definition">computable_received_messages_has_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:213"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:214"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="computable_received_messages_has_not_been_received_proper" class="idref" href="#computable_received_messages_has_not_been_received_proper"><span class="id" title="lemma">computable_received_messages_has_not_been_received_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:215" class="idref" href="#Hsm:215"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages"><span class="id" title="class">computable_received_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:216" class="idref" href="#s:216"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:217" class="idref" href="#Hs:217"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.pre_vlsm"><span class="id" title="variable">pre_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:216"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:218" class="idref" href="#m:218"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_not_been_received"><span class="id" title="definition">computable_received_messages_has_not_been_received</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:218"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_received_prop"><span class="id" title="definition">has_not_been_received_prop</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_traces_have_message_prop"><span class="id" title="definition">no_traces_have_message_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_not_been_received"><span class="id" title="definition">computable_received_messages_has_not_been_received</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_been_received"><span class="id" title="definition">computable_received_messages_has_been_received</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_not_some_iff_no"><span class="id" title="lemma">selected_message_exists_not_some_iff_no</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#not_iff_compat"><span class="id" title="lemma">not_iff_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages_full"><span class="id" title="method">received_messages_full</span></a>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_messages"><span class="id" title="definition">received_messages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#exists_proj1_sig"><span class="id" title="lemma">exists_proj1_sig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="computable_received_messages_has_been_received_capability" class="idref" href="#computable_received_messages_has_been_received_capability"><span class="id" title="definition">computable_received_messages_has_been_received_capability</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hsm:219" class="idref" href="#Hsm:219"><span class="id" title="binder">Hsm</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages"><span class="id" title="class">computable_received_messages</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="eq_message:220" class="idref" href="#eq_message:220"><span class="id" title="binder">eq_message</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple.message"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_capability"><span class="id" title="class">has_been_received_capability</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_been_received"><span class="id" title="definition">computable_received_messages_has_been_received</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_received"><span class="id" title="method">proper_received</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_been_received_proper"><span class="id" title="lemma">computable_received_messages_has_been_received_proper</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_not_received"><span class="id" title="method">proper_not_received</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#computable_received_messages_has_not_been_received_proper"><span class="id" title="lemma">computable_received_messages_has_not_been_received_proper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Simple"><span class="id" title="section">Simple</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab53"></a><h2 class="section">Lemmas to help define <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="record">has_been_sent_capability</span></a></span></h2>


<div class="paragraph"> </div>

This section defines simpler conditions on a candiate <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
predicate which involve only a single transition at a time,
and are sufficient to establish the full
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a></span> and <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a></span>.

<div class="paragraph"> </div>

The conditions are the section parameters <span class="inlinecode"><span class="id" title="var">H_inits_no_sent</span></span>
and <span class="inlinecode"><span class="id" title="var">H_step_property</span></span>.
The first checks that the candidate predicate never claims
that any <span class="inlinecode"><span class="id" title="var">intiial_state</span></span> has sent any message.
The second says that for any <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="projection">transition</span></a></span>, the predicate
claims that the final state sent some message <tt>m</tt> iff
that message was the output of this transition, or
the message was already sent in the initial state.

<div class="paragraph"> </div>

The formulation of <span class="inlinecode"><span class="id" title="var">H_step_property</span></span> could be weakend
a bit by only considering <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="projection">transition</span></a></span> on <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="projection">valid</span></a></span> inputs,
or further by <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a></span> (over the
<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a></span> of the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.CommonTraces.html#VLSM"><span class="id" title="section">VLSM</span></a></span>)
but this has not been necessary so far.
(It would only make a difference if there the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="projection">transition</span></a></span> function
can actually violate the condition on some non-<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="projection">valid</span></a></span>
or non-<span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#protocol_prop"><span class="id" title="inductive">protocol_prop</span></a></span> input).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="HasBeenSentLemmas" class="idref" href="#HasBeenSentLemmas"><span class="id" title="section">HasBeenSentLemmas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="message:221" class="idref" href="#message:221"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vlsm:222" class="idref" href="#vlsm:222"><span class="id" title="binder">vlsm</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message:221"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_sent_pred:223" class="idref" href="#has_been_sent_pred:223"><span class="id" title="binder">has_been_sent_pred</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#vlsm:222"><span class="id" title="variable">vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_inits_no_sent:226" class="idref" href="#H_inits_no_sent:226"><span class="id" title="binder">H_inits_no_sent</span></a>: <span class="id" title="keyword">forall</span> (<a id="s:224" class="idref" href="#s:224"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#vlsm:222"><span class="id" title="variable">vlsm</span></a>), <a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> (<span class="id" title="var">VLSM_sign</span>:=<a class="idref" href="CasperCBC.VLSM.Common.html#sign"><span class="id" title="definition">sign</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#vlsm:222"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:224"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="m:225" class="idref" href="#m:225"><span class="id" title="binder">m</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_pred:223"><span class="id" title="variable">has_been_sent_pred</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:224"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:225"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_step_property:233" class="idref" href="#H_step_property:233"><span class="id" title="binder">H_step_property</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:227" class="idref" href="#l:227"><span class="id" title="binder">l</span></a> <a id="s:228" class="idref" href="#s:228"><span class="id" title="binder">s</span></a> <a id="im:229" class="idref" href="#im:229"><span class="id" title="binder">im</span></a> <a id="s':230" class="idref" href="#s':230"><span class="id" title="binder">s'</span></a> <a id="om:231" class="idref" href="#om:231"><span class="id" title="binder">om</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#vlsm:222"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#l:227"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:228"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#im:229"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#s':230"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#om:231"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="msg:232" class="idref" href="#msg:232"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_pred:223"><span class="id" title="variable">has_been_sent_pred</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s':230"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#msg:232"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#om:231"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#msg:232"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_pred:223"><span class="id" title="variable">has_been_sent_pred</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:228"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#msg:232"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <a id="H_trace_prop" class="idref" href="#H_trace_prop"><span class="id" title="lemma">H_trace_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="s0:234" class="idref" href="#s0:234"><span class="id" title="binder">s0</span></a> <a id="s:235" class="idref" href="#s:235"><span class="id" title="binder">s</span></a> <a id="tr:236" class="idref" href="#tr:236"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:237" class="idref" href="#Htr:237"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s0:234"><span class="id" title="variable">s0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:236"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hlast:238" class="idref" href="#Hlast:238"><span class="id" title="binder">Hlast</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">Common.destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:236"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s0:234"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:235"><span class="id" title="variable">s</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="m:239" class="idref" href="#m:239"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.has_been_sent_pred"><span class="id" title="variable">has_been_sent_pred</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:235"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:239"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="elem:240" class="idref" href="#elem:240"><span class="id" title="binder">elem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#elem:240"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:239"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:236"><span class="id" title="variable">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.has_been_sent_pred"><span class="id" title="variable">has_been_sent_pred</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s0:234"><span class="id" title="variable">s0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:239"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_nil"><span class="id" title="lemma">Exists_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="var">List.map</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#unroll_last"><span class="id" title="lemma">unroll_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">Hlast</span>);<span class="id" title="tactic">clear</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.H_step_property"><span class="id" title="variable">H_step_property</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">msg</span>:=<span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prove_proper_sent_from_stepwise" class="idref" href="#prove_proper_sent_from_stepwise"><span class="id" title="lemma">prove_proper_sent_from_stepwise</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:241" class="idref" href="#s:241"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:242" class="idref" href="#Hs:242"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:241"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:243" class="idref" href="#m:243"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.vlsm"><span class="id" title="variable">vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.has_been_sent_pred"><span class="id" title="variable">has_been_sent_pred</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:241"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:243"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsent</span> <span class="id" title="var">s0</span> <span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>] <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#H_trace_prop"><span class="id" title="lemma">H_trace_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsent</span>;[<span class="id" title="tactic">assumption</span>|<span class="id" title="var">exfalso</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.H_inits_no_sent"><span class="id" title="variable">H_inits_no_sent</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H_all_traces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_has_trace"><span class="id" title="lemma">protocol_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s0</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H_all_traces</span> <span class="id" title="var">s0</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#H_trace_prop"><span class="id" title="lemma">H_trace_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prove_proper_not_sent_from_stepwise" class="idref" href="#prove_proper_not_sent_from_stepwise"><span class="id" title="lemma">prove_proper_not_sent_from_stepwise</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:244" class="idref" href="#s:244"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:245" class="idref" href="#Hs:245"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.vlsm"><span class="id" title="variable">vlsm</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:244"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:246" class="idref" href="#m:246"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.vlsm"><span class="id" title="variable">vlsm</span></a> (<span class="id" title="keyword">fun</span> <a id="m:247" class="idref" href="#m:247"><span class="id" title="binder">m</span></a> <a id="s:248" class="idref" href="#s:248"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.has_been_sent_pred"><span class="id" title="variable">has_been_sent_pred</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:247"><span class="id" title="variable">m</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:248"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:244"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:246"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H_not_sent</span> <span class="id" title="var">start</span> <span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>] <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H_not_sent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#H_trace_prop"><span class="id" title="lemma">H_trace_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H_no_traces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_has_trace"><span class="id" title="lemma">protocol_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s0</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H_no_traces</span> <span class="id" title="var">s0</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H_no_traces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#H_trace_prop"><span class="id" title="lemma">H_trace_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H_no_traces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_no_traces</span>;[<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas.H_inits_no_sent"><span class="id" title="variable">H_inits_no_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#HasBeenSentLemmas"><span class="id" title="section">HasBeenSentLemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab54"></a><h3 class="section">Equivocation in compositions.</h3>


<div class="paragraph"> </div>

 We now move on to a composite context. Each component of our composition
    will have <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> and <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> capabilities.

<div class="paragraph"> </div>

    We introduce <span class="inlinecode"><span class="id" title="var">validator</span></span>s along with their respective <span class="inlinecode"><span class="id" title="var">Weight</span></span>s, the
    <span class="inlinecode"><span class="id" title="var">A</span></span> function which maps validators to indices of component VLSMs and
    the <span class="inlinecode"><a class="idref" href="CasperCBC.CBC.FullNode.Validator.State.html#sender"><span class="id" title="definition">sender</span></a></span> function which maps messages to their (unique) designated
    sender (if any).

<div class="paragraph"> </div>

    For the equivocation fault sum to be computable, we also require that
    the number of <span class="inlinecode"><span class="id" title="var">validator</span></span>s and the number of machines in the
    composition are both finite. See <span class="inlinecode"><span class="id" title="var">finite_index</span></span>, <span class="inlinecode"><span class="id" title="var">finite_validator</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Composite" class="idref" href="#Composite"><span class="id" title="section">Composite</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="message:249" class="idref" href="#message:249"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="index:250" class="idref" href="#index:250"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="IndEqDec:251" class="idref" href="#IndEqDec:251"><span class="id" title="binder">IndEqDec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#index:250"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IM:252" class="idref" href="#IM:252"><span class="id" title="binder">IM</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#index:250"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message:249"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i0:253" class="idref" href="#i0:253"><span class="id" title="binder">i0</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#index:250"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constraint:254" class="idref" href="#constraint:254"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#IM:252"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#IM:252"><span class="id" title="variable">IM</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#message:249"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:255" class="idref" href="#X:255"><span class="id" title="binder">X</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#IM:252"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i0:253"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#constraint:254"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="index_listing:256" class="idref" href="#index_listing:256"><span class="id" title="binder">index_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#index:250"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="finite_index:257" class="idref" href="#finite_index:257"><span class="id" title="binder">finite_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#index_listing:256"><span class="id" title="variable">index_listing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_sent_capabilities:259" class="idref" href="#has_been_sent_capabilities:259"><span class="id" title="binder">has_been_sent_capabilities</span></a> : <span class="id" title="keyword">forall</span> <a id="i:258" class="idref" href="#i:258"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#index:250"><span class="id" title="variable">index</span></a>, (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#IM:252"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:258"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
A message 'has_been_sent' for a composite state if it 'has_been_sent' for any of
  its components.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="composite_has_been_sent" class="idref" href="#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:260" class="idref" href="#s:260"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:261" class="idref" href="#m:261"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="i:262" class="idref" href="#i:262"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:262"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:260"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:262"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:261"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
'composite_has_been_sent' is decidable. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="composite_has_been_sent_dec" class="idref" href="#composite_has_been_sent_dec"><span class="id" title="lemma">composite_has_been_sent_dec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<span class="id" title="keyword">fun</span> <a id="i:264" class="idref" href="#i:264"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a>(<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:263"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:263"><span class="id" title="variable">i</span></a>) <span class="id" title="var">m</span>)) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index_listing"><span class="id" title="variable">index_listing</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqn</span>:<span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hexists</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true_1"><span class="id" title="lemma">bool_decide_eq_true_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#existsb_forall"><span class="id" title="lemma">existsb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hbs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hexists</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.finite_index"><span class="id" title="variable">finite_index</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false_1"><span class="id" title="lemma">bool_decide_eq_false_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">Hexists</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
'composite_has_been_sent' has the 'proper_sent' property. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="composite_proper_sent" class="idref" href="#composite_proper_sent"><span class="id" title="lemma">composite_proper_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:265" class="idref" href="#s:265"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:266" class="idref" href="#Hs:266"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:265"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:267" class="idref" href="#m:267"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_prop"><span class="id" title="definition">has_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:265"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:267"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcomposite</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomposite</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hbsi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_subsumption_preloaded_protocol_prop"><span class="id" title="lemma">constraint_subsumption_preloaded_protocol_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">constraint2</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [|<span class="id" title="tactic">firstorder</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbsi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [|<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#preloaded_composed_protocol_state"><span class="id" title="lemma">preloaded_composed_protocol_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a>); <span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>; <span class="id" title="tactic">assumption</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hbsi</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>) (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">i</span> <span class="id" title="var">tr</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hbsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">His</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_ptrace_projection"><span class="id" title="lemma">preloaded_finite_ptrace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">i</span>); [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#initial_is_protocol"><span class="id" title="lemma">initial_is_protocol</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hbsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_trace_projection_last_state"><span class="id" title="lemma">preloaded_finite_trace_projection_last_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbsi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemi</span> [<span class="id" title="var">Hitemi</span> <span class="id" title="var">Hout</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list_in_rev"><span class="id" title="lemma">finite_trace_projection_list_in_rev</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitemi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemX</span> [<span class="id" title="var">Houtput</span> [<span class="id" title="var">Hinput</span> [<span class="id" title="var">Hl1</span> [<span class="id" title="var">Hl2</span> [<span class="id" title="var">Hdestination</span> <span class="id" title="var">HitemX</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemX</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_is_trace"><span class="id" title="lemma">protocol_is_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> [<span class="id" title="var">Hlast</span> <span class="id" title="var">_</span>]]]]]<br/>
      ; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_all_traces_initial_state"><span class="id" title="lemma">selected_message_exists_in_all_traces_initial_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hinit</span> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hall</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#last_error_destination_last"><span class="id" title="lemma">last_error_destination_last</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">default</span> := <span class="id" title="keyword">is</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hall</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemX</span> [<span class="id" title="var">HitemX</span> <span class="id" title="var">Hout</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hsj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a>; [<span class="id" title="tactic">assumption</span>|]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#preloaded_composed_protocol_state"><span class="id" title="lemma">preloaded_composed_protocol_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_subsumption_preloaded_protocol_prop"><span class="id" title="lemma">constraint_subsumption_preloaded_protocol_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.has_been_sent_capabilities"><span class="id" title="variable">has_been_sent_capabilities</span></a>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="keyword">is</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>)) <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hisj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#initial_is_protocol"><span class="id" title="lemma">initial_is_protocol</span></a>; <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_ptrace_projection"><span class="id" title="lemma">preloaded_finite_ptrace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>)) <span class="id" title="keyword">is</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hisj</span> <span class="id" title="var">tr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Htrj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htrj</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_trace_projection_last_state"><span class="id" title="lemma">preloaded_finite_trace_projection_last_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>)) <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list_in"><span class="id" title="lemma">finite_trace_projection_list_in</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HitemX</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hitemj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ({|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">itemX</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">itemX</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">itemX</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">itemX</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
'composite_has_been_sent' has the consistency property for 'output' messages. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="composite_output_consistency" class="idref" href="#composite_output_consistency"><span class="id" title="lemma">composite_output_consistency</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:268" class="idref" href="#s:268"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:269" class="idref" href="#Hs:269"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:268"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:270" class="idref" href="#m:270"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_messages_consistency_prop"><span class="id" title="definition">selected_messages_consistency_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:268"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:270"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">is0</span> [<span class="id" title="var">tr0</span> [<span class="id" title="var">Htr0</span> [<span class="id" title="var">Hlst0</span> <span class="id" title="var">Hsome</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item0</span> [<span class="id" title="var">Hitem0</span> <span class="id" title="var">Houtput0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item0</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsomej</span> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#selected_message_exists_in_some_traces"><span class="id" title="definition">selected_message_exists_in_some_traces</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">j</span>) <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> (<span class="id" title="var">is0</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">j</span> <span class="id" title="var">tr0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">His0j</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is0</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#initial_is_protocol"><span class="id" title="lemma">initial_is_protocol</span></a>; <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr0</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_ptrace_projection"><span class="id" title="lemma">preloaded_finite_ptrace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">j</span> <span class="id" title="var">is0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">His0j</span> <span class="id" title="var">tr0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Htr0j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr0j</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr0</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_trace_projection_last_state"><span class="id" title="lemma">preloaded_finite_trace_projection_last_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">j</span> <span class="id" title="var">is0</span> <span class="id" title="var">tr0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr0</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlst0</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Hlst0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list_in"><span class="id" title="lemma">finite_trace_projection_list_in</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hitem0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hitem0j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem0j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">item0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item0</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">item0</span> |}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hisj</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#initial_is_protocol"><span class="id" title="lemma">initial_is_protocol</span></a>; <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_ptrace_projection"><span class="id" title="lemma">preloaded_finite_ptrace_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">j</span> <span class="id" title="keyword">is</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hisj</span> <span class="id" title="var">tr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Htrj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#preloaded_finite_trace_projection_last_state"><span class="id" title="lemma">preloaded_finite_trace_projection_last_state</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">j</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsomej</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">spec</span> <span class="id" title="var">Hsomej</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">j</span>) (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list"><span class="id" title="definition">finite_trace_projection_list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <span class="id" title="var">j</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsomej</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htrj</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Htr</span> <span class="id" title="var">j</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlast</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsomej</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsomej</span> <span class="id" title="var">Hlst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsomej</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsomej</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemj</span> [<span class="id" title="var">Hitemj</span> <span class="id" title="var">Hout</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#finite_trace_projection_list_in_rev"><span class="id" title="lemma">finite_trace_projection_list_in_rev</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitemj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Houtput</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">HitemX</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.has_been_sent_capabilities"><span class="id" title="variable">has_been_sent_capabilities</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_last_pstate"><span class="id" title="lemma">finite_ptrace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#consistency_from_protocol_proj2"><span class="id" title="lemma">consistency_from_protocol_proj2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The negation of 'composite_has_been_sent' has the 'proper_not_sent' property.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="composite_proper_not_sent" class="idref" href="#composite_proper_not_sent"><span class="id" title="lemma">composite_proper_not_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:271" class="idref" href="#s:271"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:272" class="idref" href="#Hs:272"><span class="id" title="binder">Hs</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:271"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:273" class="idref" href="#m:273"><span class="id" title="binder">m</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent_prop"><span class="id" title="definition">has_not_been_sent_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="s0:274" class="idref" href="#s0:274"><span class="id" title="binder">s0</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) (<a id="m0:275" class="idref" href="#m0:275"><span class="id" title="binder">m0</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s0:274"><span class="id" title="variable">s0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m0:275"><span class="id" title="variable">m0</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:271"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:273"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency_proper_not_sent"><span class="id" title="lemma">has_been_sent_consistency_proper_not_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent_dec"><span class="id" title="lemma">composite_has_been_sent_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_proper_sent"><span class="id" title="lemma">composite_proper_sent</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_output_consistency"><span class="id" title="lemma">composite_output_consistency</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="composite_has_been_sent_capability" class="idref" href="#composite_has_been_sent_capability"><span class="id" title="instance">composite_has_been_sent_capability</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_dec"><span class="id" title="method">has_been_sent_dec</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent_dec"><span class="id" title="lemma">composite_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_proper_sent"><span class="id" title="lemma">composite_proper_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_not_sent"><span class="id" title="method">proper_not_sent</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_proper_not_sent"><span class="id" title="lemma">composite_proper_not_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
It is now straightforward to define a <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_equivocations"><span class="id" title="definition">no_equivocations</span></a></span> composition constraint.
      An equivocating transition can be detected by calling the <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
      oracle on its arguments and we simply forbid them 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocation" class="idref" href="#equivocation"><span class="id" title="definition">equivocation</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a id="m:276" class="idref" href="#m:276"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="s:277" class="idref" href="#s:277"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:277"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:276"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="no_equivocations" class="idref" href="#no_equivocations"><span class="id" title="definition">no_equivocations</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:278" class="idref" href="#l:278"><span class="id" title="binder">l</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="som:279" class="idref" href="#som:279"><span class="id" title="binder">som</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s:280" class="idref" href="#s:280"><span class="id" title="binder">s</span></a>, <a id="om:281" class="idref" href="#om:281"><span class="id" title="binder">om</span></a>) := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#som:279"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#om:281"><span class="id" title="variable">om</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:280"><span class="id" title="variable">s</span></a> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="validator:283" class="idref" href="#validator:283"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:284" class="idref" href="#A:284"><span class="id" title="binder">A</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#validator:283"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sender:285" class="idref" href="#sender:285"><span class="id" title="binder">sender</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#validator:283"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
Definitions for safety and nontriviality of the <span class="inlinecode"><a class="idref" href="CasperCBC.CBC.FullNode.Validator.State.html#sender"><span class="id" title="definition">sender</span></a></span> function.
      Safety means that if we designate a validator as the sender
      of a certain messsage, then it is impossible for other components
      to produce that message

<div class="paragraph"> </div>

      Weak/strong nontriviality say that each validator should
      be designated sender for at least one/all its protocol
      messages.
  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sender_safety_prop" class="idref" href="#sender_safety_prop"><span class="id" title="definition">sender_safety_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:286" class="idref" href="#i:286"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:287" class="idref" href="#m:287"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:288" class="idref" href="#v:288"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hid:289" class="idref" href="#Hid:289"><span class="id" title="binder">Hid</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:288"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:286"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsender:290" class="idref" href="#Hsender:290"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:287"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:288"><span class="id" title="variable">v</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:286"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:287"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="j:291" class="idref" href="#j:291"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:292" class="idref" href="#Hdif:292"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:286"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:291"><span class="id" title="variable">j</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Common.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:291"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:287"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
An alternative, possibly friendlier, formulation. Note that it is
       slightly weaker, in that it does not require that the sender
       is able to send the message. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sender_safety_alt_prop" class="idref" href="#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:293" class="idref" href="#i:293"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:294" class="idref" href="#m:294"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:295" class="idref" href="#v:295"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsender:296" class="idref" href="#Hsender:296"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:294"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:295"><span class="id" title="variable">v</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:293"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:294"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:295"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:293"><span class="id" title="variable">i</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sender_weak_nontriviality_prop" class="idref" href="#sender_weak_nontriviality_prop"><span class="id" title="definition">sender_weak_nontriviality_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="v:297" class="idref" href="#v:297"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:298" class="idref" href="#m:298"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:297"><span class="id" title="variable">v</span></a>)) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:298"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:298"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:297"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sender_strong_nontriviality_prop" class="idref" href="#sender_strong_nontriviality_prop"><span class="id" title="definition">sender_strong_nontriviality_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="v:299" class="idref" href="#v:299"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="m:300" class="idref" href="#m:300"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm_constrained_projection"><span class="id" title="definition">composite_vlsm_constrained_projection</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.constraint"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:299"><span class="id" title="variable">v</span></a>)) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:300"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:300"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:299"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="has_been_received_capabilities:302" class="idref" href="#has_been_received_capabilities:302"><span class="id" title="binder">has_been_received_capabilities</span></a> : <span class="id" title="keyword">forall</span> <a id="i:301" class="idref" href="#i:301"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>, (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received_capability"><span class="id" title="class">has_been_received_capability</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:301"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
</div>

<div class="doc">
We say that a validator &lt;v&gt; (with associated component &lt;i&gt;) is equivocating wrt.
   to another component &lt;j&gt;, if there exists a message which <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> by
   &lt;j&gt; but <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a></span> by &lt;i&gt; 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocating_wrt" class="idref" href="#equivocating_wrt"><span class="id" title="definition">equivocating_wrt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:303" class="idref" href="#v:303"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="j:304" class="idref" href="#j:304"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sv:305" class="idref" href="#sv:305"><span class="id" title="binder">sv</span></a> <a id="sj:306" class="idref" href="#sj:306"><span class="id" title="binder">sj</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:307" class="idref" href="#i:307"><span class="id" title="binder">i</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:303"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:308" class="idref" href="#m:308"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a>(<a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:308"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:303"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_not_been_sent"><span class="id" title="method">has_not_been_sent</span></a>  (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#i:307"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sv:305"><span class="id" title="variable">sv</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:308"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a>  (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:304"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#sj:306"><span class="id" title="variable">sj</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:308"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can now decide whether a validator is equivocating in a certain state. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_equivocating_statewise" class="idref" href="#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:309" class="idref" href="#s:309"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:310" class="idref" href="#v:310"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="j:311" class="idref" href="#j:311"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:311"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:310"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#equivocating_wrt"><span class="id" title="definition">equivocating_wrt</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:310"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:311"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:309"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:310"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:309"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:311"><span class="id" title="variable">j</span></a>).<br/>

<br/>
</div>

<div class="doc">
An alternative definition for detecting equivocation in a certain state,
      which checks if for every <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.CommonTraces.html#protocol_trace"><span class="id" title="inductive">protocol_trace</span></a></span> there exists equivocation
      involving the given validator

<div class="paragraph"> </div>

      Notably, this definition is not generally equivalent to <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a></span>,
      which does not verify the order in which receiving and sending occurred.
  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_equivocating_tracewise" class="idref" href="#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:312" class="idref" href="#s:312"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:313" class="idref" href="#v:313"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="j:314" class="idref" href="#j:314"><span class="id" title="binder">j</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:313"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="tr:315" class="idref" href="#tr:315"><span class="id" title="binder">tr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace"><span class="id" title="definition">protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="last:316" class="idref" href="#last:316"><span class="id" title="binder">last</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="prefix:317" class="idref" href="#prefix:317"><span class="id" title="binder">prefix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:318" class="idref" href="#Hpr:318"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#trace_prefix"><span class="id" title="definition">trace_prefix</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:315"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#last:316"><span class="id" title="variable">last</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#prefix:317"><span class="id" title="variable">prefix</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hlast:319" class="idref" href="#Hlast:319"><span class="id" title="binder">Hlast</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#last:316"><span class="id" title="variable">last</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:312"><span class="id" title="variable">s</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:320" class="idref" href="#m:320"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:320"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:313"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="elem:321" class="idref" href="#elem:321"><span class="id" title="binder">elem</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#elem:321"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:320"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:314"><span class="id" title="variable">j</span></a>) ((<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#elem:321"><span class="id" title="variable">elem</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#j:314"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:320"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#prefix:317"><span class="id" title="variable">prefix</span></a>.<br/>

<br/>
</div>

<div class="doc">
A possibly friendlier version using a previously defined primitive. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_equivocating_tracewise_alt" class="idref" href="#is_equivocating_tracewise_alt"><span class="id" title="definition">is_equivocating_tracewise_alt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:322" class="idref" href="#s:322"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:323" class="idref" href="#v:323"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="j:324" class="idref" href="#j:324"><span class="id" title="binder">j</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.A"><span class="id" title="variable">A</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:323"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="tr:325" class="idref" href="#tr:325"><span class="id" title="binder">tr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace"><span class="id" title="definition">protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="last:326" class="idref" href="#last:326"><span class="id" title="binder">last</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="prefix:327" class="idref" href="#prefix:327"><span class="id" title="binder">prefix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:328" class="idref" href="#Hpr:328"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#trace_prefix"><span class="id" title="definition">trace_prefix</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#tr:325"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#last:326"><span class="id" title="variable">last</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#prefix:327"><span class="id" title="variable">prefix</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hlast:329" class="idref" href="#Hlast:329"><span class="id" title="binder">Hlast</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#last:326"><span class="id" title="variable">last</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:322"><span class="id" title="variable">s</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:330" class="idref" href="#m:330"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:330"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:323"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#m:330"><span class="id" title="variable">m</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#prefix:327"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#last:326"><span class="id" title="variable">last</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="validator_listing:331" class="idref" href="#validator_listing:331"><span class="id" title="binder">validator_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="finite_validator:332" class="idref" href="#finite_validator:332"><span class="id" title="binder">finite_validator</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#validator_listing:331"><span class="id" title="variable">validator_listing</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="measurable_V:333" class="idref" href="#measurable_V:333"><span class="id" title="binder">measurable_V</span></a> : <a class="idref" href="CasperCBC.CBC.Common.html#Measurable"><span class="id" title="class">Measurable</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="threshold_V:334" class="idref" href="#threshold_V:334"><span class="id" title="binder">threshold_V</span></a> : <a class="idref" href="CasperCBC.CBC.Common.html#ReachableThreshold"><span class="id" title="class">ReachableThreshold</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
</div>

<div class="doc">
For the equivocation sum fault to be computable, we require that
      our is_equivocating property is decidable. The current implementation
      refers to <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a></span>, but this might change
      in the future 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocation_dec_statewise" class="idref" href="#equivocation_dec_statewise"><span class="id" title="definition">equivocation_dec_statewise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdec:337" class="idref" href="#Hdec:337"><span class="id" title="binder">Hdec</span></a> : <span class="id" title="keyword">forall</span> (<a id="s:335" class="idref" href="#s:335"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) (<a id="v:336" class="idref" href="#v:336"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:335"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:336"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:335"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:336"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.CBC.Equivocation.html#basic_equivocation"><span class="id" title="class">basic_equivocation</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#state_validators"><span class="id" title="method">state_validators</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator_listing"><span class="id" title="variable">validator_listing</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#state_validators_nodup"><span class="id" title="method">state_validators_nodup</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.finite_validator"><span class="id" title="variable">finite_validator</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#is_equivocating_fn"><span class="id" title="method">is_equivocating_fn</span></a> := <span class="id" title="keyword">fun</span> (<a id="s:338" class="idref" href="#s:338"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) (<a id="v:339" class="idref" href="#v:339"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Hdec:337"><span class="id" title="variable">Hdec</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:338"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:339"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocation_dec_tracewise" class="idref" href="#equivocation_dec_tracewise"><span class="id" title="definition">equivocation_dec_tracewise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdec:342" class="idref" href="#Hdec:342"><span class="id" title="binder">Hdec</span></a> : <span class="id" title="keyword">forall</span> (<a id="s:340" class="idref" href="#s:340"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) (<a id="v:341" class="idref" href="#v:341"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:340"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:341"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:340"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:341"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.CBC.Equivocation.html#basic_equivocation"><span class="id" title="class">basic_equivocation</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#state_validators"><span class="id" title="method">state_validators</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator_listing"><span class="id" title="variable">validator_listing</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#state_validators_nodup"><span class="id" title="method">state_validators_nodup</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.finite_validator"><span class="id" title="variable">finite_validator</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#is_equivocating_fn"><span class="id" title="method">is_equivocating_fn</span></a> := <span class="id" title="keyword">fun</span> (<a id="s:343" class="idref" href="#s:343"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) (<a id="v:344" class="idref" href="#v:344"><span class="id" title="binder">v</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Hdec:342"><span class="id" title="variable">Hdec</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s:343"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#v:344"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equivocation_fault_constraint" class="idref" href="#equivocation_fault_constraint"><span class="id" title="definition">equivocation_fault_constraint</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Dec:345" class="idref" href="#Dec:345"><span class="id" title="binder">Dec</span></a> : <a class="idref" href="CasperCBC.CBC.Equivocation.html#basic_equivocation"><span class="id" title="class">basic_equivocation</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:346" class="idref" href="#l:346"><span class="id" title="binder">l</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="som:347" class="idref" href="#som:347"><span class="id" title="binder">som</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s':348" class="idref" href="#s':348"><span class="id" title="binder">s'</span></a>, <a id="om':349" class="idref" href="#om':349"><span class="id" title="binder">om'</span></a>) := (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#l:346"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#som:347"><span class="id" title="variable">som</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#not_heavy"><span class="id" title="method">not_heavy</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#s':348"><span class="id" title="variable">s'</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#Composite"><span class="id" title="section">Composite</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
