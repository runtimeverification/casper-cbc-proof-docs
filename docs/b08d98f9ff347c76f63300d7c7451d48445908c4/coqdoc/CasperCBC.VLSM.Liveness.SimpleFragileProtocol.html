<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write("<a href='" + document.title + ".svg'>" + document.title + "</a>")</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">ListSet</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Classes.html#"><span class="id" title="library">Lib.Classes</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#"><span class="id" title="library">Lib.ListSetExtras</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Measurable.html#"><span class="id" title="library">Lib.Measurable</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.CBC.FullNode.Validator.State.html#"><span class="id" title="library">CBC.FullNode.Validator.State</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#"><span class="id" title="library">VLSM.Common</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.html#"><span class="id" title="library">VLSM.Liveness</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#"><span class="id" title="library">VLSM.Composition</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#"><span class="id" title="library">VLSM.Equivocation</span></a> <span class="comment">(*&nbsp;for&nbsp;has_been_sent&nbsp;*)</span><br/>
.<br/>

<br/>
</div>

<div class="doc">
<a id="lab143"></a><h1 class="section">VLSM Simple Live Protocol</h1>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

This module defines a simple consensus protocol, and
proves that it is live when there are no synchronization faults.
 
<div class="paragraph"> </div>

<a id="lab144"></a><h2 class="section">Validators</h2>


<div class="paragraph"> </div>

The components are similar to <span class="inlinecode"><span class="id" title="library">CBC.FullNode.Validator</span></span>, except
that the states and messages all carry times, and the nodes
only send messages at the times given in a <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Liveness.html#Plan"><span class="id" title="record">Plan</span></a></span>.
 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="Define_Component" class="idref" href="#Define_Component"><span class="id" title="section">Define_Component</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="C:1" class="idref" href="#C:1"><span class="id" title="binder">C</span></a> <a id="V:2" class="idref" href="#V:2"><span class="id" title="binder">V</span></a>:<span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="EqC:3" class="idref" href="#EqC:3"><span class="id" title="binder">EqC</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#C:1"><span class="id" title="variable">C</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="EqV:4" class="idref" href="#EqV:4"><span class="id" title="binder">EqV</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:2"><span class="id" title="variable">V</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="c0:5" class="idref" href="#c0:5"><span class="id" title="binder">c0</span></a>:<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#C:1"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="plan:6" class="idref" href="#plan:6"><span class="id" title="binder">plan</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:2"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="validator_message" class="idref" href="#validator_message"><span class="id" title="record">validator_message</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Msg" class="idref" href="#Msg"><span class="id" title="constructor">Msg</span></a> {<a id="message_time" class="idref" href="#message_time"><span class="id" title="projection">message_time</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="message_proposal" class="idref" href="#message_proposal"><span class="id" title="projection">message_proposal</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.C"><span class="id" title="variable">C</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="message_sender" class="idref" href="#message_sender"><span class="id" title="projection">message_sender</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.V"><span class="id" title="variable">V</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="message_justification" class="idref" href="#message_justification"><span class="id" title="projection">message_justification</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message:7"><span class="id" title="inductive">validator_message</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="validator_message_eq_dec" class="idref" href="#validator_message_eq_dec"><span class="id" title="instance">validator_message_eq_dec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">C</span> <span class="id" title="var">V</span> <span class="id" title="var">EqC</span> <span class="id" title="var">EqV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fix</span> <span class="id" title="var">validator_message_eq_dec</span> (<a id="m:17" class="idref" href="#m:17"><span class="id" title="binder">m</span></a> <a id="n:18" class="idref" href="#n:18"><span class="id" title="binder">n</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">m</span>} : <a class="idref" href="CasperCBC.Lib.Classes.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:12"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:13"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:12"><span class="id" title="variable">m</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:13"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">c1</span> <span class="id" title="var">v1</span> <span class="id" title="var">msgs1</span>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">c2</span> <span class="id" title="var">v2</span> <span class="id" title="var">msgs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">t1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">t2</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">c1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c2</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v2</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#list_eq_dec"><span class="id" title="lemma">list_eq_dec</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message_eq_dec:14"><span class="id" title="variable">validator_message_eq_dec</span></a> <span class="id" title="var">msgs1</span> <span class="id" title="var">msgs2</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>);<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="message_slot" class="idref" href="#message_slot"><span class="id" title="definition">message_slot</span></a> (<a id="m:22" class="idref" href="#m:22"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>) : (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> <span class="id" title="var">t</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> <span class="id" title="var">_</span>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:22"><span class="id" title="variable">m</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="message_height" class="idref" href="#message_height"><span class="id" title="definition">message_height</span></a> (<a id="m:24" class="idref" href="#m:24"><span class="id" title="binder">m</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">m</span>}: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#list_max"><span class="id" title="definition">list_max</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_height:25"><span class="id" title="definition">message_height</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_justification"><span class="id" title="projection">message_justification</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:24"><span class="id" title="variable">m</span></a>))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="validator_message_well_founded" class="idref" href="#validator_message_well_founded"><span class="id" title="lemma">validator_message_well_founded</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="time:26" class="idref" href="#time:26"><span class="id" title="binder">time</span></a> <a id="c:27" class="idref" href="#c:27"><span class="id" title="binder">c</span></a> <a id="v:28" class="idref" href="#v:28"><span class="id" title="binder">v</span></a> <a id="history:29" class="idref" href="#history:29"><span class="id" title="binder">history</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#time:26"><span class="id" title="variable">time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#c:27"><span class="id" title="variable">c</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:28"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#history:29"><span class="id" title="variable">history</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#history:29"><span class="id" title="variable">history</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">c</span> <span class="id" title="var">v</span> <span class="id" title="var">hist</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">in_map</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span>:=<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_height"><span class="id" title="definition">message_height</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="k:31" class="idref" href="#k:31"><span class="id" title="binder">k</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#k:30"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#list_max"><span class="id" title="definition">list_max</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_height"><span class="id" title="definition">message_height</span></a> <span class="id" title="var">hist</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_height"><span class="id" title="definition">message_height</span></a> <span class="id" title="var">hist</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#list_max_le"><span class="id" title="lemma">list_max_le</span></a>;<span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.nle_succ_diag_l"><span class="id" title="lemma">PeanoNat.Nat.nle_succ_diag_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="validator_state" class="idref" href="#validator_state"><span class="id" title="inductive">validator_state</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="State" class="idref" href="#State"><span class="id" title="constructor">State</span></a> (<a id="time:34" class="idref" href="#time:34"><span class="id" title="binder">time</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="received:35" class="idref" href="#received:35"><span class="id" title="binder">received</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sent:36" class="idref" href="#sent:36"><span class="id" title="binder">sent</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="finished_send:37" class="idref" href="#finished_send:37"><span class="id" title="binder">finished_send</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_time" class="idref" href="#validator_time"><span class="id" title="definition">validator_time</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder">'(</span></a><a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder">State</span></a> <a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder">t</span></a> <a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder">_</span></a> <a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder">_</span></a> <a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder">_</span></a><a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:38"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_sends" class="idref" href="#validator_sends"><span class="id" title="definition">validator_sends</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">'(</span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">State</span></a> <a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">_</span></a> <a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">_</span></a> <a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">sends</span></a> <a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">_</span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends:40"><span class="id" title="variable">sends</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_received" class="idref" href="#validator_received"><span class="id" title="definition">validator_received</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">'(</span></a><a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">State</span></a> <a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">_</span></a> <a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">received</span></a> <a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">_</span></a> <a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">_</span></a><a id="pat:43" class="idref" href="#pat:43"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#received:42"><span class="id" title="variable">received</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="initial_validator_state" class="idref" href="#initial_validator_state"><span class="id" title="definition">initial_validator_state</span></a> (<a id="s:44" class="idref" href="#s:44"><span class="id" title="binder">s</span></a>:<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="t:45" class="idref" href="#t:45"><span class="id" title="binder">t</span></a>,<a id="msgs:46" class="idref" href="#msgs:46"><span class="id" title="binder">msgs</span></a>,<a id="log:47" class="idref" href="#log:47"><span class="id" title="binder">log</span></a>,<a id="flag:48" class="idref" href="#flag:48"><span class="id" title="binder">flag</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:44"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:45"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msgs:46"><span class="id" title="variable">msgs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#log:47"><span class="id" title="variable">log</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#flag:48"><span class="id" title="variable">flag</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="initial_validator_message" class="idref" href="#initial_validator_message"><span class="id" title="definition">initial_validator_message</span></a> (<a id="m:49" class="idref" href="#m:49"><span class="id" title="binder">m</span></a>:<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="validator_label" class="idref" href="#validator_label"><span class="id" title="inductive">validator_label</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Proposal" class="idref" href="#Proposal"><span class="id" title="constructor">Proposal</span></a> (<a id="c:52" class="idref" href="#c:52"><span class="id" title="binder">c</span></a>:<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;| <a id="Tick" class="idref" href="#Tick"><span class="id" title="constructor">Tick</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="record_receive" class="idref" href="#record_receive"><span class="id" title="definition">record_receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="msg:53" class="idref" href="#msg:53"><span class="id" title="binder">msg</span></a> <a id="pat:58" class="idref" href="#pat:58"><span class="id" title="binder">'(</span></a><a id="pat:58" class="idref" href="#pat:58"><span class="id" title="binder">State</span></a> <a id="pat:58" class="idref" href="#pat:58"><span class="id" title="binder">t</span></a> <a id="pat:58" class="idref" href="#pat:58"><span class="id" title="binder">msgs</span></a> <a id="pat:58" class="idref" href="#pat:58"><span class="id" title="binder">log</span></a> <a id="pat:58" class="idref" href="#pat:58"><span class="id" title="binder">flag</span></a><a id="pat:58" class="idref" href="#pat:58"><span class="id" title="binder">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#State"><span class="id" title="constructor">State</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:57"><span class="id" title="variable">t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:53"><span class="id" title="variable">msg</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msgs:56"><span class="id" title="variable">msgs</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#log:55"><span class="id" title="variable">log</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#flag:54"><span class="id" title="variable">flag</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="estimator:59" class="idref" href="#estimator:59"><span class="id" title="binder">estimator</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v:60" class="idref" href="#v:60"><span class="id" title="binder">v</span></a>:<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.V"><span class="id" title="variable">V</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_transition" class="idref" href="#validator_transition"><span class="id" title="definition">validator_transition</span></a> (<a id="l:61" class="idref" href="#l:61"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_label"><span class="id" title="inductive">validator_label</span></a>) (<a id="sim:62" class="idref" href="#sim:62"><span class="id" title="binder">sim</span></a>:(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>)) : (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s:63" class="idref" href="#s:63"><span class="id" title="binder">s</span></a>,<a id="im:64" class="idref" href="#im:64"><span class="id" title="binder">im</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sim:62"><span class="id" title="variable">sim</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:61"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Label&nbsp;is&nbsp;None&nbsp;for&nbsp;receiving&nbsp;messages&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:64"><span class="id" title="variable">im</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Receive&nbsp;the&nbsp;message&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#record_receive"><span class="id" title="definition">record_receive</span></a> <span class="id" title="var">m</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:63"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Receiving&nbsp;with&nbsp;no&nbsp;message&nbsp;will&nbsp;actually&nbsp;be&nbsp;ruled&nbsp;out<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;the&nbsp;validity&nbsp;predicate,&nbsp;just&nbsp;leave&nbsp;s&nbsp;unchanged&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:63"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Tick"><span class="id" title="constructor">Tick</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Advance&nbsp;clock&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a>,<a id="msgs:68" class="idref" href="#msgs:68"><span class="id" title="binder">msgs</span></a>,<a id="log:69" class="idref" href="#log:69"><span class="id" title="binder">log</span></a>,<a id="f:70" class="idref" href="#f:70"><span class="id" title="binder">f</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:63"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#State"><span class="id" title="constructor">State</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:67"><span class="id" title="variable">n</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msgs:68"><span class="id" title="variable">msgs</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#log:69"><span class="id" title="variable">log</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Proposal"><span class="id" title="constructor">Proposal</span></a> <span class="id" title="var">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Send&nbsp;a&nbsp;proposal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="n:71" class="idref" href="#n:71"><span class="id" title="binder">n</span></a>,<a id="known:72" class="idref" href="#known:72"><span class="id" title="binder">known</span></a>,<a id="sent:73" class="idref" href="#sent:73"><span class="id" title="binder">sent</span></a>,<span class="id" title="var">_</span>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:63"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="m:74" class="idref" href="#m:74"><span class="id" title="binder">m</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:71"><span class="id" title="variable">n</span></a> <span class="id" title="var">c</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#known:72"><span class="id" title="variable">known</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#State"><span class="id" title="constructor">State</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:71"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:74"><span class="id" title="variable">m</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#known:72"><span class="id" title="variable">known</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:74"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sent:73"><span class="id" title="variable">sent</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:74"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
"Mandatory flip-flopping"
     If the estimator allows multiple consensus values
     and the state has previously sent a proposals,
     the new proposal cannot match the immediately
     preceeding proposal.

<div class="paragraph"> </div>

     TODO: Is this sufficient for non-binary decisions?
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="flip_condition" class="idref" href="#flip_condition"><span class="id" title="definition">flip_condition</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="pat:77" class="idref" href="#pat:77"><span class="id" title="binder">'(</span></a><a id="pat:77" class="idref" href="#pat:77"><span class="id" title="binder">State</span></a> <a id="pat:77" class="idref" href="#pat:77"><span class="id" title="binder">_</span></a> <a id="pat:77" class="idref" href="#pat:77"><span class="id" title="binder">msgs</span></a> <a id="pat:77" class="idref" href="#pat:77"><span class="id" title="binder">log</span></a> <a id="pat:77" class="idref" href="#pat:77"><span class="id" title="binder">_</span></a><a id="pat:77" class="idref" href="#pat:77"><span class="id" title="binder">)</span></a> <a id="c:78" class="idref" href="#c:78"><span class="id" title="binder">c</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#log:75"><span class="id" title="variable">log</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#c:78"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">c'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="c2:80" class="idref" href="#c2:80"><span class="id" title="binder">c2</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.estimator"><span class="id" title="variable">estimator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msgs:76"><span class="id" title="variable">msgs</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#c2:80"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#c2:80"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#c:78"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_valid" class="idref" href="#validator_valid"><span class="id" title="definition">validator_valid</span></a> (<a id="l:81" class="idref" href="#l:81"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_label"><span class="id" title="inductive">validator_label</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sim:82" class="idref" href="#sim:82"><span class="id" title="binder">sim</span></a>:(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s:83" class="idref" href="#s:83"><span class="id" title="binder">s</span></a>,<a id="im:84" class="idref" href="#im:84"><span class="id" title="binder">im</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sim:82"><span class="id" title="variable">sim</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:81"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:84"><span class="id" title="variable">im</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;May&nbsp;not&nbsp;receive&nbsp;with&nbsp;no&nbsp;message&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;A&nbsp;recevied&nbsp;message&nbsp;must<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1)&nbsp;have&nbsp;not&nbsp;already&nbsp;been&nbsp;received,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2)&nbsp;satisfy&nbsp;the&nbsp;full&nbsp;node&nbsp;condition<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(3)&nbsp;must&nbsp;come&nbsp;from&nbsp;a&nbsp;time&nbsp;no&nbsp;earlier&nbsp;later&nbsp;than&nbsp;the&nbsp;clock&nbsp;of&nbsp;s,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;can&nbsp;only&nbsp;be&nbsp;received&nbsp;from&nbsp;the&nbsp;current&nbsp;clock&nbsp;if&nbsp;either<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;has&nbsp;already&nbsp;produced&nbsp;its&nbsp;own&nbsp;mesage&nbsp;for&nbsp;this&nbsp;time,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;this&nbsp;validator&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;plan&nbsp;for&nbsp;this&nbsp;time&nbsp;at&nbsp;all<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ((<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> <span class="id" title="var">n</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">msg_just</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>) =&gt; <span class="id" title="keyword">let</span> (<a id="n':87" class="idref" href="#n':87"><span class="id" title="binder">n'</span></a>,<a id="msgs:88" class="idref" href="#msgs:88"><span class="id" title="binder">msgs</span></a>,<a id="log:89" class="idref" href="#log:89"><span class="id" title="binder">log</span></a>,<a id="f:90" class="idref" href="#f:90"><span class="id" title="binder">f</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:83"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">m</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msgs:88"><span class="id" title="variable">msgs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <span class="id" title="var">msg_just</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msgs:88"><span class="id" title="variable">msgs</span></a> <span class="comment">(*&nbsp;"full&nbsp;node&nbsp;condition"&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n':87"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n':87"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#f:90"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.plan"><span class="id" title="variable">plan</span></a> <span class="id" title="var">n</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Tick"><span class="id" title="constructor">Tick</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:84"><span class="id" title="variable">im</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> (<a id="n:92" class="idref" href="#n:92"><span class="id" title="binder">n</span></a>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<a id="f:93" class="idref" href="#f:93"><span class="id" title="binder">f</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:83"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#f:93"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:92"><span class="id" title="variable">n</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> (<a id="t:94" class="idref" href="#t:94"><span class="id" title="binder">t</span></a>,<a id="received:95" class="idref" href="#received:95"><span class="id" title="binder">received</span></a>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:83"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:96" class="idref" href="#v:96"><span class="id" title="binder">v</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:94"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:96"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:94"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:96"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#received:95"><span class="id" title="variable">received</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Proposal"><span class="id" title="constructor">Proposal</span></a> <span class="id" title="var">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:84"><span class="id" title="variable">im</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="n:98" class="idref" href="#n:98"><span class="id" title="binder">n</span></a>,<a id="msgs:99" class="idref" href="#msgs:99"><span class="id" title="binder">msgs</span></a>,<a id="log:100" class="idref" href="#log:100"><span class="id" title="binder">log</span></a>,<a id="f:101" class="idref" href="#f:101"><span class="id" title="binder">f</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:83"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.estimator"><span class="id" title="variable">estimator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msgs:99"><span class="id" title="variable">msgs</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#flip_condition"><span class="id" title="definition">flip_condition</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:83"><span class="id" title="variable">s</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:98"><span class="id" title="variable">n</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#f:101"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Validator_type" class="idref" href="#Validator_type"><span class="id" title="instance">Validator_type</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_type"><span class="id" title="class">VLSM_type</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#label"><span class="id" title="method">label</span></a>:= <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_label"><span class="id" title="inductive">validator_label</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Validator_sign" class="idref" href="#Validator_sign"><span class="id" title="instance">Validator_sign</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_sign"><span class="id" title="class">VLSM_sign</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator_type"><span class="id" title="instance">Validator_type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#initial_validator_state"><span class="id" title="definition">initial_validator_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#initial_message_prop"><span class="id" title="method">initial_message_prop</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#initial_validator_message"><span class="id" title="definition">initial_validator_message</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#s0"><span class="id" title="method">s0</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#initial_validator_state"><span class="id" title="definition">initial_validator_state</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#State"><span class="id" title="constructor">State</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span>) (<span class="id" title="keyword">fun</span> <a id="H:102" class="idref" href="#H:102"><span class="id" title="binder">H</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#H:102"><span class="id" title="variable">H</span></a>))));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#m0"><span class="id" title="method">m0</span></a> := (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Msg"><span class="id" title="constructor">Msg</span></a> 0 <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.c0"><span class="id" title="variable">c0</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#l0"><span class="id" title="method">l0</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Validator_machine" class="idref" href="#Validator_machine"><span class="id" title="instance">Validator_machine</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_class"><span class="id" title="class">VLSM_class</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator_sign"><span class="id" title="instance">Validator_sign</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_transition"><span class="id" title="definition">validator_transition</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_valid"><span class="id" title="definition">validator_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Validator" class="idref" href="#Validator"><span class="id" title="definition">Validator</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#mk_vlsm"><span class="id" title="definition">mk_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator_machine"><span class="id" title="instance">Validator_machine</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="validator_clock_monotone" class="idref" href="#validator_clock_monotone"><span class="id" title="lemma">validator_clock_monotone</span></a>: <span class="id" title="keyword">forall</span> <a id="l:103" class="idref" href="#l:103"><span class="id" title="binder">l</span></a> <a id="s:104" class="idref" href="#s:104"><span class="id" title="binder">s</span></a> <a id="om:105" class="idref" href="#om:105"><span class="id" title="binder">om</span></a> <a id="s':106" class="idref" href="#s':106"><span class="id" title="binder">s'</span></a> <a id="om':107" class="idref" href="#om':107"><span class="id" title="binder">om'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:103"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:104"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:105"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':106"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om':107"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:104"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':106"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">C</span> <span class="id" title="var">V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="keyword">match</span> ?<span class="id" title="var">X</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>)] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">solve</span>[<span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_clock" class="idref" href="#validator_clock"><span class="id" title="definition">validator_clock</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.html#ClockFor"><span class="id" title="record">ClockFor</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CasperCBC.VLSM.Liveness.html#clock"><span class="id" title="projection">clock</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.html#clock_monotone"><span class="id" title="projection">clock_monotone</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_clock_monotone"><span class="id" title="lemma">validator_clock_monotone</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_has_been_sent" class="idref" href="#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="pat:109" class="idref" href="#pat:109"><span class="id" title="binder">'(</span></a><a id="pat:109" class="idref" href="#pat:109"><span class="id" title="binder">State</span></a> <a id="pat:109" class="idref" href="#pat:109"><span class="id" title="binder">_</span></a> <a id="pat:109" class="idref" href="#pat:109"><span class="id" title="binder">_</span></a> <a id="pat:109" class="idref" href="#pat:109"><span class="id" title="binder">sent</span></a> <a id="pat:109" class="idref" href="#pat:109"><span class="id" title="binder">_</span></a><a id="pat:109" class="idref" href="#pat:109"><span class="id" title="binder">)</span></a> <a id="m:110" class="idref" href="#m:110"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:110"><span class="id" title="variable">m</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sent:108"><span class="id" title="variable">sent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_has_been_sent_dec" class="idref" href="#validator_has_been_sent_dec"><span class="id" title="definition">validator_has_been_sent_dec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> <a id="m:112" class="idref" href="#m:112"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="keyword">let</span> '(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#State"><span class="id" title="constructor">State</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">sent</span> <span class="id" title="var">_</span>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:111"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:112"><span class="id" title="variable">m</span></a> <span class="id" title="var">sent</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="validator_initial_not_sent" class="idref" href="#validator_initial_not_sent"><span class="id" title="lemma">validator_initial_not_sent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:114" class="idref" href="#s:114"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:114"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <a id="m:115" class="idref" href="#m:115"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:114"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:115"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] <span class="id" title="var">Hinit</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">sent</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinit</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="validator_transition_updates_sent" class="idref" href="#validator_transition_updates_sent"><span class="id" title="lemma">validator_transition_updates_sent</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:116" class="idref" href="#l:116"><span class="id" title="binder">l</span></a> <a id="s:117" class="idref" href="#s:117"><span class="id" title="binder">s</span></a> <a id="im:118" class="idref" href="#im:118"><span class="id" title="binder">im</span></a> <a id="s':119" class="idref" href="#s':119"><span class="id" title="binder">s'</span></a> <a id="om:120" class="idref" href="#om:120"><span class="id" title="binder">om</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:116"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:117"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:118"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':119"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:120"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="msg:121" class="idref" href="#msg:121"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':119"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:121"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:120"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:121"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:117"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:121"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">s'</span> <span class="id" title="var">om</span> <span class="id" title="var">Htrans</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [[]|];[| |<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_sent_stepwise_props" class="idref" href="#validator_sent_stepwise_props"><span class="id" title="definition">validator_sent_stepwise_props</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_stepwise_props"><span class="id" title="definition">has_been_sent_stepwise_props</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CasperCBC.VLSM.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_initial_not_sent"><span class="id" title="lemma">validator_initial_not_sent</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> <a id="l:122" class="idref" href="#l:122"><span class="id" title="binder">l</span></a> <a id="s:123" class="idref" href="#s:123"><span class="id" title="binder">s</span></a> <a id="im:124" class="idref" href="#im:124"><span class="id" title="binder">im</span></a> <a id="s':125" class="idref" href="#s':125"><span class="id" title="binder">s'</span></a> <a id="om:126" class="idref" href="#om:126"><span class="id" title="binder">om</span></a> <a id="H:127" class="idref" href="#H:127"><span class="id" title="binder">H</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_transition_updates_sent"><span class="id" title="lemma">validator_transition_updates_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:122"><span class="id" title="variable">l</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:123"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:124"><span class="id" title="variable">im</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':125"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:126"><span class="id" title="variable">om</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#H:127"><span class="id" title="variable">H</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="validator_has_been_sent_capability" class="idref" href="#validator_has_been_sent_capability"><span class="id" title="instance">validator_has_been_sent_capability</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability_from_stepwise"><span class="id" title="lemma">has_been_sent_capability_from_stepwise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent_dec"><span class="id" title="definition">validator_has_been_sent_dec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_sent_stepwise_props"><span class="id" title="definition">validator_sent_stepwise_props</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_has_been_observed" class="idref" href="#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder">'(</span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder">State</span></a> <a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder">_</span></a> <a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder">received</span></a> <a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder">_</span></a> <a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder">_</span></a><a id="pat:129" class="idref" href="#pat:129"><span class="id" title="binder">)</span></a> <a id="m:130" class="idref" href="#m:130"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:130"><span class="id" title="variable">m</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#received:128"><span class="id" title="variable">received</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_has_been_observed_dec" class="idref" href="#validator_has_been_observed_dec"><span class="id" title="definition">validator_has_been_observed_dec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="s:131" class="idref" href="#s:131"><span class="id" title="binder">s</span></a> <a id="m:132" class="idref" href="#m:132"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="keyword">let</span> '(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#State"><span class="id" title="constructor">State</span></a> <span class="id" title="var">_</span> <span class="id" title="var">received</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:131"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:132"><span class="id" title="variable">m</span></a> <span class="id" title="var">received</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="validator_initial_not_observed" class="idref" href="#validator_initial_not_observed"><span class="id" title="lemma">validator_initial_not_observed</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s:134" class="idref" href="#s:134"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#initial_state_prop"><span class="id" title="method">initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:134"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <a id="m:135" class="idref" href="#m:135"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:134"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:135"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] <span class="id" title="var">Hinit</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">received</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinit</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="validator_transition_updates_observed" class="idref" href="#validator_transition_updates_observed"><span class="id" title="lemma">validator_transition_updates_observed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="l:136" class="idref" href="#l:136"><span class="id" title="binder">l</span></a> <a id="s:137" class="idref" href="#s:137"><span class="id" title="binder">s</span></a> <a id="im:138" class="idref" href="#im:138"><span class="id" title="binder">im</span></a> <a id="s':139" class="idref" href="#s':139"><span class="id" title="binder">s'</span></a> <a id="om:140" class="idref" href="#om:140"><span class="id" title="binder">om</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hptrans:141" class="idref" href="#Hptrans:141"><span class="id" title="binder">Hptrans</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:136"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:137"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:138"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':139"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:140"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="msg:142" class="idref" href="#msg:142"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':139"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:142"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:138"><span class="id" title="variable">im</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:142"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:140"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:142"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:137"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:142"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptrans</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htrans</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">In</span> <span class="id" title="var">flip_condition</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l'</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">clear</span> <span class="id" title="var">Hvalid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_add_iff"><span class="id" title="lemma">set_add_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">clear</span> <span class="id" title="var">Hvalid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[|<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_add_iff"><span class="id" title="lemma">set_add_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_observed_stepwise_props" class="idref" href="#validator_observed_stepwise_props"><span class="id" title="definition">validator_observed_stepwise_props</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#oracle_stepwise_props"><span class="id" title="record">oracle_stepwise_props</span></a> (<span class="id" title="var">vlsm</span>:=<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a>) <a class="idref" href="CasperCBC.VLSM.Common.html#item_sends_or_receives"><span class="id" title="definition">item_sends_or_receives</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {| <a class="idref" href="CasperCBC.VLSM.Equivocation.html#oracle_no_inits"><span class="id" title="projection">oracle_no_inits</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_initial_not_observed"><span class="id" title="lemma">validator_initial_not_observed</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#oracle_step_update"><span class="id" title="projection">oracle_step_update</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_transition_updates_observed"><span class="id" title="lemma">validator_transition_updates_observed</span></a>|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="validator_has_been_observed_capability" class="idref" href="#validator_has_been_observed_capability"><span class="id" title="instance">validator_has_been_observed_capability</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_observed_capability"><span class="id" title="class">has_been_observed_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a>: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#state_message_oracle"><span class="id" title="definition">state_message_oracle</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_observed_dec"><span class="id" title="method">has_been_observed_dec</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed_dec"><span class="id" title="definition">validator_has_been_observed_dec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_observed_stepwise_props"><span class="id" title="method">has_been_observed_stepwise_props</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_observed_stepwise_props"><span class="id" title="definition">validator_observed_stepwise_props</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="unsent_time" class="idref" href="#unsent_time"><span class="id" title="definition">unsent_time</span></a> (<a id="s:143" class="idref" href="#s:143"><span class="id" title="binder">s</span></a>:<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="t:144" class="idref" href="#t:144"><span class="id" title="binder">t</span></a>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a>) := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:143"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#f:145"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:144"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sends_respect_plan" class="idref" href="#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a> (<a id="s:146" class="idref" href="#s:146"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="m:147" class="idref" href="#m:147"><span class="id" title="binder">m</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:146"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:147"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.plan"><span class="id" title="variable">plan</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_time"><span class="id" title="projection">message_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:147"><span class="id" title="variable">m</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:147"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_time"><span class="id" title="projection">message_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:147"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:146"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sends_fill_plan" class="idref" href="#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a> (<a id="s:148" class="idref" href="#s:148"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t:149" class="idref" href="#t:149"><span class="id" title="binder">t</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:148"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:150" class="idref" href="#m:150"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:150"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:149"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:148"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:150"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sends_unique" class="idref" href="#sends_unique"><span class="id" title="definition">sends_unique</span></a> (<a id="s:151" class="idref" href="#s:151"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="m1:152" class="idref" href="#m1:152"><span class="id" title="binder">m1</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m1:152"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="m2:153" class="idref" href="#m2:153"><span class="id" title="binder">m2</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m2:153"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m1:152"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m2:153"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m1:152"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m2:153"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="message_send_invariant_init" class="idref" href="#message_send_invariant_init"><span class="id" title="lemma">message_send_invariant_init</span></a> <a id="s:154" class="idref" href="#s:154"><span class="id" title="binder">s</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#initial_validator_state"><span class="id" title="definition">initial_validator_state</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:154"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:154"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:154"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:154"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (-&gt; &amp; -&gt; &amp; -&gt; &amp; <span class="id" title="var">Hfinished</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">finished_send</span>;[<span class="id" title="tactic">elim</span> <span class="id" title="var">Hfinished</span>;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>|<span class="id" title="tactic">clear</span> <span class="id" title="var">Hfinished</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a>;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.nlt_0_r"><span class="id" title="lemma">PeanoNat.Nat.nlt_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="message_send_invariant_maintained" class="idref" href="#message_send_invariant_maintained"><span class="id" title="lemma">message_send_invariant_maintained</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="l:155" class="idref" href="#l:155"><span class="id" title="binder">l</span></a> <a id="s:156" class="idref" href="#s:156"><span class="id" title="binder">s</span></a> <a id="im:157" class="idref" href="#im:157"><span class="id" title="binder">im</span></a> <a id="s':158" class="idref" href="#s':158"><span class="id" title="binder">s'</span></a> <a id="om:159" class="idref" href="#om:159"><span class="id" title="binder">om</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_valid"><span class="id" title="definition">validator_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:155"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:156"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:157"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_transition"><span class="id" title="definition">validator_transition</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:155"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:156"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:157"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':158"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:159"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:156"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:156"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:156"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':158"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':158"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':158"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Htrans</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">c</span>|]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;sending&nbsp;a&nbsp;proposal&nbsp;message,&nbsp;unsent_time&nbsp;advances&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;set&nbsp;of&nbsp;sent&nbsp;messages&nbsp;grows&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hvalid</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hplan</span> <span class="id" title="var">Hflag</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">finished_send</span>;[<span class="id" title="tactic">elim</span> <span class="id" title="var">Hflag</span>;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>|<span class="id" title="tactic">clear</span> <span class="id" title="var">Hflag</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hrespect</span> [<span class="id" title="var">Hfill</span> <span class="id" title="var">Hunique</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a>;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [&lt;-|<span class="id" title="var">Hsent</span>];[<span class="id" title="tactic">solve</span>[<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hrespect</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_lt_succ_r"><span class="id" title="lemma">PeanoNat.Nat.lt_lt_succ_r</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_time"><span class="id" title="projection">message_time</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">time</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a>;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hplan_t</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#le_S_n"><span class="id" title="lemma">le_S_n</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Lt.html#le_lt_or_eq"><span class="id" title="lemma">Lt.le_lt_or_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>| -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfill</span> <span class="id" title="var">t</span> <span class="id" title="var">Hplan_t</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfill</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eexists</span>;<span class="id" title="tactic">split</span>;[|<span class="id" title="tactic">left</span>;<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">revert</span> <span class="id" title="var">Hunique</span>;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a>;<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="m:161" class="idref" href="#m:161"><span class="id" title="binder">m</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:160"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">time</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:160"><span class="id" title="variable">m</span></a> <span class="id" title="var">sent</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hrespect</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hslot</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_time"><span class="id" title="projection">message_time</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">time</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">Hrespect</span>;<span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_neq"><span class="id" title="lemma">PeanoNat.Nat.lt_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hslot</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>;<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> [&lt;-|<span class="id" title="var">Hm1</span>] <span class="id" title="var">m2</span> [&lt;-|<span class="id" title="var">Hm2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hslot</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hslot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hslot</span>);<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hslot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">m1</span> <span class="id" title="var">Hslot</span>);<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_sends"><span class="id" title="definition">validator_sends</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_sends"><span class="id" title="definition">validator_sends</span></a> <span class="id" title="var">s'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="keyword">forall</span> <a id="t:163" class="idref" href="#t:163"><span class="id" title="binder">t</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:162"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component.v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:162"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:162"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">finished_send</span>;[<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#le_S_n"><span class="id" title="lemma">le_S_n</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Lt.html#le_lt_or_eq"><span class="id" title="lemma">Lt.le_lt_or_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hle</span>;[<span class="id" title="tactic">assumption</span>|<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">subst</span> <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[<span class="id" title="tactic">solve</span>[<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">st</span> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">s't</span> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> <span class="id" title="var">s'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">st</span> <span class="id" title="var">s't</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>, <span class="id" title="var">s'</span>;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [&lt;- <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Ha</span> [<span class="id" title="var">Hb</span> <span class="id" title="var">Hc</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;receiving&nbsp;a&nbsp;message,&nbsp;none&nbsp;of&nbsp;the&nbsp;parts&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;state&nbsp;mentioned&nbsp;in&nbsp;these&nbsp;properties&nbsp;change&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="message_send_invariant" class="idref" href="#message_send_invariant"><span class="id" title="lemma">message_send_invariant</span></a> (<a id="s:164" class="idref" href="#s:164"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:164"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:164"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:164"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:164"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">using</span> @<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop_ind"><span class="id" title="lemma">protocol_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_init"><span class="id" title="lemma">message_send_invariant_init</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">IHHproto</span>;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_maintained"><span class="id" title="lemma">message_send_invariant_maintained</span></a> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span>);<span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="message_send_invariant_preloaded" class="idref" href="#message_send_invariant_preloaded"><span class="id" title="lemma">message_send_invariant_preloaded</span></a> (<a id="s:165" class="idref" href="#s:165"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:165"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:165"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_fill_plan"><span class="id" title="definition">sends_fill_plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:165"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:165"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">using</span> @<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop_ind"><span class="id" title="lemma">protocol_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_init"><span class="id" title="lemma">message_send_invariant_init</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">IHHproto</span>;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_maintained"><span class="id" title="lemma">message_send_invariant_maintained</span></a> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span>);<span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Define_Component"><span class="id" title="section">Define_Component</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">V</span>} {<span class="id" title="var">EqC</span> <span class="id" title="var">EqV</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab145"></a><h2 class="section">Composition and Proofs</h2>


<div class="paragraph"> </div>

This section defines the composed protocol,
and gives proofs about it.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Protocol_Proofs" class="idref" href="#Protocol_Proofs"><span class="id" title="section">Protocol_Proofs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="C:166" class="idref" href="#C:166"><span class="id" title="binder">C</span></a> <a id="V:167" class="idref" href="#V:167"><span class="id" title="binder">V</span></a>:<span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="EqC:168" class="idref" href="#EqC:168"><span class="id" title="binder">EqC</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#C:166"><span class="id" title="variable">C</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="EqV:169" class="idref" href="#EqV:169"><span class="id" title="binder">EqV</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="c0:170" class="idref" href="#c0:170"><span class="id" title="binder">c0</span></a>:<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#C:166"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="Hweights:171" class="idref" href="#Hweights:171"><span class="id" title="binder">Hweights</span></a>: <a class="idref" href="CasperCBC.Lib.Measurable.html#Measurable"><span class="id" title="class">Measurable.Measurable</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="plan:172" class="idref" href="#plan:172"><span class="id" title="binder">plan</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="plan_dec:173" class="idref" href="#plan_dec:173"><span class="id" title="binder">plan_dec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#plan:172"><span class="id" title="variable">plan</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="HPlan:174" class="idref" href="#HPlan:174"><span class="id" title="binder">HPlan</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.html#Plan"><span class="id" title="record">Plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#plan:172"><span class="id" title="variable">plan</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ClientState:175" class="idref" href="#ClientState:175"><span class="id" title="binder">ClientState</span></a> := <a class="idref" href="CasperCBC.VLSM.CBC.FullNode.Validator.State.html#justification"><span class="id" title="inductive">State.justification</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#C:166"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="estimator:176" class="idref" href="#estimator:176"><span class="id" title="binder">estimator</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#C:166"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#C:166"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="validator_list:177" class="idref" href="#validator_list:177"><span class="id" title="binder">validator_list</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="validators_finite:178" class="idref" href="#validators_finite:178"><span class="id" title="binder">validators_finite</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">FinFun.Listing</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_list:177"><span class="id" title="variable">validator_list</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="v0:179" class="idref" href="#v0:179"><span class="id" title="binder">v0</span></a>: <a class="idref" href="CasperCBC.Lib.Classes.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#V:167"><span class="id" title="variable">V</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="IM" class="idref" href="#IM"><span class="id" title="definition">IM</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.C"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="v:180" class="idref" href="#v:180"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Validator"><span class="id" title="definition">Validator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.c0"><span class="id" title="variable">c0</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.estimator"><span class="id" title="variable">estimator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:180"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="simple_liveness_VLSM" class="idref" href="#simple_liveness_VLSM"><span class="id" title="definition">simple_liveness_VLSM</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm"><span class="id" title="definition">Composition.composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a>).<br/>

<br/>
</div>

<div class="doc">
Constructing a variant to show that
      a component's clock eventually ticks.
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="message_slots_before" class="idref" href="#message_slots_before"><span class="id" title="definition">message_slots_before</span></a> (<a id="t:181" class="idref" href="#t:181"><span class="id" title="binder">t</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">'(</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">n</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">,</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">v</span></a><a id="pat:184" class="idref" href="#pat:184"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:183"><span class="id" title="variable">n</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:182"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_prod"><span class="id" title="definition">set_prod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:181"><span class="id" title="variable">t</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validator_list"><span class="id" title="variable">validator_list</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="In_message_slots_before" class="idref" href="#In_message_slots_before"><span class="id" title="lemma">In_message_slots_before</span></a> <a id="tm:185" class="idref" href="#tm:185"><span class="id" title="binder">tm</span></a> <a id="v:186" class="idref" href="#v:186"><span class="id" title="binder">v</span></a> <a id="t:187" class="idref" href="#t:187"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#tm:185"><span class="id" title="variable">tm</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:186"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slots_before"><span class="id" title="definition">message_slots_before</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:187"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#tm:185"><span class="id" title="variable">tm</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:186"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#tm:185"><span class="id" title="variable">tm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:187"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Hplan</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hplan</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_prod_iff"><span class="id" title="lemma">in_prod_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin_t</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_seq"><span class="id" title="lemma">in_seq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hplan</span> <span class="id" title="var">Htime</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_prod_iff"><span class="id" title="lemma">in_prod_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_seq"><span class="id" title="lemma">in_seq</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validators_finite"><span class="id" title="variable">validators_finite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="unreceived_message_count_before" class="idref" href="#unreceived_message_count_before"><span class="id" title="definition">unreceived_message_count_before</span></a> (<a id="t:188" class="idref" href="#t:188"><span class="id" title="binder">t</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="s:189" class="idref" href="#s:189"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.C"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_diff_filter"><span class="id" title="definition">set_diff_filter</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slots_before"><span class="id" title="definition">message_slots_before</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:188"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_received"><span class="id" title="definition">validator_received</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:189"><span class="id" title="variable">s</span></a>))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_ticks_before" class="idref" href="#validator_ticks_before"><span class="id" title="definition">validator_ticks_before</span></a> (<a id="t:190" class="idref" href="#t:190"><span class="id" title="binder">t</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="s:191" class="idref" href="#s:191"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.C"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:190"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:191"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
The component variant is an upper bound on the number of transitions the component
      can take before its clock exceeds <tt>t</tt>, by counting the number of plan
      slots for which it hasn't sent or received a message, and the number
      of times it can tick.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validator_variant" class="idref" href="#validator_variant"><span class="id" title="definition">validator_variant</span></a> (<a id="t:192" class="idref" href="#t:192"><span class="id" title="binder">t</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="s:193" class="idref" href="#s:193"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_state"><span class="id" title="inductive">validator_state</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.C"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unreceived_message_count_before"><span class="id" title="definition">unreceived_message_count_before</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:192"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:193"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_ticks_before"><span class="id" title="definition">validator_ticks_before</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:192"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:193"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="constraint:194" class="idref" href="#constraint:194"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.C"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Liveness.html#no_synch_faults_no_equivocation_constraint"><span class="id" title="definition">no_synch_faults_no_equivocation_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validators_finite"><span class="id" title="variable">validators_finite</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_clock"><span class="id" title="definition">validator_clock</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.c0"><span class="id" title="variable">c0</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.estimator"><span class="id" title="variable">estimator</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_time"><span class="id" title="projection">message_time</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="X:195" class="idref" href="#X:195"><span class="id" title="binder">X</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_message"><span class="id" title="record">validator_message</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.C"><span class="id" title="variable">C</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.V"><span class="id" title="variable">V</span></a>) := <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#constraint:194"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
The overall variant used to show a given component eventually
      ticks adds up the bound for each component.
      To show that a given component eventually reaches a time <tt>t0</tt>,
      an argument about the structure of the plan
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eventually_ticks_variant" class="idref" href="#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a> <a id="t:196" class="idref" href="#t:196"><span class="id" title="binder">t</span></a> (<a id="s:197" class="idref" href="#s:197"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#list_sum"><span class="id" title="definition">list_sum</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="v:198" class="idref" href="#v:198"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:196"><span class="id" title="variable">t</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:197"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:198"><span class="id" title="variable">v</span></a>)) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validator_list"><span class="id" title="variable">validator_list</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="state_update_variant_progress" class="idref" href="#state_update_variant_progress"><span class="id" title="lemma">state_update_variant_progress</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="t:199" class="idref" href="#t:199"><span class="id" title="binder">t</span></a> <a id="s:200" class="idref" href="#s:200"><span class="id" title="binder">s</span></a> <a id="i:201" class="idref" href="#i:201"><span class="id" title="binder">i</span></a> <a id="si':202" class="idref" href="#si':202"><span class="id" title="binder">si'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si':202"><span class="id" title="variable">si'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:199"><span class="id" title="variable">t</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:200"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:201"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:199"><span class="id" title="variable">t</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:200"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:201"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si':202"><span class="id" title="variable">si'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:200"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">validators_finite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">si'</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">s'</span> := <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">si'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="v:204" class="idref" href="#v:204"><span class="id" title="binder">v</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a> <span class="id" title="var">t</span> (<span class="id" title="var">s'</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:203"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a> <span class="id" title="var">t</span> (<span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:203"><span class="id" title="variable">v</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>,<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_incl"><span class="id" title="lemma">PeanoNat.Nat.lt_le_incl</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#le_n"><span class="id" title="constructor">le_n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validator_list"><span class="id" title="variable">validator_list</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validators_finite"><span class="id" title="variable">validators_finite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X</span> <span class="id" title="var">constraint</span> <span class="id" title="var">validators_finite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validator_list"><span class="id" title="variable">validator_list</span></a>;<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.add_lt_le_mono"><span class="id" title="lemma">PeanoNat.Nat.add_lt_le_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">replace</span> (<span class="id" title="var">s'</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">si'</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s'</span>,<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>));[|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">l'</span>];<span class="id" title="tactic">simpl</span>;[|<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>)];<span class="id" title="var">Lia.lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.add_le_lt_mono"><span class="id" title="lemma">PeanoNat.Nat.add_le_lt_mono</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="received_were_sent" class="idref" href="#received_were_sent"><span class="id" title="definition">received_were_sent</span></a> <a id="s:205" class="idref" href="#s:205"><span class="id" title="binder">s</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="i:206" class="idref" href="#i:206"><span class="id" title="binder">i</span></a> <a id="msg:207" class="idref" href="#msg:207"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:206"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:207"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="j:208" class="idref" href="#j:208"><span class="id" title="binder">j</span></a> := <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:207"><span class="id" title="variable">msg</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#j:208"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#j:208"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:207"><span class="id" title="variable">msg</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="received_were_sent_invariant" class="idref" href="#received_were_sent_invariant"><span class="id" title="lemma">received_were_sent_invariant</span></a> <a id="s:209" class="idref" href="#s:209"><span class="id" title="binder">s</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:209"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#received_were_sent"><span class="id" title="definition">received_were_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:209"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent_capability"><span class="id" title="instance">composite_has_been_sent_capability</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validators_finite"><span class="id" title="variable">validators_finite</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hhbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_observed_capability"><span class="id" title="instance">composite_has_been_observed_capability</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validators_finite"><span class="id" title="variable">validators_finite</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_observed_capability"><span class="id" title="class">has_been_observed_capability</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hhbo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#observed_were_sent_or_initial"><span class="id" title="definition">observed_were_sent_or_initial</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#observed_were_sent_invariant"><span class="id" title="lemma">observed_were_sent_invariant</span></a>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> [<span class="id" title="var">_</span> [<span class="id" title="var">H</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">msg</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ex_intro"><span class="id" title="constructor">ex_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> | [<span class="id" title="var">k</span> [[<span class="id" title="var">mk</span> <span class="id" title="var">Hmk</span>] <span class="id" title="var">H0</span>]]]; [|<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;<span class="inlinecode"><span class="id" title="var">observed_were_sent_invariant</span></span>&nbsp;only&nbsp;says&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;some&nbsp;component&nbsp;sent&nbsp;the&nbsp;message.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To&nbsp;finish,&nbsp;use&nbsp;the&nbsp;property&nbsp;from&nbsp;<span class="inlinecode"><span class="id" title="var">message_send_invariant</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">message_sender</span></span>&nbsp;meaches&nbsp;the&nbsp;component&nbsp;ID.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <span class="id" title="var">msg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> &lt;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_state_project_preloaded"><span class="id" title="lemma">protocol_state_project_preloaded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_preloaded"><span class="id" title="lemma">message_send_invariant_preloaded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hresp</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hresp</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hresp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="clock_limit_invariant" class="idref" href="#clock_limit_invariant"><span class="id" title="definition">clock_limit_invariant</span></a> (<a id="s:210" class="idref" href="#s:210"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>): <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> <a id="v:211" class="idref" href="#v:211"><span class="id" title="binder">v</span></a> <a id="t:212" class="idref" href="#t:212"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:212"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:211"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:211"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:212"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="i:213" class="idref" href="#i:213"><span class="id" title="binder">i</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:213"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:212"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="clock_limit_invariant_init" class="idref" href="#clock_limit_invariant_init"><span class="id" title="lemma">clock_limit_invariant_init</span></a> (<a id="s:214" class="idref" href="#s:214"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#vinitial_state_prop"><span class="id" title="definition">vinitial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:214"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#clock_limit_invariant"><span class="id" title="definition">clock_limit_invariant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:214"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinit</span> <span class="id" title="keyword">as</span> [-&gt; <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="clock_limit_invariant_step" class="idref" href="#clock_limit_invariant_step"><span class="id" title="lemma">clock_limit_invariant_step</span></a> <a id="l:215" class="idref" href="#l:215"><span class="id" title="binder">l</span></a> <a id="s:216" class="idref" href="#s:216"><span class="id" title="binder">s</span></a> <a id="im:217" class="idref" href="#im:217"><span class="id" title="binder">im</span></a> <a id="s':218" class="idref" href="#s':218"><span class="id" title="binder">s'</span></a> <a id="om:219" class="idref" href="#om:219"><span class="id" title="binder">om</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:215"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:216"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:217"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':218"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:219"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#clock_limit_invariant"><span class="id" title="definition">clock_limit_invariant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#clock_limit_invariant"><span class="id" title="definition">clock_limit_invariant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':218"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hptrans</span> <span class="id" title="var">IH</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">Hplan</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">Hplan</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.le_lt_trans"><span class="id" title="lemma">PeanoNat.Nat.le_lt_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">v</span>));[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_transition_project_any"><span class="id" title="lemma">protocol_transition_project_any</span></a> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hptrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptrans</span> <span class="id" title="keyword">as</span> [?|[<span class="id" title="var">lj</span> [-&gt; ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htrans</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_clock_monotone"><span class="id" title="lemma">validator_clock_monotone</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="i:222" class="idref" href="#i:222"><span class="id" title="binder">i</span></a> <a id="msg:223" class="idref" href="#msg:223"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:221"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:220"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:220"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#msg:221"><span class="id" title="variable">msg</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hunknown</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptrans</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hproto</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hslot</span> <span class="id" title="var">Hobserved</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#received_were_sent_invariant"><span class="id" title="lemma">received_were_sent_invariant</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">i</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hobserved</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <span class="id" title="var">msg</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">v</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hslot</span> |- *;<span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_state_project_preloaded"><span class="id" title="lemma">protocol_state_project_preloaded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_preloaded"><span class="id" title="lemma">message_send_invariant_preloaded</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproto</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsend_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsend_inv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsend_inv</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsend_inv</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hsent</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsend_inv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hsend_early</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hlt2</span> <span class="id" title="var">Hsend_early</span> <span class="id" title="var">Hslot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_time"><span class="id" title="projection">message_time</span></a> <span class="id" title="var">msg</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsend_early</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hslot</span> |- *; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hslot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">v</span>);<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlt2</span>, <span class="id" title="var">Hsend_early</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">finished_send</span>;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">Hlt2</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_transition_project_any"><span class="id" title="lemma">protocol_transition_project_any</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hptrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptrans</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">li</span> [-&gt; <span class="id" title="var">Hptrans</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hptrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptrans</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htrans</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunknown</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">si</span> := <span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> *;<span class="id" title="var">clearbody</span> <span class="id" title="var">si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">si'</span> := <span class="id" title="var">s'</span> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> *;<span class="id" title="var">clearbody</span> <span class="id" title="var">si'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">Hlt2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">li</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">c</span>|]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;protosal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <span class="id" title="var">si'</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <span class="id" title="var">si</span>);[<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;tick&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunknown</span>, <span class="id" title="var">IH</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<span class="id" title="var">time</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.le_lteq"><span class="id" title="definition">PeanoNat.Nat.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [| -&gt;];[<span class="id" title="tactic">assumption</span>|<span class="id" title="var">exfalso</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hhave_plan</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hhave_plan</span> <span class="id" title="var">v</span> <span class="id" title="var">Hplan</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhave_plan</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhave_plan</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> [<span class="id" title="var">Hslot</span> <span class="id" title="var">HIn</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Hunknown</span> <span class="id" title="var">m</span> <span class="id" title="var">Hslot</span> <span class="id" title="var">HIn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <span class="id" title="var">si'</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <span class="id" title="var">si</span>);[<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="early_validator_limits_clock_advance" class="idref" href="#early_validator_limits_clock_advance"><span class="id" title="lemma">early_validator_limits_clock_advance</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="v:224" class="idref" href="#v:224"><span class="id" title="binder">v</span></a> <a id="t:225" class="idref" href="#t:225"><span class="id" title="binder">t</span></a> (<a id="H_plan:226" class="idref" href="#H_plan:226"><span class="id" title="binder">H_plan</span></a> : <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:225"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:224"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:227" class="idref" href="#s:227"><span class="id" title="binder">s</span></a>:<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:227"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:227"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:224"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:225"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="i:228" class="idref" href="#i:228"><span class="id" title="binder">i</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:227"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:228"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:225"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">H_time</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">H_plan</span> <span class="id" title="var">H_time</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#clock_limit_invariant"><span class="id" title="definition">clock_limit_invariant</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_has_trace"><span class="id" title="lemma">protocol_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [[<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>] <span class="id" title="var">Hlast</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlast</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#clock_limit_invariant_init"><span class="id" title="lemma">clock_limit_invariant_init</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#unroll_last"><span class="id" title="lemma">ListExtras.unroll_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#clock_limit_invariant_step"><span class="id" title="lemma">clock_limit_invariant_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sending_decreases_validator_variant" class="idref" href="#sending_decreases_validator_variant"><span class="id" title="lemma">sending_decreases_validator_variant</span></a> <a id="t:229" class="idref" href="#t:229"><span class="id" title="binder">t</span></a> <a id="i:230" class="idref" href="#i:230"><span class="id" title="binder">i</span></a> <a id="c:231" class="idref" href="#c:231"><span class="id" title="binder">c</span></a> (<a id="si:232" class="idref" href="#si:232"><span class="id" title="binder">si</span></a> <a id="si':233" class="idref" href="#si':233"><span class="id" title="binder">si'</span></a>:<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:230"><span class="id" title="variable">i</span></a>)) <a id="im:234" class="idref" href="#im:234"><span class="id" title="binder">im</span></a> <a id="om:235" class="idref" href="#om:235"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_protocol:236" class="idref" href="#H_protocol:236"><span class="id" title="binder">H_protocol</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:230"><span class="id" title="variable">i</span></a>)) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si:232"><span class="id" title="variable">si</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_valid:237" class="idref" href="#H_valid:237"><span class="id" title="binder">H_valid</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_valid"><span class="id" title="definition">validator_valid</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.estimator"><span class="id" title="variable">estimator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:230"><span class="id" title="variable">i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Proposal"><span class="id" title="constructor">Proposal</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#c:231"><span class="id" title="variable">c</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si:232"><span class="id" title="variable">si</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:234"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_time:238" class="idref" href="#H_time:238"><span class="id" title="binder">H_time</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si:232"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:229"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_know_own_sends:240" class="idref" href="#H_know_own_sends:240"><span class="id" title="binder">H_know_own_sends</span></a>: <span class="id" title="keyword">forall</span> <a id="m:239" class="idref" href="#m:239"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:239"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:230"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_observed"><span class="id" title="definition">validator_has_been_observed</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si:232"><span class="id" title="variable">si</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:239"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_has_been_sent"><span class="id" title="definition">validator_has_been_sent</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.c0"><span class="id" title="variable">c0</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.estimator"><span class="id" title="variable">estimator</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:230"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si:232"><span class="id" title="variable">si</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#m:239"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_transition:241" class="idref" href="#H_transition:241"><span class="id" title="binder">H_transition</span></a>: <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_transition"><span class="id" title="definition">validator_transition</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:230"><span class="id" title="variable">i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Proposal"><span class="id" title="constructor">Proposal</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#c:231"><span class="id" title="variable">c</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si:232"><span class="id" title="variable">si</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:234"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si':233"><span class="id" title="variable">si'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:235"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:229"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si':233"><span class="id" title="variable">si'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:229"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#si:232"><span class="id" title="variable">si</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">si</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[<span class="id" title="tactic">solve</span>[<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">exact</span> <span class="id" title="var">H_valid</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">finished_send</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#not_true_is_false"><span class="id" title="lemma">Bool.not_true_is_false</span></a>;<span class="id" title="tactic">intro</span>;<span class="id" title="tactic">subst</span> <span class="id" title="var">finished_send</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_valid</span>;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">finished_send</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.plan"><span class="id" title="variable">plan</span></a> <span class="id" title="var">time</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H_plan</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H_valid</span>;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_ticks_before"><span class="id" title="definition">validator_ticks_before</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Plus.html#plus_lt_compat_r"><span class="id" title="lemma">Plus.plus_lt_compat_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unreceived_message_count_before"><span class="id" title="definition">unreceived_message_count_before</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">time</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <span class="id" title="var">received</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">H_msg_new</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;by&nbsp;known_own_sends,&nbsp;we&nbsp;already&nbsp;sent&nbsp;it&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> <span class="id" title="var">si</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">time</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H_unsent_time</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_si</span>;<span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_preloaded"><span class="id" title="lemma">message_send_invariant_preloaded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_protocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_protocol</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H_inv</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_respect_plan"><span class="id" title="definition">sends_respect_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_in</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">old_msg</span> [<span class="id" title="var">H_old_slot</span> <span class="id" title="var">H_in</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">old_msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H_old_slot</span>;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_old_slot</span>;<span class="id" title="tactic">intros</span> -&gt; -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_know_own_sends</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_in</span>;[|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_irrefl"><span class="id" title="lemma">PeanoNat.Nat.lt_irrefl</span></a> <span class="id" title="var">time</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="var">validator_received</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#len_set_diff_map_set_add"><span class="id" title="lemma">len_set_diff_map_set_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#In_message_slots_before"><span class="id" title="lemma">In_message_slots_before</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If all validator clock are below the time used in the
      variant, the the variant decreases.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eventually_ticks_variant_progress" class="idref" href="#eventually_ticks_variant_progress"><span class="id" title="lemma">eventually_ticks_variant_progress</span></a> <a id="t:242" class="idref" href="#t:242"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="l:243" class="idref" href="#l:243"><span class="id" title="binder">l</span></a> (<a id="s:244" class="idref" href="#s:244"><span class="id" title="binder">s</span></a>:<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>) <a id="im:245" class="idref" href="#im:245"><span class="id" title="binder">im</span></a> <a id="s':246" class="idref" href="#s':246"><span class="id" title="binder">s'</span></a> <a id="om:247" class="idref" href="#om:247"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H_times:249" class="idref" href="#H_times:249"><span class="id" title="binder">H_times</span></a> : <span class="id" title="keyword">forall</span> <a id="i:248" class="idref" href="#i:248"><span class="id" title="binder">i</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:244"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:248"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:242"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#l:243"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:244"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#im:245"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':246"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#om:247"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:242"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s':246"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#t:242"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:244"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Htrans</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#received_were_sent"><span class="id" title="definition">received_were_sent</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H_received_were_sent</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#received_were_sent_invariant"><span class="id" title="lemma">received_were_sent_invariant</span></a>, <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">om</span> <span class="id" title="var">into</span> <span class="id" title="var">_om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">im</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">li</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">c</span>|]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;When&nbsp;sending&nbsp;a&nbsp;message,&nbsp;the&nbsp;sender&nbsp;recording&nbsp;their<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;own&nbsp;message&nbsp;decreases&nbsp;the&nbsp;number&nbsp;of&nbsp;unreceived&nbsp;slots<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;their&nbsp;own&nbsp;variant&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#state_update_variant_progress"><span class="id" title="lemma">state_update_variant_progress</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sending_decreases_validator_variant"><span class="id" title="lemma">sending_decreases_validator_variant</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">c</span> <span class="id" title="var">im</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_state_project_preloaded"><span class="id" title="lemma">protocol_state_project_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H_times</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> -<span class="id" title="var">H_received_were_sent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H_received_were_sent</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hobs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;A&nbsp;node&nbsp;ticking&nbsp;decreases&nbsp;the&nbsp;clock-based&nbsp;apart<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;variant&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#state_update_variant_progress"><span class="id" title="lemma">state_update_variant_progress</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H_times</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>, <span class="id" title="var">H_times</span>, <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_ticks_before"><span class="id" title="definition">validator_ticks_before</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Plus.html#plus_lt_compat_l"><span class="id" title="lemma">Plus.plus_lt_compat_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Receiving&nbsp;a&nbsp;message&nbsp;fills&nbsp;one&nbsp;of&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;receivers&nbsp;slots&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#state_update_variant_progress"><span class="id" title="lemma">state_update_variant_progress</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;message&nbsp;cannot&nbsp;be&nbsp;None&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">im</span>;[|<span class="id" title="tactic">solve</span>[<span class="id" title="var">exfalso</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H_transition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_variant"><span class="id" title="definition">validator_variant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Plus.html#plus_lt_compat_r"><span class="id" title="lemma">Plus.plus_lt_compat_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">into</span> <span class="id" title="var">Hcomposite_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">Hcomposite_valid</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hproto</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hvalidator_valid</span> [[[<span class="id" title="var">ix</span> <span class="id" title="var">Hsent</span>]| [<span class="id" title="var">k</span> [[<span class="id" title="var">mk</span> <span class="id" title="var">Hmk</span>] <span class="id" title="var">_</span>]]] <span class="id" title="var">_</span>]]]]<br/>
        ; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hmk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalidator_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;validity&nbsp;condition&nbsp;ensures&nbsp;that&nbsp;the&nbsp;exact<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;has&nbsp;not&nbsp;been&nbsp;received&nbsp;before,&nbsp;but&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show&nbsp;there&nbsp;is&nbsp;also&nbsp;no&nbsp;previously-received&nbsp;message<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;that&nbsp;slot&nbsp;we&nbsp;need&nbsp;to&nbsp;use&nbsp;the&nbsp;invariants&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#protocol_state_project_preloaded"><span class="id" title="lemma">protocol_state_project_preloaded</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">ix</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hproto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">Hproto</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hinvariants</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_send_invariant_preloaded"><span class="id" title="lemma">message_send_invariant_preloaded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariants</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ix</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvariants</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsend</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsend</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <span class="id" title="var">v</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_slot"><span class="id" title="definition">message_slot</span></a> <span class="id" title="var">received</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_in</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v2</span> [<span class="id" title="var">Hslots</span> <span class="id" title="var">Hin2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">v2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;because&nbsp;by&nbsp;the&nbsp;validity&nbsp;condition,&nbsp;new&nbsp;message&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cannot&nbsp;have&nbsp;already&nbsp;been&nbsp;received,&nbsp;but&nbsp;<span class="inlinecode"><span class="id" title="var">Hin2</span>:</span> <span class="inlinecode"><span class="id" title="var">In</span></span> <span class="inlinecode"><span class="id" title="var">v2</span></span> <span class="inlinecode"><span class="id" title="var">received</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalidator_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_si</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalidator_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalidator_valid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H_not_in</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#IM"><span class="id" title="definition">IM</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <span class="id" title="var">v2</span>)) (<span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <span class="id" title="var">v2</span>)) <span class="id" title="var">v2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_received_were_sent</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#message_sender"><span class="id" title="projection">message_sender</span></a> <span class="id" title="var">v2</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">ix</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>,<span class="id" title="var">v2</span>;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsender</span>, <span class="id" title="var">Hslots</span> |- *;<span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvariants</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hunique</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#sends_unique"><span class="id" title="definition">sends_unique</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunique</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsent</span> <span class="id" title="var">v2</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hslots</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hneq</span>, <span class="id" title="var">Hunique</span>, <span class="id" title="var">Hslots</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#len_set_diff_map_set_add"><span class="id" title="lemma">len_set_diff_map_set_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hinvariants</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsent</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hplan</span> [-&gt; <span class="id" title="var">Htime_ix</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#In_message_slots_before"><span class="id" title="lemma">In_message_slots_before</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_le_trans"><span class="id" title="lemma">PeanoNat.Nat.lt_le_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#unsent_time"><span class="id" title="definition">unsent_time</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">ix</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Htime_ix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H_times</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H_times</span> <span class="id" title="var">ix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H_times</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">ix</span>);<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">finished_send</span>;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="eventually_ticks" class="idref" href="#eventually_ticks"><span class="id" title="lemma">eventually_ticks</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="s:250" class="idref" href="#s:250"><span class="id" title="binder">s</span></a> (<a id="Hproto:251" class="idref" href="#Hproto:251"><span class="id" title="binder">Hproto</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:250"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="tr:252" class="idref" href="#tr:252"><span class="id" title="binder">tr</span></a> (<a id="Htr:253" class="idref" href="#Htr:253"><span class="id" title="binder">Htr</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#infinite_protocol_trace_from"><span class="id" title="inductive">infinite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:250"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#tr:252"><span class="id" title="variable">tr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:254" class="idref" href="#v:254"><span class="id" title="binder">v</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:255" class="idref" href="#n:255"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:250"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:254"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.Streams.html#Str_nth"><span class="id" title="definition">Streams.Str_nth</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:255"><span class="id" title="variable">n</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#tr:252"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#v:254"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;First,&nbsp;find&nbsp;a&nbsp;time&nbsp;greater&nbsp;than&nbsp;v's&nbsp;current&nbsp;clock&nbsp;for&nbsp;which&nbsp;it&nbsp;is&nbsp;in&nbsp;the&nbsp;plan&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.html#recurring_sends"><span class="id" title="projection">recurring_sends</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.HPlan"><span class="id" title="variable">HPlan</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">v</span>)) <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> [<span class="id" title="var">Hlt</span> <span class="id" title="var">Hplan</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Then&nbsp;strengthen&nbsp;the&nbsp;goal&nbsp;to&nbsp;finding&nbsp;a&nbsp;step&nbsp;where&nbsp;&lt;&lt;v&gt;&gt;'s&nbsp;clock&nbsp;is&nbsp;at&nbsp;least<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;t&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:257" class="idref" href="#n:257"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.Streams.html#Str_nth"><span class="id" title="definition">Streams.Str_nth</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:256"><span class="id" title="variable">n</span></a> <span class="id" title="var">tr</span>) <span class="id" title="var">v</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span> [<span class="id" title="var">n</span> <span class="id" title="var">Hn</span>];<span class="id" title="tactic">exists</span> <span class="id" title="var">n</span>;<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Use&nbsp;<span class="inlinecode"><span class="id" title="var">early_validator_limits_clock_advance</span></span>&nbsp;to&nbsp;reduce&nbsp;that&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;finding&nbsp;a&nbsp;time&nbsp;where&nbsp;any&nbsp;validators&nbsp;clock&nbsp;is&nbsp;greater&nbsp;than&nbsp;&lt;&lt;t&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="n:259" class="idref" href="#n:259"><span class="id" title="binder">n</span></a>, <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.Streams.html#Str_nth"><span class="id" title="definition">Streams.Str_nth</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:258"><span class="id" title="variable">n</span></a> <span class="id" title="var">tr</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hall_proto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition_destination"><span class="id" title="lemma">protocol_transition_destination</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">s</span> <span class="id" title="var">tl</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#early_validator_limits_clock_advance"><span class="id" title="lemma">early_validator_limits_clock_advance</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hplan</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">clocks_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:262" class="idref" href="#n:262"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><span class="id" title="keyword">forall</span> <a id="i:263" class="idref" href="#i:263"><span class="id" title="binder">i</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.Streams.html#Str_nth"><span class="id" title="definition">Streams.Str_nth</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#n:260"><span class="id" title="variable">n</span></a> <span class="id" title="var">tr</span>) <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:261"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">n</span> <span class="id" title="var">Htimes</span>];<span class="id" title="tactic">exists</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.PeanoNat.html#Nat.nlt_ge"><span class="id" title="lemma">PeanoNat.Nat.nlt_ge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Htimes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">clocks_inv</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hall_proto</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;happens&nbsp;within&nbsp;&lt;&lt;validator_variant&nbsp;(S&nbsp;t)&nbsp;s&gt;&gt;&nbsp;steps,&nbsp;by&nbsp;well-foudned<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;induction&nbsp;on&nbsp;the&nbsp;remaining&nbsp;value&nbsp;of&nbsp;the&nbsp;variant.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;First&nbsp;sharpen&nbsp;the&nbsp;claim&nbsp;to&nbsp;existing&nbsp;in&nbsp;a&nbsp;given&nbsp;prefix&nbsp;of&nbsp;the&nbsp;stream.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> (<a id="s:266" class="idref" href="#s:266"><span class="id" title="binder">s</span></a>:<a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.X"><span class="id" title="variable">X</span></a>) =&gt; <span class="id" title="keyword">forall</span> <a id="i:267" class="idref" href="#i:267"><span class="id" title="binder">i</span></a>, <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#validator_time"><span class="id" title="definition">validator_time</span></a> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:264"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#i:265"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="item:269" class="idref" href="#item:269"><span class="id" title="binder">item</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><span class="id" title="var">P</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#item:268"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix"><span class="id" title="definition">StreamExtras.stream_prefix</span></a> <span class="id" title="var">tr</span> <span class="id" title="var">len</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">HP</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix_in"><span class="id" title="lemma">StreamExtras.stream_prefix_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hnth</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now&nbsp;we&nbsp;set&nbsp;up&nbsp;for&nbsp;the&nbsp;induction.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">P</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#le_n_S"><span class="id" title="lemma">le_n_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">clocks_inv</span>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="s:271" class="idref" href="#s:271"><span class="id" title="binder">s</span></a>, <a class="idref" href="CasperCBC.Lib.Classes.html#Decision"><span class="id" title="class">Decision</span></a> (<span class="id" title="var">P</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#s:270"><span class="id" title="variable">s</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">P_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#forall_finite"><span class="id" title="lemma">ListExtras.forall_finite</span></a>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs.validators_finite"><span class="id" title="variable">validators_finite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Forall_dec"><span class="id" title="lemma">Forall_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Compare_dec.html#lt_dec"><span class="id" title="lemma">Compare_dec.lt_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hall_proto</span> <span class="id" title="var">clocks_inv</span> <span class="id" title="var">Hproto</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Heqlen</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Hstart</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">P_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.Wf_nat.html#lt_wf_ind"><span class="id" title="lemma">Wf_nat.lt_wf_ind</span></a> <span class="id" title="var">len</span>);<span class="id" title="tactic">clear</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">len</span> <span class="id" title="var">IH</span> <span class="id" title="var">s</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant_progress"><span class="id" title="lemma">eventually_ticks_variant_progress</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HP</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">tl</span> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">s</span>));<span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">len</span>;[<span class="id" title="var">exfalso</span>;<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_cons_hd"><span class="id" title="constructor">Exists_cons_hd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#eventually_ticks_variant"><span class="id" title="definition">eventually_ticks_variant</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">len'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">len</span>;[<span class="id" title="var">exfalso</span>;<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#le_S_n"><span class="id" title="lemma">le_S_n</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_cons_tl"><span class="id" title="constructor">Exists_cons_tl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="CasperCBC.Lib.StreamExtras.html#stream_prefix_segment"><span class="id" title="lemma">StreamExtras.stream_prefix_segment</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Hprefix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hprefix</span> <span class="id" title="var">_</span> <span class="id" title="var">tl</span> <span class="id" title="var">len'</span> <span class="id" title="var">len</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprefix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hprefix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_app"><span class="id" title="lemma">Exists_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.Liveness.SimpleFragileProtocol.html#Protocol_Proofs"><span class="id" title="section">Protocol_Proofs</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
