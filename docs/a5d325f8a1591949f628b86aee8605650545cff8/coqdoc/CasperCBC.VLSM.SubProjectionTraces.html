<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write("<a href='" + document.title + ".svg'>" + document.title + "</a>")</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Nat.html#"><span class="id" title="library">Nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">Logic.FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">Coq.Logic.FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.Eqdep.html#"><span class="id" title="library">Coq.Logic.Eqdep</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a> <a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#"><span class="id" title="library">VLSM.Common</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#"><span class="id" title="library">VLSM.Composition</span></a> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#"><span class="id" title="library">VLSM.Equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition" class="idref" href="#sub_composition"><span class="id" title="section">sub_composition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:2" class="idref" href="#index:2"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:3" class="idref" href="#IndEqDec:3"><span class="id" title="binder">IndEqDec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:4" class="idref" href="#IM:4"><span class="id" title="binder">IM</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index_list:5" class="idref" href="#sub_index_list:5"><span class="id" title="binder">sub_index_list</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hi0_sub:6" class="idref" href="#Hi0_sub:6"><span class="id" title="binder">Hi0_sub</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_list:5"><span class="id" title="variable">sub_index_list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index_prop" class="idref" href="#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a id="i:7" class="idref" href="#i:7"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:7"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a id="sub_index_prop_dec" class="idref" href="#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a><br/>
&nbsp;&nbsp;(<a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.Lib.Classes.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:8"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index" class="idref" href="#sub_index"><span class="id" title="definition">sub_index</span></a> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.Lib.Classes.html#dec_sig"><span class="id" title="definition">dec_sig</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a id="sub_index_i0" class="idref" href="#sub_index_i0"><span class="id" title="instance">sub_index_i0</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#destruct_list"><span class="id" title="lemma">destruct_list</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span> [<span class="id" title="var">tl</span> <span class="id" title="var">Heq</span>]]| <span class="id" title="var">n</span>]<br/>
&nbsp;&nbsp;; [|<span class="id" title="tactic">elim</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.Hi0_sub"><span class="id" title="variable">Hi0_sub</span></a>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_index_list</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a id="sub_index_eq_dec" class="idref" href="#sub_index_eq_dec"><span class="id" title="instance">sub_index_eq_dec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#dec_sig_eq_dec"><span class="id" title="lemma">dec_sig_eq_dec</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_IM" class="idref" href="#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;(<a id="ei:9" class="idref" href="#ei:9"><span class="id" title="binder">ei</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#ei:9"><span class="id" title="variable">ei</span></a>).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sub_IM_state_update_eq" class="idref" href="#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a><br/>
&nbsp;&nbsp;(<a id="i:10" class="idref" href="#i:10"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:11" class="idref" href="#s:11"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="si:12" class="idref" href="#si:12"><span class="id" title="binder">si</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:10"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="e1:13" class="idref" href="#e1:13"><span class="id" title="binder">e1</span></a> <a id="e2:14" class="idref" href="#e2:14"><span class="id" title="binder">e2</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:10"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:11"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e1:13"><span class="id" title="variable">e1</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#si:12"><span class="id" title="variable">si</span></a> (<a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e2:14"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#si:12"><span class="id" title="variable">si</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <a id="be1:17" class="idref" href="#be1:17"><span class="id" title="binder">be1</span></a> <a id="be2:18" class="idref" href="#be2:18"><span class="id" title="binder">be2</span></a>, <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#be1:15"><span class="id" title="variable">be1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#be2:16"><span class="id" title="variable">be2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#be1:15"><span class="id" title="variable">be1</span></a>) <span class="id" title="var">si</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#be2:16"><span class="id" title="variable">be2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">si</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true_proof_irrelevance"><span class="id" title="lemma">bool_decide_eq_true_proof_irrelevance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_vlsm_composition" class="idref" href="#free_sub_vlsm_composition"><span class="id" title="definition">free_sub_vlsm_composition</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="seeded_free_sub_composition" class="idref" href="#seeded_free_sub_composition"><span class="id" title="definition">seeded_free_sub_composition</span></a><br/>
&nbsp;&nbsp;(<a id="messageSet:19" class="idref" href="#messageSet:19"><span class="id" title="binder">messageSet</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#free_sub_vlsm_composition"><span class="id" title="definition">free_sub_vlsm_composition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="m:20" class="idref" href="#m:20"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#messageSet:19"><span class="id" title="variable">messageSet</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#m:20"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#m:20"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <a id="i0" class="idref" href="#i0"><span class="id" title="lemma">i0</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#exists_last"><span class="id" title="lemma">exists_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi0_sub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.Hi0_sub"><span class="id" title="variable">Hi0_sub</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span>, (<span class="id" title="var">a</span>, <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">i0</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_state_sub_projection" class="idref" href="#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:21" class="idref" href="#s:21"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="subi:22" class="idref" href="#subi:22"><span class="id" title="binder">subi</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#subi:22"><span class="id" title="variable">subi</span></a>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:21"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#subi:22"><span class="id" title="variable">subi</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_initial_state_sub_projection" class="idref" href="#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:23" class="idref" href="#s:23"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:24" class="idref" href="#Hs:24"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:23"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:23"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>, <span class="id" title="var">Hi</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_transition_item_sub_projection" class="idref" href="#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="item:25" class="idref" href="#item:25"><span class="id" title="binder">item</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:26" class="idref" href="#i:26"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:25"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;(<a id="e:27" class="idref" href="#e:27"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:26"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:28" class="idref" href="#j:28"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> := <a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:26"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e:27"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.Common.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#j:28"><span class="id" title="variable">j</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:25"><span class="id" title="variable">item</span></a>))) (<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:25"><span class="id" title="variable">item</span></a>) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:25"><span class="id" title="variable">item</span></a>)) (<a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:25"><span class="id" title="variable">item</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_state_transition_item_sub_projection" class="idref" href="#composite_state_transition_item_sub_projection"><span class="id" title="lemma">composite_state_transition_item_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="item:29" class="idref" href="#item:29"><span class="id" title="binder">item</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:30" class="idref" href="#i:30"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:29"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;(<a id="e:31" class="idref" href="#e:31"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:30"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:32" class="idref" href="#j:32"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> := <a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:30"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e:31"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:29"><span class="id" title="variable">item</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:29"><span class="id" title="variable">item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e:31"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_transition_item_sub_projection_proof_irrelevance" class="idref" href="#composite_transition_item_sub_projection_proof_irrelevance"><span class="id" title="definition">composite_transition_item_sub_projection_proof_irrelevance</span></a><br/>
&nbsp;&nbsp;(<a id="item:33" class="idref" href="#item:33"><span class="id" title="binder">item</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:34" class="idref" href="#i:34"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:33"><span class="id" title="variable">item</span></a>))<br/>
&nbsp;&nbsp;(<a id="e1:35" class="idref" href="#e1:35"><span class="id" title="binder">e1</span></a> <a id="e2:36" class="idref" href="#e2:36"><span class="id" title="binder">e2</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:34"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:33"><span class="id" title="variable">item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e1:35"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:33"><span class="id" title="variable">item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e2:36"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">i</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.Lib.Classes.html#dec_sig_sigT_eq"><span class="id" title="lemma">dec_sig_sigT_eq</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<span class="id" title="keyword">fun</span> <a id="i:38" class="idref" href="#i:38"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:37"><span class="id" title="variable">i</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="from_sub_projection" class="idref" href="#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#a:39"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="finite_trace_sub_projection" class="idref" href="#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="trx:40" class="idref" href="#trx:40"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:40"><span class="id" title="variable">trx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">trx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tail:43" class="idref" href="#tail:43"><span class="id" title="binder">tail</span></a> := <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection:41"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:40"><span class="id" title="variable">trx</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">item</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <span class="id" title="var">item</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tail:43"><span class="id" title="variable">tail</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tail:43"><span class="id" title="variable">tail</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_trace_sub_projection_alt" class="idref" href="#finite_trace_sub_projection_alt"><span class="id" title="definition">finite_trace_sub_projection_alt</span></a><br/>
&nbsp;&nbsp;(<a id="trx:44" class="idref" href="#trx:44"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="ftrx:46" class="idref" href="#ftrx:46"><span class="id" title="binder">ftrx</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#a:45"><span class="id" title="variable">a</span></a>)) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:44"><span class="id" title="variable">trx</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hall:47" class="idref" href="#Hall:47"><span class="id" title="binder">Hall</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#ftrx:46"><span class="id" title="variable">ftrx</span></a> := <a class="idref" href="CasperCBC.Lib.ListExtras.html#filter_Forall"><span class="id" title="definition">filter_Forall</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:44"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="item:49" class="idref" href="#item:49"><span class="id" title="binder">item</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="a:48" class="idref" href="#a:48"><span class="id" title="binder">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#a:48"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="item:50" class="idref" href="#item:50"><span class="id" title="binder">item</span></a>, <a id="e:51" class="idref" href="#e:51"><span class="id" title="binder">e</span></a>) := <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:49"><span class="id" title="variable">item</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:50"><span class="id" title="variable">item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#e:51"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.ListExtras.html#list_annotate"><span class="id" title="definition">list_annotate</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#ftrx:46"><span class="id" title="variable">ftrx</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Hall:47"><span class="id" title="variable">Hall</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_alt_iff" class="idref" href="#finite_trace_sub_projection_alt_iff"><span class="id" title="lemma">finite_trace_sub_projection_alt_iff</span></a><br/>
&nbsp;&nbsp;(<a id="trx:52" class="idref" href="#trx:52"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_alt"><span class="id" title="definition">finite_trace_sub_projection_alt</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:52"><span class="id" title="variable">trx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:52"><span class="id" title="variable">trx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_alt"><span class="id" title="definition">finite_trace_sub_projection_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="CasperCBC.Lib.ListExtras.html#list_annotate"><span class="id" title="definition">list_annotate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">H</span>] =&gt; <span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hall</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">trx</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">a</span>))) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#list_annotate_unroll"><span class="id" title="lemma">list_annotate_unroll</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection_proof_irrelevance"><span class="id" title="definition">composite_transition_item_sub_projection_proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtrx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtrx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition.sub_projection_with_no_equivocation_constraints" class="idref" href="#sub_composition.sub_projection_with_no_equivocation_constraints"><span class="id" title="section">sub_projection_with_no_equivocation_constraints</span></a>.<br/>

<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span>  <span class="id" title="var">IndEqDec</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint:53" class="idref" href="#constraint:53"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="has_been_sent_capabilities:55" class="idref" href="#has_been_sent_capabilities:55"><span class="id" title="binder">has_been_sent_capabilities</span></a> : <span class="id" title="keyword">forall</span> <a id="i:54" class="idref" href="#i:54"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>, (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:54"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;{<a id="index_listing:56" class="idref" href="#index_listing:56"><span class="id" title="binder">index_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="finite_index:57" class="idref" href="#finite_index:57"><span class="id" title="binder">finite_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#index_listing:56"><span class="id" title="variable">index_listing</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:58" class="idref" href="#Free:58"><span class="id" title="binder">Free</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Sub_Free:59" class="idref" href="#Sub_Free:59"><span class="id" title="binder">Sub_Free</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="X_has_been_sent_capability:60" class="idref" href="#X_has_been_sent_capability:60"><span class="id" title="binder">X_has_been_sent_capability</span></a> : <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Free:58"><span class="id" title="variable">Free</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent_capability"><span class="id" title="instance">composite_has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_index:57"><span class="id" title="variable">finite_index</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#has_been_sent_capabilities:55"><span class="id" title="variable">has_been_sent_capabilities</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:61" class="idref" href="#X:61"><span class="id" title="binder">X</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#constraint:53"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="Pre:62" class="idref" href="#Pre:62"><span class="id" title="binder">Pre</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_has_been_sent_capabilities" class="idref" href="#sub_has_been_sent_capabilities"><span class="id" title="lemma">sub_has_been_sent_capabilities</span></a> : <span class="id" title="keyword">forall</span> <a id="i:63" class="idref" href="#i:63"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>, (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:63"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.has_been_sent_capabilities"><span class="id" title="variable">has_been_sent_capabilities</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="select_sub_indices" class="idref" href="#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a><br/>
&nbsp;&nbsp;(<a id="l:64" class="idref" href="#l:64"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:64"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':67" class="idref" href="#t':67"><span class="id" title="binder">t'</span></a> := <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#select_sub_indices:65"><span class="id" title="definition">select_sub_indices</span></a> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <span class="id" title="var">h</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#t':67"><span class="id" title="variable">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#t':67"><span class="id" title="variable">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index_listing" class="idref" href="#sub_index_listing"><span class="id" title="definition">sub_index_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> := <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.index_listing"><span class="id" title="variable">index_listing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_select_sub_indices" class="idref" href="#in_select_sub_indices"><span class="id" title="lemma">in_select_sub_indices</span></a><br/>
&nbsp;&nbsp;(<a id="a:68" class="idref" href="#a:68"><span class="id" title="binder">a</span></a>: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:69" class="idref" href="#s:69"><span class="id" title="binder">s</span></a>: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#a:68"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;(<a id="l:70" class="idref" href="#l:70"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#a:68"><span class="id" title="variable">a</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:69"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:70"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#a:68"><span class="id" title="variable">a</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:70"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <span class="id" title="var">a0</span>)); [|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">H</span>]; [<span class="id" title="tactic">left</span> |<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">assumption</span>| <span class="id" title="tactic">left</span> |<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#dec_sig_eq_iff"><span class="id" title="lemma">dec_sig_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#dec_sig_eq_iff"><span class="id" title="lemma">dec_sig_eq_iff</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">H</span>]; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_sub_index" class="idref" href="#finite_sub_index"><span class="id" title="lemma">finite_sub_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_listing"><span class="id" title="definition">sub_index_listing</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_listing"><span class="id" title="definition">sub_index_listing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">finite_index</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.finite_index"><span class="id" title="variable">finite_index</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnodup</span> <span class="id" title="var">Hfinite</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">Hfinite</span> <span class="id" title="var">finite_index</span>. <span class="id" title="tactic">induction</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.index_listing"><span class="id" title="variable">index_listing</span></a>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hnodup</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">spec</span> <span class="id" title="var">IHl</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <span class="id" title="var">a</span>)); [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#in_select_sub_indices"><span class="id" title="lemma">in_select_sub_indices</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">subi</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">subi</span>. <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">subi</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#in_select_sub_indices"><span class="id" title="lemma">in_select_sub_indices</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfinite</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a id="Sub_Free_has_been_sent_capability" class="idref" href="#Sub_Free_has_been_sent_capability"><span class="id" title="instance">Sub_Free_has_been_sent_capability</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_capability"><span class="id" title="class">has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_has_been_sent_capability"><span class="id" title="instance">composite_has_been_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_sub_index"><span class="id" title="lemma">finite_sub_index</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_has_been_sent_capabilities"><span class="id" title="lemma">sub_has_been_sent_capabilities</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_empty" class="idref" href="#finite_trace_sub_projection_empty"><span class="id" title="lemma">finite_trace_sub_projection_empty</span></a><br/>
&nbsp;&nbsp;(<a id="s:71" class="idref" href="#s:71"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="trx:72" class="idref" href="#trx:72"><span class="id" title="binder">trx</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:73" class="idref" href="#Htr:73"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:71"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:72"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hempty:74" class="idref" href="#Hempty:74"><span class="id" title="binder">Hempty</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:72"><span class="id" title="variable">trx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;(<a id="t:75" class="idref" href="#t:75"><span class="id" title="binder">t</span></a> : (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hin:76" class="idref" href="#Hin:76"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#t:75"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trx:72"><span class="id" title="variable">trx</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <a id="j:77" class="idref" href="#j:77"><span class="id" title="binder">j</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#j:77"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#t:75"><span class="id" title="variable">t</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#j:77"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:71"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#j:77"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">_om</span> <span class="id" title="var">Hs'</span>] [[<span class="id" title="var">_s</span> <span class="id" title="var">Hiom</span>] <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htransition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Hempty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> (?<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">item</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hempty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">item</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hempty</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">Hempty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqitem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hin</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hji</span> : <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtr</span>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_app" class="idref" href="#finite_trace_sub_projection_app"><span class="id" title="lemma">finite_trace_sub_projection_app</span></a><br/>
&nbsp;&nbsp;(<a id="tr1:78" class="idref" href="#tr1:78"><span class="id" title="binder">tr1</span></a> <a id="tr2:79" class="idref" href="#tr2:79"><span class="id" title="binder">tr2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr1:78"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr2:79"><span class="id" title="variable">tr2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr1:78"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr2:79"><span class="id" title="variable">tr2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tr1</span>;[<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> ?<span class="id" title="var">d</span>] =&gt; <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHtr1</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_list_in" class="idref" href="#finite_trace_sub_projection_list_in"><span class="id" title="lemma">finite_trace_sub_projection_list_in</span></a><br/>
&nbsp;&nbsp;(<a id="tr:80" class="idref" href="#tr:80"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="itemX:81" class="idref" href="#itemX:81"><span class="id" title="binder">itemX</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="HitemX:82" class="idref" href="#HitemX:82"><span class="id" title="binder">HitemX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemX:81"><span class="id" title="variable">itemX</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:80"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:83" class="idref" href="#j:83"><span class="id" title="binder">j</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemX:81"><span class="id" title="variable">itemX</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hj:84" class="idref" href="#Hj:84"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#j:83"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemX:81"><span class="id" title="variable">itemX</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Hj:84"><span class="id" title="variable">Hj</span></a>) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:80"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HitemX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">suf</span> <span class="id" title="var">HitemX</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">itemX</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">suf</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">itemX</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="lemma">finite_trace_sub_projection_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">itemX</span>)); [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection_proof_irrelevance"><span class="id" title="definition">composite_transition_item_sub_projection_proof_irrelevance</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_list_in_rev" class="idref" href="#finite_trace_sub_projection_list_in_rev"><span class="id" title="lemma">finite_trace_sub_projection_list_in_rev</span></a><br/>
&nbsp;&nbsp;(<a id="tr:85" class="idref" href="#tr:85"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="j:86" class="idref" href="#j:86"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="itemj:87" class="idref" href="#itemj:87"><span class="id" title="binder">itemj</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hitemj:88" class="idref" href="#Hitemj:88"><span class="id" title="binder">Hitemj</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemj:87"><span class="id" title="variable">itemj</span></a>  (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:85"><span class="id" title="variable">tr</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="itemX:89" class="idref" href="#itemX:89"><span class="id" title="binder">itemX</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HitemX:90" class="idref" href="#HitemX:90"><span class="id" title="binder">HitemX</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemX:89"><span class="id" title="variable">itemX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemX:89"><span class="id" title="variable">itemX</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:85"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemX:89"><span class="id" title="variable">itemX</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#HitemX:90"><span class="id" title="variable">HitemX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#itemj:87"><span class="id" title="variable">itemj</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_alt_iff"><span class="id" title="lemma">finite_trace_sub_projection_alt_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitemj</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">itemX</span>, <span class="id" title="var">HitemX</span>) [<span class="id" title="var">Heq</span> <span class="id" title="var">Hin</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemX</span>, <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#in_list_annotate_forget"><span class="id" title="lemma">in_list_annotate_forget</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_finite_trace_sub_projection_last_state" class="idref" href="#preloaded_finite_trace_sub_projection_last_state"><span class="id" title="lemma">preloaded_finite_trace_sub_projection_last_state</span></a><br/>
&nbsp;&nbsp;(<a id="start:91" class="idref" href="#start:91"><span class="id" title="binder">start</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="transitions:92" class="idref" href="#transitions:92"><span class="id" title="binder">transitions</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:93" class="idref" href="#Htr:93"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Pre"><span class="id" title="variable">Pre</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#start:91"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#transitions:92"><span class="id" title="variable">transitions</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstx:94" class="idref" href="#lstx:94"><span class="id" title="binder">lstx</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#transitions:92"><span class="id" title="variable">transitions</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#start:91"><span class="id" title="variable">start</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstj:95" class="idref" href="#lstj:95"><span class="id" title="binder">lstj</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#transitions:92"><span class="id" title="variable">transitions</span></a>)) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#start:91"><span class="id" title="variable">start</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#lstj:95"><span class="id" title="variable">lstj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#lstx:94"><span class="id" title="variable">lstx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">lstx</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">lstj</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">lstx</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">lstj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span>[<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> (?<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>)] =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">item</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#unroll_last"><span class="id" title="lemma">unroll_last</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">item</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_cons"><span class="id" title="lemma">map_cons</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#unroll_last"><span class="id" title="lemma">unroll_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">_om</span> <span class="id" title="var">Hs'</span>] [[<span class="id" title="var">_s</span> <span class="id" title="var">Hiom</span>] <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htransition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Htransition</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Htransition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHHtr</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep_good"><span class="id" title="definition">functional_extensionality_dep_good</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">j</span>, <span class="id" title="var">Hj</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true_1"><span class="id" title="lemma">bool_decide_eq_true_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="X_incl_Pre" class="idref" href="#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Pre"><span class="id" title="variable">Pre</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.constraint"><span class="id" title="variable">constraint</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_last_state" class="idref" href="#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a><br/>
&nbsp;&nbsp;(<a id="start:96" class="idref" href="#start:96"><span class="id" title="binder">start</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="transitions:97" class="idref" href="#transitions:97"><span class="id" title="binder">transitions</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:98" class="idref" href="#Htr:98"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#start:96"><span class="id" title="variable">start</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#transitions:97"><span class="id" title="variable">transitions</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstx:99" class="idref" href="#lstx:99"><span class="id" title="binder">lstx</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#transitions:97"><span class="id" title="variable">transitions</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#start:96"><span class="id" title="variable">start</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstj:100" class="idref" href="#lstj:100"><span class="id" title="binder">lstj</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#transitions:97"><span class="id" title="variable">transitions</span></a>)) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#start:96"><span class="id" title="variable">start</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#lstj:100"><span class="id" title="variable">lstj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#lstx:99"><span class="id" title="variable">lstx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#preloaded_finite_trace_sub_projection_last_state"><span class="id" title="lemma">preloaded_finite_trace_sub_projection_last_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_finite_protocol_trace_from"><span class="id" title="lemma">VLSM_incl_finite_protocol_trace_from</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a>); [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transition_sub_projection" class="idref" href="#transition_sub_projection"><span class="id" title="lemma">transition_sub_projection</span></a><br/>
&nbsp;&nbsp;<a id="l:101" class="idref" href="#l:101"><span class="id" title="binder">l</span></a> <a id="s:102" class="idref" href="#s:102"><span class="id" title="binder">s</span></a> <a id="om:103" class="idref" href="#om:103"><span class="id" title="binder">om</span></a> <a id="s':104" class="idref" href="#s':104"><span class="id" title="binder">s'</span></a> <a id="om':105" class="idref" href="#om':105"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:106" class="idref" href="#Ht:106"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:101"><span class="id" title="variable">l</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:102"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#om:103"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s':104"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#om':105"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:107" class="idref" href="#Hsub:107"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:101"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="keyword">fun</span> <a id="n:108" class="idref" href="#n:108"><span class="id" title="binder">n</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#n:108"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:101"><span class="id" title="variable">l</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Hsub:107"><span class="id" title="variable">Hsub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:101"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:102"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#om:103"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s':104"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#om':105"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">omi'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">omi'</span> <span class="id" title="var">s'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <span class="id" title="var">_</span>) := ?<span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">si'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">sub_j</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>! <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#dec_sig_eq_iff"><span class="id" title="lemma">dec_sig_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_sub_projection" class="idref" href="#valid_sub_projection"><span class="id" title="lemma">valid_sub_projection</span></a><br/>
&nbsp;&nbsp;<a id="l:109" class="idref" href="#l:109"><span class="id" title="binder">l</span></a> <a id="s:110" class="idref" href="#s:110"><span class="id" title="binder">s</span></a> <a id="om:111" class="idref" href="#om:111"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:112" class="idref" href="#Hv:112"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:109"><span class="id" title="variable">l</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:110"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#om:111"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:113" class="idref" href="#Hsub:113"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:109"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="keyword">fun</span> <a id="n:114" class="idref" href="#n:114"><span class="id" title="binder">n</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#n:114"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:109"><span class="id" title="variable">l</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Hsub:113"><span class="id" title="variable">Hsub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:109"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:110"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#om:111"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_state_sub_projection_lift" class="idref" href="#composite_state_sub_projection_lift"><span class="id" title="definition">composite_state_sub_projection_lift</span></a><br/>
&nbsp;&nbsp;(<a id="ss:115" class="idref" href="#ss:115"><span class="id" title="binder">ss</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:116" class="idref" href="#i:116"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:116"><span class="id" title="variable">i</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#ss:115"><span class="id" title="variable">ss</span></a> (<a class="idref" href="CasperCBC.Lib.Classes.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:116"><span class="id" title="variable">i</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_s0"><span class="id" title="definition">composite_s0</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:116"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_constraint" class="idref" href="#sub_constraint"><span class="id" title="definition">sub_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="l:117" class="idref" href="#l:117"><span class="id" title="binder">l</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:118" class="idref" href="#som:118"><span class="id" title="binder">som</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="i:119" class="idref" href="#i:119"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:117"><span class="id" title="variable">l</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="li:120" class="idref" href="#li:120"><span class="id" title="binder">li</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#l:117"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="lx:122" class="idref" href="#lx:122"><span class="id" title="binder">lx</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="keyword">fun</span> <a id="i:121" class="idref" href="#i:121"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:121"><span class="id" title="variable">i</span></a>)) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#li:120"><span class="id" title="variable">li</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="ss:123" class="idref" href="#ss:123"><span class="id" title="binder">ss</span></a>, <a id="om:124" class="idref" href="#om:124"><span class="id" title="binder">om</span></a>) := <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#som:118"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:125" class="idref" href="#s:125"><span class="id" title="binder">s</span></a> := <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="definition">composite_state_sub_projection_lift</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#ss:123"><span class="id" title="variable">ss</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.constraint"><span class="id" title="variable">constraint</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#lx:122"><span class="id" title="variable">lx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:125"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#om:124"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">X_has_been_sent_capability</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="seed:126" class="idref" href="#seed:126"><span class="id" title="binder">seed</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hno_equiv:127" class="idref" href="#Hno_equiv:127"><span class="id" title="binder">Hno_equiv</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#constraint_subsumption"><span class="id" title="definition">constraint_subsumption</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.constraint"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_equivocations"><span class="id" title="definition">no_equivocations</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Free"><span class="id" title="variable">Free</span></a>))<br/>
&nbsp;&nbsp;(<a id="seeded_constraint:128" class="idref" href="#seeded_constraint:128"><span class="id" title="binder">seeded_constraint</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Xj:129" class="idref" href="#Xj:129"><span class="id" title="binder">Xj</span></a> := <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_has_been_sent_capabilities"><span class="id" title="lemma">sub_has_been_sent_capabilities</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_sub_index"><span class="id" title="lemma">finite_sub_index</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#seed:126"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Xj_incl_Pre_Sub_Free" class="idref" href="#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">Xj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Composition.html#preloaded_constraint_subsumption_pre_loaded_with_all_messages_incl"><span class="id" title="lemma">preloaded_constraint_subsumption_pre_loaded_with_all_messages_incl</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Equivocation.html#no_equivocations_additional_constraint_with_pre_loaded"><span class="id" title="definition">no_equivocations_additional_constraint_with_pre_loaded</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_has_been_sent_capabilities"><span class="id" title="lemma">sub_has_been_sent_capabilities</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_sub_index"><span class="id" title="lemma">finite_sub_index</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">l</span> <span class="id" title="var">om</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> ?<span class="id" title="var">v</span> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hincl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> ?<span class="id" title="var">v</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <span class="id" title="var">v</span> (<span class="id" title="keyword">fun</span> <a id="m:131" class="idref" href="#m:131"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> ?<span class="id" title="var">v</span> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_vlsm_incl"><span class="id" title="lemma">pre_loaded_vlsm_incl</span></a> <span class="id" title="var">v</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a> (<span class="id" title="keyword">fun</span> <a id="m:133" class="idref" href="#m:133"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> ?<span class="id" title="var">v</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_eq_incl_iff"><span class="id" title="lemma">VLSM_eq_incl_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Property of a composite trace requiring that every message received in an
transition involving a machine in the chosen subset must either belong to
the set specified by <span class="inlinecode"><span class="id" title="var">seed</span></span>, or it must <span class="inlinecode"><span class="id" title="var">have_been_sent</span></span> by some machine
in the chosen subset (prior to it being received).

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="trace_sub_item_input_is_seeded_or_sub_previously_sent" class="idref" href="#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;(<a id="tr:134" class="idref" href="#tr:134"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="pre:135" class="idref" href="#pre:135"><span class="id" title="binder">pre</span></a> <a id="item:136" class="idref" href="#item:136"><span class="id" title="binder">item</span></a> <a id="suf:137" class="idref" href="#suf:137"><span class="id" title="binder">suf</span></a> <a id="m:138" class="idref" href="#m:138"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:134"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#pre:135"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:136"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#suf:137"><span class="id" title="variable">suf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:136"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#m:138"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#item:136"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#m:138"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="pre_item:139" class="idref" href="#pre_item:139"><span class="id" title="binder">pre_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#pre_item:139"><span class="id" title="variable">pre_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#pre:135"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#pre_item:139"><span class="id" title="variable">pre_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#m:138"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#pre_item:139"><span class="id" title="variable">pre_item</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_sub_item_input_is_seeded_or_sub_previously_sent" class="idref" href="#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:140" class="idref" href="#s:140"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> <a id="is:141" class="idref" href="#is:141"><span class="id" title="binder">is</span></a> <a id="tr:142" class="idref" href="#tr:142"><span class="id" title="binder">tr</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Pre"><span class="id" title="variable">Pre</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#is:141"><span class="id" title="variable">is</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:142"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:142"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#is:141"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:140"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:142"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_protocol_trace_sub_projection" class="idref" href="#finite_protocol_trace_sub_projection"><span class="id" title="lemma">finite_protocol_trace_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:143" class="idref" href="#s:143"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:144" class="idref" href="#tr:144"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hmsg:145" class="idref" href="#Hmsg:145"><span class="id" title="binder">Hmsg</span></a> :  <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:144"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:146" class="idref" href="#Htr:146"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:143"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:144"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace"><span class="id" title="definition">finite_protocol_trace</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:143"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:144"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#initial_is_protocol"><span class="id" title="lemma">initial_is_protocol</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">His</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hisp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tr</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_app_iff"><span class="id" title="lemma">finite_protocol_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">pre</span> <span class="id" title="var">item</span> <span class="id" title="var">suf</span> <span class="id" title="var">m</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hin_m</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">pre</span> <span class="id" title="var">item</span> (<span class="id" title="var">suf</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Hin_m</span> <span class="id" title="var">Hitem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | <span class="id" title="var">Hmsg</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>] ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="lemma">finite_trace_sub_projection_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_app_iff"><span class="id" title="lemma">finite_protocol_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">tr</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> <span class="id" title="var">lst</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_last_pstate"><span class="id" title="lemma">finite_ptrace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHtr</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;;[|<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_singleton"><span class="id" title="definition">finite_ptrace_singleton</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span> <span class="id" title="var">tl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#transition_sub_projection"><span class="id" title="lemma">transition_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#valid_sub_projection"><span class="id" title="lemma">valid_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hvj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htj</span>, <span class="id" title="var">Hvj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst'</span> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lst</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">lst</span> <span class="id" title="var">s'</span>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htj</span>, <span class="id" title="var">Hvj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span> | | <span class="id" title="tactic">assumption</span> | | <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [|<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#option_protocol_message_None"><span class="id" title="lemma">option_protocol_message_None</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#option_protocol_message_Some"><span class="id" title="lemma">option_protocol_message_Some</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> [<span class="id" title="var">Hout</span> <span class="id" title="var">Hsub_item</span>]]]]<br/>
    ; [<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#initial_message_is_protocol"><span class="id" title="lemma">initial_message_is_protocol</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>); <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_list_in"><span class="id" title="lemma">finite_trace_sub_projection_list_in</span></a> <span class="id" title="var">tr</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">Hsub_item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hin_sub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_trace_output_is_protocol"><span class="id" title="lemma">protocol_trace_output_is_protocol</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">IHtr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>. <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hin_sub</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Hno_equiv"><span class="id" title="variable">Hno_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> [<span class="id" title="var">Hout</span> <span class="id" title="var">Hsub_item</span>]]]]<br/>
    ; [<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a> <span class="id" title="var">lst</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlstp</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a>) <span class="id" title="var">lst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_protocol_state"><span class="id" title="lemma">VLSM_incl_protocol_state</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">MX</span> := <a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>); [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hproper</span> <span class="id" title="var">Hlstp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Sub_Free_has_been_sent_capability"><span class="id" title="instance">Sub_Free_has_been_sent_capability</span></a>| <span class="id" title="tactic">assumption</span>| ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="var">s</span>), (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_finite_protocol_trace"><span class="id" title="lemma">VLSM_incl_finite_protocol_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Heqlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_transition_item_sub_projection"><span class="id" title="definition">composite_transition_item_sub_projection</span></a> <span class="id" title="var">item</span> <span class="id" title="var">Hsub_item</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_list_in"><span class="id" title="lemma">finite_trace_sub_projection_list_in</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="protocol_state_sub_projection" class="idref" href="#protocol_state_sub_projection"><span class="id" title="lemma">protocol_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:147" class="idref" href="#s:147"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:148" class="idref" href="#Hs:148"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:147"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hps:149" class="idref" href="#Hps:149"><span class="id" title="binder">Hps</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:147"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:147"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_has_trace"><span class="id" title="lemma">protocol_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hps</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hlst</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_protocol_trace_sub_projection"><span class="id" title="lemma">finite_protocol_trace_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hptr</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_last_pstate"><span class="id" title="lemma">finite_ptrace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">is</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_finite_protocol_trace"><span class="id" title="lemma">VLSM_incl_finite_protocol_trace</span></a>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_protocol_trace_from_sub_projection" class="idref" href="#finite_protocol_trace_from_sub_projection"><span class="id" title="lemma">finite_protocol_trace_from_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:150" class="idref" href="#s:150"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:151" class="idref" href="#tr:151"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="lst:152" class="idref" href="#lst:152"><span class="id" title="binder">lst</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">last</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:151"><span class="id" title="variable">tr</span></a>) <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:150"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hmsg:153" class="idref" href="#Hmsg:153"><span class="id" title="binder">Hmsg</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#lst:152"><span class="id" title="variable">lst</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:154" class="idref" href="#Htr:154"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:150"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:151"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from"><span class="id" title="inductive">finite_protocol_trace_from</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s:150"><span class="id" title="variable">s</span></a>) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#tr:151"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_complete_left"><span class="id" title="lemma">finite_protocol_trace_from_complete_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hs</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_app_iff"><span class="id" title="lemma">finite_protocol_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpre</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_protocol_trace_sub_projection"><span class="id" title="lemma">finite_protocol_trace_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="lemma">finite_trace_sub_projection_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_protocol_trace_from_app_iff"><span class="id" title="lemma">finite_protocol_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpre_lst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#VLSM_incl_finite_protocol_trace"><span class="id" title="lemma">VLSM_incl_finite_protocol_trace</span></a>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>, <a class="idref" href="CasperCBC.Lib.ListExtras.html#last_app"><span class="id" title="lemma">last_app</span></a>. <span class="id" title="tactic">subst</span> <span class="id" title="var">lst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_futures_sub_projection" class="idref" href="#in_futures_sub_projection"><span class="id" title="lemma">in_futures_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s1:155" class="idref" href="#s1:155"><span class="id" title="binder">s1</span></a> <a id="s2:156" class="idref" href="#s2:156"><span class="id" title="binder">s2</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs2:157" class="idref" href="#Hs2:157"><span class="id" title="binder">Hs2</span></a> : <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s2:156"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hfutures:158" class="idref" href="#Hfutures:158"><span class="id" title="binder">Hfutures</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s1:155"><span class="id" title="variable">s1</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s2:156"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s1:155"><span class="id" title="variable">s1</span></a>) (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#s2:156"><span class="id" title="variable">s2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfutures</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Heq_s2</span>]]. <span class="id" title="tactic">subst</span> <span class="id" title="var">s2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_protocol_trace_from_sub_projection"><span class="id" title="lemma">finite_protocol_trace_from_sub_projection</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hs2</span> <span class="id" title="var">Htr</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Htrj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints"><span class="id" title="section">sub_projection_with_no_equivocation_constraints</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.SubProjectionTraces.html#sub_composition"><span class="id" title="section">sub_composition</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
