<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write("<a href='" + document.title + ".svg'>" + document.title + "</a>")</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">ListSet</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Sets.Relations_1.html#"><span class="id" title="library">Relations_1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Sorting.Sorting.html#"><span class="id" title="library">Sorting</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Program.Basics.html#"><span class="id" title="library">Basics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CasperCBC</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#"><span class="id" title="library">Lib.ListSetExtras</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.SortedLists.html#"><span class="id" title="library">Lib.SortedLists</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#"><span class="id" title="library">VLSM.Common</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#"><span class="id" title="library">VLSM.Plans</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#"><span class="id" title="library">VLSM.ProjectionTraces</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#"><span class="id" title="library">VLSM.Composition</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Equivocation.html#"><span class="id" title="library">VLSM.Equivocation</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#"><span class="id" title="library">VLSM.ListValidator.ListValidator</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#"><span class="id" title="library">VLSM.ListValidator.Equivocation</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#"><span class="id" title="library">VLSM.ListValidator.Observations</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#"><span class="id" title="library">VLSM.ListValidator.EquivocationAwareListValidator</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#"><span class="id" title="library">VLSM.ListValidator.EquivocationAwareComposition</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#"><span class="id" title="library">VLSM.ObservableEquivocation</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Common.html#"><span class="id" title="library">CBC.Common</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CasperCBC.CBC.Equivocation.html#"><span class="id" title="library">CBC.Equivocation</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

Also see:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">Observations.v</span></span> for the observation model used here

</li>
<li> <span class="inlinecode"><span class="id" title="var">EquivocationAwareListValidator.v</span></span> for the used estimators

</li>
<li> <span class="inlinecode"><span class="id" title="var">EquivocationAwareComposition.v</span></span> for results concerning this type of composition

</li>
<li> <span class="inlinecode"><span class="id" title="var">Equivocation.v</span></span> and <span class="inlinecode"><span class="id" title="var">ListValidator.v</span></span> for some general
     facts about List Validators. 
</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="CommonFutures" class="idref" href="#CommonFutures"><span class="id" title="section">CommonFutures</span></a>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a id="lab79"></a><h2 class="section">The Common Futures Theorem for List Validators.</h2>


<div class="paragraph"> </div>

   The following is an informal sketch of the Common Futures Theorem for List Validators.

<div class="paragraph"> </div>

   Consider a composition <tt>X</tt> of List Validator nodes, each using an <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a></span>.
   The aim is to prove that for any given protocol <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a></span> <span class="inlinecode"><span class="id" title="var">X</span></span> <tt>s</tt>, there exists a <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a></span> <span class="inlinecode"><span class="id" title="var">X</span></span> <tt>s'</tt>
<div class="paragraph"> </div>

   such that:
   (1) <tt>s'</tt> is a future state of <tt>s</tt>.
   (2) The set of honest nodes in <tt>s'</tt> is identical to the set of honest nodes in <tt>s</tt>.
       Formally, we have <tt>set_eq (GH s') (GH s)</tt>.
   (3) All honest nodes have the same estimator in <tt>s'</tt>.

<div class="paragraph"> </div>

   We will focus on the strategy for achieving (3), noting along the way that we're not breaking (1)
   or (2). We achieve (3) by making sure that all estimators of honest nodes take the same input
   in <tt>s'</tt>. Given that they are <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a></span>s and, thus, ignore projections onto
   nodes which they can locally prove equivocating, we can further split this goal in two:
   (3.1) The honest nodes should see the same set of equivocating nodes locally. 
   (3.2) For each locally-honest-appearing node <tt>h</tt>, all honest nodes have identical projections onto
       <tt>h</tt>
<div class="paragraph"> </div>

   The most natural way to achieve (3.1) is to ensure that for all honest nodes <tt>i</tt>, 
   <tt>set_eq (LH [i] s') (HH s') </tt>, i.e the set of locally-honest-looking nodes for each node
   is equal to the set of nodes which would seem honest if we were to unite all observations
   from honest nodes. <tt>incl (HH s') (LH [i] s') </tt> holds trivially for any <tt>s'</tt>. For the other
   direction, we will require honest nodes to share observations among themselves. This gives an initial
   structure of our common future-finding algorithm:

<div class="paragraph"> </div>

   Send Phase : All nodes in <tt>GH s</tt> do a send/update operation.
   Receive Phase' : All nodes in <tt>GH s</tt> receive all messages sent in the Send Phase.

<div class="paragraph"> </div>

   The point is that by sending and receiving these messages, honest nodes will be up-to-date
   regarding each other, hence knowing what state everyone had back in <tt>s</tt> and thus obtaining
   the observations held at that point as well. We can show that this process is protocol and
   that the new observations introduced into the pool can't really contain new information and thus
   do not alter <tt>GH s</tt> (or even <tt>HH s</tt>).

<div class="paragraph"> </div>

   What about (3.2)? Our current algorithm doesn't necessarily solve (3.2), because there
   may exist nodes in <tt>(HH s)</tt> which are outside of <tt>(GH s)</tt> and projections onto
   these indices remain unaffected by our algorithm (so if they weren't precisely equal
   in the beginning, we have a problem).

<div class="paragraph"> </div>

   The solution is to generalize the Receive Phase as such:

<div class="paragraph"> </div>

   Receive Phase : For all <tt>i</tt> in <tt>GH s</tt>, for all <tt>j</tt>, <tt>i</tt> will receive the message
                   <tt>(j, top_s)</tt> where <tt>top_s</tt> is a state satisfying the following:
<ul class="doclist">
<li> there exists <tt>k</tt> in <tt>GH s</tt> such that <tt>project (s k) j = top_s</tt>.

</li>
<li> there is no other projection of this form which is greater than <tt>top_s</tt>
<div class="paragraph"> </div>


</li>
<li> it is valid for <tt>i</tt> to receive <tt>top_s</tt>.

<div class="paragraph"> </div>

   In other words, each honest <tt>i</tt> tries to update its <tt>j</tt> component to the freshest/most advanced
   projection any honest validator has onto <tt>j</tt>. If there are several different maximal projections
   (which can happen if <tt>j</tt> is equivocating), we select an arbitrary one that we can receive.
   Note that it can happen that <tt>i</tt> sticks to its own projection onto <tt>j</tt>.

<div class="paragraph"> </div>

   In the end what happens is that if <tt>j</tt> is in <tt>HH s'</tt>, then there can be a single topmost
   projection, so everyone received the same thing. So if these projections should differ, we
   can obtain a contradiction. Note also that our new Receive Phase still does what it did
   initially for the honest validators: if <tt>j</tt> is in <tt>GH s</tt>, the topmost projection is simply
   the message sent in the sending phase.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="index:1" class="idref" href="#index:1"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="i0:2" class="idref" href="#i0:2"><span class="id" title="binder">i0</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="index_listing:3" class="idref" href="#index_listing:3"><span class="id" title="binder">index_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="Hfinite:4" class="idref" href="#Hfinite:4"><span class="id" title="binder">Hfinite</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a>}<br/>
&nbsp;&nbsp;{<a id="idec:5" class="idref" href="#idec:5"><span class="id" title="binder">idec</span></a> : <a class="idref" href="CasperCBC.Lib.Classes.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="Mindex:6" class="idref" href="#Mindex:6"><span class="id" title="binder">Mindex</span></a> : <a class="idref" href="CasperCBC.CBC.Common.html#Measurable"><span class="id" title="class">Measurable</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;{<a id="Rindex:7" class="idref" href="#Rindex:7"><span class="id" title="binder">Rindex</span></a> : <a class="idref" href="CasperCBC.CBC.Common.html#ReachableThreshold"><span class="id" title="class">ReachableThreshold</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="est':9" class="idref" href="#est':9"><span class="id" title="binder">est'</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">EquivocationAwareListValidator.equivocation_aware_estimator</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:8"><span class="id" title="variable">i</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))<br/>
&nbsp;&nbsp;(<a id="IM_index:11" class="idref" href="#IM_index:11"><span class="id" title="binder">IM_index</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:10" class="idref" href="#i:10"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#VLSM_list"><span class="id" title="definition">VLSM_list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#idec:5"><span class="id" title="variable">idec</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#est':9"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:10"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="has_been_sent_capabilities:13" class="idref" href="#has_been_sent_capabilities:13"><span class="id" title="binder">has_been_sent_capabilities</span></a> := <span class="id" title="keyword">fun</span> <a id="i:12" class="idref" href="#i:12"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#lv_sent_capability"><span class="id" title="instance">lv_sent_capability</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:12"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#idec:5"><span class="id" title="variable">idec</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#est':9"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:12"><span class="id" title="variable">i</span></a>) <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;(<a id="has_been_received_capabilities:15" class="idref" href="#has_been_received_capabilities:15"><span class="id" title="binder">has_been_received_capabilities</span></a> := <span class="id" title="keyword">fun</span> <a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#lv_received_capability"><span class="id" title="instance">lv_received_capability</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#idec:5"><span class="id" title="variable">idec</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#est':9"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:14"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="X:16" class="idref" href="#X:16"><span class="id" title="binder">X</span></a> := <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#IM_index:11"><span class="id" title="variable">IM_index</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#IM_index:11"><span class="id" title="variable">IM_index</span></a>))<br/>
&nbsp;&nbsp;(<a id="preX:17" class="idref" href="#preX:17"><span class="id" title="binder">preX</span></a> := <a class="idref" href="CasperCBC.VLSM.Common.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#X:16"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hevents_set':19" class="idref" href="#Hevents_set':19"><span class="id" title="binder">Hevents_set'</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:18" class="idref" href="#i:18"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observable_events"><span class="id" title="instance">simp_lv_observable_events</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:18"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;(<a id="Hstate_events_set:21" class="idref" href="#Hstate_events_set:21"><span class="id" title="binder">Hstate_events_set</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:20" class="idref" href="#i:20"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:20"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;(<a id="Hevidence:23" class="idref" href="#Hevidence:23"><span class="id" title="binder">Hevidence</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:22" class="idref" href="#i:22"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_observable_full"><span class="id" title="instance">simp_observable_full</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:22"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#idec:5"><span class="id" title="variable">idec</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hstate_events_fn:25" class="idref" href="#Hstate_events_fn:25"><span class="id" title="binder">Hstate_events_fn</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:24" class="idref" href="#i:24"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observations"><span class="id" title="definition">simp_lv_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:24"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;(<a id="Hbasic:27" class="idref" href="#Hbasic:27"><span class="id" title="binder">Hbasic</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:26" class="idref" href="#i:26"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a>) =&gt; @<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_basic_equivocation"><span class="id" title="definition">simp_lv_basic_equivocation</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:26"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#index_listing:3"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#Hfinite:4"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#idec:5"><span class="id" title="variable">idec</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#Mindex:6"><span class="id" title="variable">Mindex</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#Rindex:7"><span class="id" title="variable">Rindex</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="hbo_cobs'" class="idref" href="#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a> := (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hbo_cobs"><span class="id" title="lemma">hbo_cobs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.idec"><span class="id" title="variable">idec</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Mindex"><span class="id" title="variable">Mindex</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Rindex"><span class="id" title="variable">Rindex</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="in_listing" class="idref" href="#in_listing"><span class="id" title="abbreviation">in_listing</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="component_list" class="idref" href="#component_list"><span class="id" title="abbreviation">component_list</span></a> <span class="id" title="var">s</span> <span class="id" title="var">li</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <span class="id" title="var">s</span> <span class="id" title="var">li</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;Delete&nbsp;this&nbsp;when&nbsp;possible.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <a id="protocol_state_component_no_bottom" class="idref" href="#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:29" class="idref" href="#i:29"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:30" class="idref" href="#Hprs:30"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:28"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:28"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:29"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#protocol_prop_no_bottom"><span class="id" title="lemma">protocol_prop_no_bottom</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.est'"><span class="id" title="variable">est'</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ProjectionTraces.html#protocol_state_projection"><span class="id" title="lemma">protocol_state_projection</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hprs</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#proj_pre_loaded_with_all_messages_protocol_prop"><span class="id" title="lemma">proj_pre_loaded_with_all_messages_protocol_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Returns&nbsp;a&nbsp;boolean&nbsp;&lt;&lt;b&gt;&gt;&nbsp;such&nbsp;that&nbsp;it&nbsp;is&nbsp;valid&nbsp;to&nbsp;perform&nbsp;an&nbsp;update&nbsp;transition<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;&lt;&lt;b&gt;&gt;&nbsp;in&nbsp;state&nbsp;&lt;&lt;s&nbsp;who&gt;&gt;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="feasible_update_value" class="idref" href="#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> (<a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> : (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>)) (<a id="who:32" class="idref" href="#who:32"><span class="id" title="binder">who</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:31"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Something"><span class="id" title="constructor">Something</span></a> <span class="id" title="var">c</span> <span class="id" title="keyword">is</span> =&gt; <span class="id" title="keyword">match</span> @<a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:32"><span class="id" title="variable">who</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator_dec"><span class="id" title="instance">equivocation_aware_estimator_dec</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Such&nbsp;a&nbsp;boolean&nbsp;doesn't&nbsp;exist&nbsp;if&nbsp;a&nbsp;node&nbsp;sees&nbsp;everyone&nbsp;as&nbsp;equivocating,&nbsp;so&nbsp;we&nbsp;need&nbsp;a&nbsp;hypothesis<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;exclude&nbsp;this&nbsp;possibility.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="not_all_equivocating" class="idref" href="#not_all_equivocating"><span class="id" title="definition">not_all_equivocating</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> : (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="who:35" class="idref" href="#who:35"><span class="id" title="binder">who</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#no_equivocating_decisions"><span class="id" title="definition">no_equivocating_decisions</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.idec"><span class="id" title="variable">idec</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:34"><span class="id" title="variable">s</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.CBC.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Mindex"><span class="id" title="variable">Mindex</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Rindex"><span class="id" title="variable">Rindex</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hbasic"><span class="id" title="variable">Hbasic</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:35"><span class="id" title="variable">who</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:34"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="no_component_fully_equivocating" class="idref" href="#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:36" class="idref" href="#s:36"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:37" class="idref" href="#li:37"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> (<a id="i:38" class="idref" href="#i:38"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:38"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:37"><span class="id" title="variable">li</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#not_all_equivocating"><span class="id" title="definition">not_all_equivocating</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:36"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:38"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:38"><span class="id" title="variable">i</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="feasible_update_value_correct" class="idref" href="#feasible_update_value_correct"><span class="id" title="lemma">feasible_update_value_correct</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:39" class="idref" href="#s:39"><span class="id" title="binder">s</span></a> : (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="who:40" class="idref" href="#who:40"><span class="id" title="binder">who</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hne:41" class="idref" href="#Hne:41"><span class="id" title="binder">Hne</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#not_all_equivocating"><span class="id" title="definition">not_all_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:39"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:40"><span class="id" title="variable">who</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:40"><span class="id" title="variable">who</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_eq"><span class="id" title="abbreviation">decide_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:39"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:39"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:40"><span class="id" title="variable">who</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> <span class="id" title="var">s</span> <span class="id" title="var">who</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_fv</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_fv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Something"><span class="id" title="constructor">Something</span></a> <span class="id" title="var">b</span> <span class="id" title="keyword">is</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_ewb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_ewb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#ea_estimator_total"><span class="id" title="lemma">ea_estimator_total</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_ewb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_fv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Something"><span class="id" title="constructor">Something</span></a> <span class="id" title="var">b</span> <span class="id" title="keyword">is</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_ewb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_ewb</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="feasible_update_single" class="idref" href="#feasible_update_single"><span class="id" title="definition">feasible_update_single</span></a> (<a id="s:42" class="idref" href="#s:42"><span class="id" title="binder">s</span></a> : (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>)) (<a id="who:43" class="idref" href="#who:43"><span class="id" title="binder">who</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Plans.html#plan_item"><span class="id" title="record">plan_item</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cv:44" class="idref" href="#cv:44"><span class="id" title="binder">cv</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:42"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:43"><span class="id" title="variable">who</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:45" class="idref" href="#res:45"><span class="id" title="binder">res</span></a> := @<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#list_transition"><span class="id" title="definition">list_transition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:43"><span class="id" title="variable">who</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update"><span class="id" title="constructor">update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#cv:44"><span class="id" title="variable">cv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:42"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.Plans.html#Build_plan_item"><span class="id" title="constructor">Build_plan_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:43"><span class="id" title="variable">who</span></a>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update"><span class="id" title="constructor">update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#cv:44"><span class="id" title="variable">cv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="feasible_update_composite" class="idref" href="#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> (<a id="s:46" class="idref" href="#s:46"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) (<a id="who:47" class="idref" href="#who:47"><span class="id" title="binder">who</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Composition.html#lift_to_composite_plan_item"><span class="id" title="definition">lift_to_composite_plan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:47"><span class="id" title="variable">who</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_single"><span class="id" title="definition">feasible_update_single</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:46"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:47"><span class="id" title="variable">who</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:47"><span class="id" title="variable">who</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Updates&nbsp;using&nbsp;the&nbsp;feasible&nbsp;value&nbsp;are&nbsp;protocol.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="feasible_update_protocol" class="idref" href="#feasible_update_protocol"><span class="id" title="lemma">feasible_update_protocol</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:49" class="idref" href="#Hprs:49"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:48"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="who:50" class="idref" href="#who:50"><span class="id" title="binder">who</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hne:51" class="idref" href="#Hne:51"><span class="id" title="binder">Hne</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#not_all_equivocating"><span class="id" title="definition">not_all_equivocating</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:50"><span class="id" title="variable">who</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:50"><span class="id" title="variable">who</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="item:52" class="idref" href="#item:52"><span class="id" title="binder">item</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#who:50"><span class="id" title="variable">who</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#item:52"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:48"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#item:52"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#option_protocol_message_None"><span class="id" title="lemma">option_protocol_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value_correct"><span class="id" title="lemma">feasible_update_value_correct</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> := <span class="id" title="var">s</span> <span class="id" title="var">who</span>) (<span class="id" title="var">who</span> := <span class="id" title="var">who</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="chain_updates" class="idref" href="#chain_updates"><span class="id" title="definition">chain_updates</span></a> (<a id="li:53" class="idref" href="#li:53"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) (<a id="s:54" class="idref" href="#s:54"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:54"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:53"><span class="id" title="variable">li</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="chain_updates_projections_out" class="idref" href="#chain_updates_projections_out"><span class="id" title="lemma">chain_updates_projections_out</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:55" class="idref" href="#s:55"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:56" class="idref" href="#li:56"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:57" class="idref" href="#i:57"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:58" class="idref" href="#Hi:58"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:57"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:56"><span class="id" title="variable">li</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':59" class="idref" href="#s':59"><span class="id" title="binder">s'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:55"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:56"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:55"><span class="id" title="variable">s</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':59"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:57"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:55"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:57"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#irrelevant_components"><span class="id" title="lemma">irrelevant_components</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Heqproj</span> <span class="id" title="var">contra</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> [<span class="id" title="var">Heqlabel</span> <span class="id" title="var">contra</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Hfease</span> <span class="id" title="var">Hj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqlabel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfease</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqproj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Main&nbsp;lemma&nbsp;about&nbsp;the&nbsp;sending&nbsp;phase.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="chain_updates_protocol" class="idref" href="#chain_updates_protocol"><span class="id" title="lemma">chain_updates_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:60" class="idref" href="#s:60"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:61" class="idref" href="#Hprs:61"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:62" class="idref" href="#li:62"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnodup:63" class="idref" href="#Hnodup:63"><span class="id" title="binder">Hnodup</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:62"><span class="id" title="variable">li</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhonest:64" class="idref" href="#Hhonest:64"><span class="id" title="binder">Hhonest</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:62"><span class="id" title="variable">li</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:65" class="idref" href="#Hnf:65"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:62"><span class="id" title="variable">li</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:66" class="idref" href="#res:66"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:62"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:62"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="i:67" class="idref" href="#i:67"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:67"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:62"><span class="id" title="variable">li</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:66"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:67"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:67"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:67"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:66"><span class="id" title="variable">res</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:60"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">li</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span> <span class="id" title="var">li</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_empty"><span class="id" title="constructor">finite_ptrace_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hnf</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hnfi</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">res_a</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">res_a</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_protocol"><span class="id" title="lemma">feasible_update_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqres_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">li</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">li</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>))) <span class="id" title="keyword">as</span> <span class="id" title="var">s'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_cons_iff"><span class="id" title="lemma">NoDup_cons_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnoa</span> <span class="id" title="var">Hnoli</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHli</span> <span class="id" title="var">Hnoli</span> <span class="id" title="var">s'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHli</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_one"><span class="id" title="lemma">finite_protocol_plan_from_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hindif</span> : <span class="id" title="keyword">forall</span> (<a id="i:69" class="idref" href="#i:69"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:68"><span class="id" title="variable">i</span></a> <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">s'</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:68"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:68"><span class="id" title="variable">i</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#irrelevant_components_one"><span class="id" title="lemma">irrelevant_components_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HGEs'</span> : <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">s'</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">s</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_same"><span class="id" title="lemma">GE_existing_same</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> @<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_same_rev"><span class="id" title="lemma">GE_existing_same_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hhonest</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHli</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">idx</span> <span class="id" title="var">Hidx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hhonest</span> <span class="id" title="var">idx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">HGEs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hhonest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHli</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hindif</span> <span class="id" title="var">i1</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hindif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hchain</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s</span>) <span class="id" title="var">li</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s'</span>) <span class="id" title="var">li</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">Hjli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">s'</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hindif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_one"><span class="id" title="lemma">finite_protocol_plan_from_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_protocol"><span class="id" title="lemma">feasible_update_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hchain</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="var">li</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="var">li</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="lemma">apply_plan_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_short</span>, <span class="id" title="var">res_short</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short</span>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_short</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="var">li</span> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_long</span>, <span class="id" title="var">res_long</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_short</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="var">li</span> <span class="id" title="var">s</span>))) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_long</span>; <span class="id" title="tactic">intuition</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">res_short</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsame</span> : <span class="id" title="var">res_long</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">res_short</span> <span class="id" title="var">i</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hchain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates_projections_out"><span class="id" title="lemma">chain_updates_projections_out</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">Hjli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_folder"><span class="id" title="definition">apply_plan_folder</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus_clean"><span class="id" title="lemma">update_consensus_clean</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">value</span> := (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_same"><span class="id" title="lemma">project_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHli</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">IHli</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHli</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec_save</span> <span class="id" title="var">IHli</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hjli</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hindif</span> <span class="id" title="var">j</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hindif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hchain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hge_short</span> : <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">res_short</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">s</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_consensus"><span class="id" title="definition">update_consensus</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">new_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">new_si</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">new_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hu</span>: <span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">new_s</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqnew_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqnew_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_same"><span class="id" title="lemma">GE_existing_same</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hprs</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>) <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hexist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_existing_same_rev"><span class="id" title="lemma">GE_existing_same_rev</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hprs</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>) <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hexist'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hexist'</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexist</span>, <span class="id" title="var">Hexist'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqnew_s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqnew_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">Hexist</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">Hexist'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hge_long</span> : <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">res_long</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">res_short</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHli</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">IHli</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hchain</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_tran"><span class="id" title="lemma">set_eq_tran</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s2</span> := (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">res_short</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Some wrappers for clarity of expoisition going forward. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="send_phase_plan" class="idref" href="#send_phase_plan"><span class="id" title="definition">send_phase_plan</span></a> (<a id="s:70" class="idref" href="#s:70"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates"><span class="id" title="definition">chain_updates</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:70"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:70"><span class="id" title="variable">s</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="send_phase" class="idref" href="#send_phase"><span class="id" title="definition">send_phase</span></a> (<a id="s:71" class="idref" href="#s:71"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition_item"><span class="id" title="definition">vtransition_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:71"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_plan"><span class="id" title="definition">send_phase_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:71"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="send_phase_result" class="idref" href="#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:72" class="idref" href="#s:72"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase"><span class="id" title="definition">send_phase</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:72"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="send_phase_transitions" class="idref" href="#send_phase_transitions"><span class="id" title="definition">send_phase_transitions</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:73" class="idref" href="#s:73"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase"><span class="id" title="definition">send_phase</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:73"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="send_phase_protocol" class="idref" href="#send_phase_protocol"><span class="id" title="lemma">send_phase_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:74" class="idref" href="#s:74"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:75" class="idref" href="#Hprs:75"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:74"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:76" class="idref" href="#Hnf:76"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:74"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:74"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:74"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_plan"><span class="id" title="definition">send_phase_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:74"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_plan"><span class="id" title="definition">send_phase_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates_protocol"><span class="id" title="lemma">chain_updates_protocol</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hprs</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH_NoDup"><span class="id" title="lemma">GH_NoDup</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hchain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hchain</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hchain</span> <span class="id" title="var">Hnf</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hchain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hchain</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hchain1</span> [<span class="id" title="var">Hchain2</span> <span class="id" title="var">Hchain3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="send_phase_result_protocol" class="idref" href="#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:77" class="idref" href="#s:77"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:78" class="idref" href="#Hprs:78"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:77"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:79" class="idref" href="#Hnf:79"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:77"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:77"><span class="id" title="variable">s</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:80" class="idref" href="#res_send:80"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:77"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res_send:80"><span class="id" title="variable">res_send</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_protocol"><span class="id" title="lemma">send_phase_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="send_phase_GE" class="idref" href="#send_phase_GE"><span class="id" title="lemma">send_phase_GE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:81" class="idref" href="#s:81"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:82" class="idref" href="#Hprs:82"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:81"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:83" class="idref" href="#Hnf:83"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:81"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:81"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:81"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:81"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_plan"><span class="id" title="definition">send_phase_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates_protocol"><span class="id" title="lemma">chain_updates_protocol</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hprs</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH_NoDup"><span class="id" title="lemma">GH_NoDup</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hchain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hchain</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hchain</span> <span class="id" title="var">Hnf</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hchain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hchain</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hchain1</span> [<span class="id" title="var">Hchain2</span> <span class="id" title="var">Hchain3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase"><span class="id" title="definition">send_phase</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="send_phase_future" class="idref" href="#send_phase_future"><span class="id" title="lemma">send_phase_future</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:84" class="idref" href="#s:84"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:85" class="idref" href="#Hnf:85"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:84"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:84"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hspr:86" class="idref" href="#Hspr:86"><span class="id" title="binder">Hspr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:84"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:84"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:84"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_transitions"><span class="id" title="definition">send_phase_transitions</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_protocol"><span class="id" title="lemma">send_phase_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_transitions"><span class="id" title="definition">send_phase_transitions</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last"><span class="id" title="lemma">apply_plan_last</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="send_phase_result_projections" class="idref" href="#send_phase_result_projections"><span class="id" title="lemma">send_phase_result_projections</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:87" class="idref" href="#s:87"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprss:88" class="idref" href="#Hprss:88"><span class="id" title="binder">Hprss</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:87"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:89" class="idref" href="#Hnf:89"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:87"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:87"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:90" class="idref" href="#i:90"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:91" class="idref" href="#Hin:91"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:90"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:87"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':92" class="idref" href="#s':92"><span class="id" title="binder">s'</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:87"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':92"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:90"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:90"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:90"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#chain_updates_protocol"><span class="id" title="lemma">chain_updates_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH_NoDup"><span class="id" title="lemma">GH_NoDup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="non_self_projections_same_after_send_phase" class="idref" href="#non_self_projections_same_after_send_phase"><span class="id" title="lemma">non_self_projections_same_after_send_phase</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:93" class="idref" href="#s:93"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:94" class="idref" href="#Hpr:94"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:93"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:95" class="idref" href="#Hnf:95"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:93"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:93"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:96" class="idref" href="#res_send:96"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:93"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:97" class="idref" href="#i:97"><span class="id" title="binder">i</span></a> <a id="j:98" class="idref" href="#j:98"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:97"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:98"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res_send:96"><span class="id" title="variable">res_send</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:97"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:98"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:93"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:97"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:98"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#non_self_projections_same_after_sends"><span class="id" title="lemma">non_self_projections_same_after_sends</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_plan"><span class="id" title="definition">send_phase_plan</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsame</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_protocol"><span class="id" title="lemma">send_phase_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsame</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hink</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_composite"><span class="id" title="definition">feasible_update_composite</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_single"><span class="id" title="definition">feasible_update_single</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#feasible_update_value"><span class="id" title="definition">feasible_update_value</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>) <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsame</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lift_to_receive_item" class="idref" href="#lift_to_receive_item"><span class="id" title="definition">lift_to_receive_item</span></a> (<a id="to:99" class="idref" href="#to:99"><span class="id" title="binder">to</span></a> <a id="from:100" class="idref" href="#from:100"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) (<a id="s:101" class="idref" href="#s:101"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>): <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:99"><span class="id" title="variable">to</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CasperCBC.VLSM.Plans.html#Build_plan_item"><span class="id" title="constructor">Build_plan_item</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#type"><span class="id" title="definition">type</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:99"><span class="id" title="variable">to</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:100"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:101"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>

<br/>
</div>

<div class="doc">
Construct a <span class="inlinecode"><a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a></span> <span class="inlinecode"><span class="id" title="var">X</span></span> such that &lt;s to&gt; will receive the messages 
     in &lt;ls&gt;. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sync_plan" class="idref" href="#sync_plan"><span class="id" title="definition">sync_plan</span></a> (<a id="to:102" class="idref" href="#to:102"><span class="id" title="binder">to</span></a> <a id="from:103" class="idref" href="#from:103"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) (<a id="ls:104" class="idref" href="#ls:104"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>) : (<a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tmp:105" class="idref" href="#tmp:105"><span class="id" title="binder">tmp</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lift_to_receive_item"><span class="id" title="definition">lift_to_receive_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:102"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:103"><span class="id" title="variable">from</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ls:104"><span class="id" title="variable">ls</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#lift_to_composite_plan_item"><span class="id" title="definition">lift_to_composite_plan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:102"><span class="id" title="variable">to</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#tmp:105"><span class="id" title="variable">tmp</span></a>.<br/>

<br/>
</div>

<div class="doc">
Construct a plan which syncs up <tt>project (s to) from</tt> with 
     <tt>project s' from</tt> via receiving messages. If the states' <tt>from</tt> histories
     don't match, None is returned. 
     See <span class="inlinecode"><span class="id" title="var">Lib</span>/<span class="id" title="var">ListExtras.v</span></span> for <span class="inlinecode"><a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sync" class="idref" href="#sync"><span class="id" title="definition">sync</span></a> (<a id="s:106" class="idref" href="#s:106"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) (<a id="s':107" class="idref" href="#s':107"><span class="id" title="binder">s'</span></a>: <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>) (<a id="to:108" class="idref" href="#to:108"><span class="id" title="binder">to</span></a> <a id="from:109" class="idref" href="#from:109"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="history_s:110" class="idref" href="#history_s:110"><span class="id" title="binder">history_s</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:106"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:108"><span class="id" title="variable">to</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:109"><span class="id" title="variable">from</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="history_s':111" class="idref" href="#history_s':111"><span class="id" title="binder">history_s'</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':107"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:109"><span class="id" title="variable">from</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="rem_states:112" class="idref" href="#rem_states:112"><span class="id" title="binder">rem_states</span></a> := <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#history_s':111"><span class="id" title="variable">history_s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#history_s:110"><span class="id" title="variable">history_s</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#rem_states:112"><span class="id" title="variable">rem_states</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ss</span> =&gt; <span class="id" title="keyword">let</span> <a id="rem_plan:114" class="idref" href="#rem_plan:114"><span class="id" title="binder">rem_plan</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_plan"><span class="id" title="definition">sync_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:108"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:109"><span class="id" title="variable">from</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">ss</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#rem_plan:114"><span class="id" title="variable">rem_plan</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The syncing plan is protocol and it does what is expected.
    Note the index <tt>inter</tt>, which denotes the validator which
    owns the projection we will choose to sync to. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="one_sender_receive_protocol" class="idref" href="#one_sender_receive_protocol"><span class="id" title="lemma">one_sender_receive_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:115" class="idref" href="#s:115"><span class="id" title="binder">s</span></a> <a id="s':116" class="idref" href="#s':116"><span class="id" title="binder">s'</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:117" class="idref" href="#Hpr:117"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:115"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr':118" class="idref" href="#Hpr':118"><span class="id" title="binder">Hpr'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':116"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="to:119" class="idref" href="#to:119"><span class="id" title="binder">to</span></a> <a id="inter:120" class="idref" href="#inter:120"><span class="id" title="binder">inter</span></a> <a id="from:121" class="idref" href="#from:121"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhist:122" class="idref" href="#Hhist:122"><span class="id" title="binder">Hhist</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:115"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:120"><span class="id" title="variable">inter</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:121"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':116"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:120"><span class="id" title="variable">inter</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:121"><span class="id" title="variable">from</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:123" class="idref" href="#Hdif:123"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:119"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:121"><span class="id" title="variable">from</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:124" class="idref" href="#a:124"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsync:125" class="idref" href="#Hsync:125"><span class="id" title="binder">Hsync</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:115"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':116"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:120"><span class="id" title="variable">inter</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:119"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:121"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:124"><span class="id" title="variable">a</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:126" class="idref" href="#res:126"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:115"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:124"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:115"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:124"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:126"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:119"><span class="id" title="variable">to</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:121"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':116"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:120"><span class="id" title="variable">inter</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:121"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_empty"><span class="id" title="constructor">finite_ptrace_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">inter</span>) <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hsync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_plan"><span class="id" title="definition">sync_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_nil"><span class="id" title="lemma">map_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_nil"><span class="id" title="lemma">map_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_length"><span class="id" title="lemma">rev_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#eq_history_eq_project"><span class="id" title="lemma">eq_history_eq_project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">a0</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">a0</span>). 2: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">inter</span>) <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_cs</span>. 2: <span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hsync</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_plan"><span class="id" title="definition">sync_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_cons"><span class="id" title="lemma">map_eq_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a1</span> [<span class="id" title="var">tl</span> [<span class="id" title="var">H0</span> [<span class="id" title="var">Hh</span> <span class="id" title="var">Htl</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_cons"><span class="id" title="lemma">map_eq_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sa</span> [<span class="id" title="var">tls</span> [<span class="id" title="var">H0</span> [<span class="id" title="var">Hh'</span> <span class="id" title="var">Htl'</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">eq_cs_orig</span> := <span class="id" title="var">eq_cs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">sa</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tls</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tls</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. 2: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_eq_app"><span class="id" title="lemma">rev_eq_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">eq_cs'</span> := <span class="id" title="var">eq_cs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history"><span class="id" title="lemma">unfold_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hecs</span>: <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">sa</span> <span class="id" title="var">from</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#eq_history_eq_project"><span class="id" title="lemma">eq_history_eq_project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">sa</span> <span class="id" title="var">from</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinsa</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">sa</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">inter</span>) <span class="id" title="var">from</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_cs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_elt"><span class="id" title="lemma">in_elt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">label_a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">input_a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_vtrans</span>. <span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lift_to_receive_item"><span class="id" title="definition">lift_to_receive_item</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hh'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hh'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#lift_to_composite_plan_item"><span class="id" title="definition">lift_to_composite_plan_item</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hh</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinp</span>: <span class="id" title="var">input_a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">label_a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">input_a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">input_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#option_protocol_message_Some"><span class="id" title="lemma">option_protocol_message_Some</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">inter</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">from</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#sent_component_protocol_composed"><span class="id" title="lemma">sent_component_protocol_composed</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.has_been_sent_capabilities"><span class="id" title="variable">has_been_sent_capabilities</span></a> (<span class="id" title="keyword">fun</span> <a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#m:127"><span class="id" title="variable">m</span></a>)) <span class="id" title="var">s'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hope</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hope</span> <span class="id" title="var">inter</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#send_oracle"><span class="id" title="definition">send_oracle</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#Is_true_eq_left"><span class="id" title="lemma">Is_true_eq_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinsa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_eqb"><span class="id" title="definition">state_eqb</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec_if_true"><span class="id" title="lemma">eq_dec_if_true</span></a>. <span class="id" title="var">all</span> : <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.Equivocation.html#received_component_protocol_composed"><span class="id" title="lemma">received_component_protocol_composed</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> (<a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> (<span class="id" title="keyword">fun</span> <a id="m:130" class="idref" href="#m:130"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#m:129"><span class="id" title="variable">m</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.has_been_received_capabilities"><span class="id" title="variable">has_been_received_capabilities</span></a> <span class="id" title="var">s'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hope</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hope</span> <span class="id" title="var">inter</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#receive_oracle"><span class="id" title="definition">receive_oracle</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_False"><span class="id" title="lemma">decide_False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#Is_true_eq_left"><span class="id" title="lemma">Is_true_eq_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_eqb"><span class="id" title="definition">state_eqb</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#eq_dec_if_true"><span class="id" title="lemma">eq_dec_if_true</span></a>. <span class="id" title="var">all</span> : <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#no_bottom_in_history"><span class="id" title="lemma">no_bottom_in_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinsa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">input_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">s0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition_destination"><span class="id" title="lemma">protocol_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hs0</span> : <span class="id" title="var">s0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <span class="id" title="var">s</span> <span class="id" title="var">to</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">sa</span> <span class="id" title="var">from</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Honefold</span>: <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s0</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s0</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sa</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_same"><span class="id" title="lemma">project_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_cs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_cons"><span class="id" title="lemma">unfold_history_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#no_bottom_in_history"><span class="id" title="lemma">no_bottom_in_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinsa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneed</span> : <span class="id" title="var">s0</span> <span class="id" title="var">inter</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span> <span class="id" title="var">inter</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a>(<span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">inter</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hhist</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">eq_cs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">tls</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_cs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">inter</span>) <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s0</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_plan"><span class="id" title="definition">sync_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Htl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Honefold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_cs'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_inv_tail"><span class="id" title="lemma">app_inv_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_inj_tail"><span class="id" title="lemma">app_inj_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Honefold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_cs'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">tls</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">tls</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">eq_cs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_vtrans</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_extend"><span class="id" title="constructor">finite_ptrace_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_empty"><span class="id" title="constructor">finite_ptrace_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition_destination"><span class="id" title="lemma">protocol_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_vtrans</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHa</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">IHa</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#fold_right_app"><span class="id" title="lemma">fold_right_app</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_vtrans</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (@<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_folder_additive"><span class="id" title="lemma">apply_plan_folder_additive</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s0</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">a0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[{|</span></a> <a class="idref" href="CasperCBC.VLSM.Common.html#l"><span class="id" title="projection">l</span></a> := <span class="id" title="var">label_a</span>; <a class="idref" href="CasperCBC.VLSM.Common.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <a class="idref" href="CasperCBC.VLSM.Common.html#destination"><span class="id" title="projection">destination</span></a> := <span class="id" title="var">s0</span>; <a class="idref" href="CasperCBC.VLSM.Common.html#output"><span class="id" title="projection">output</span></a> := <span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hadd</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<span class="id" title="keyword">let</span> (<a id="final:133" class="idref" href="#final:133"><span class="id" title="binder">final</span></a>, <a id="items:134" class="idref" href="#items:134"><span class="id" title="binder">items</span></a>) := ?<span class="id" title="var">f</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>) <span class="id" title="var">to</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tr'</span>, <span class="id" title="var">dest'</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eqf2</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<span class="id" title="keyword">let</span> (<a id="final:137" class="idref" href="#final:137"><span class="id" title="binder">final</span></a>, <a id="items:138" class="idref" href="#items:138"><span class="id" title="binder">items</span></a>) := ?<span class="id" title="var">f</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span>) <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Hadd</span> <span class="id" title="keyword">with</span> ?<span class="id" title="var">f1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">f</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We look for suitable projections among the honest validators 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="get_candidates" class="idref" href="#get_candidates"><span class="id" title="definition">get_candidates</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:139" class="idref" href="#s:139"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#component_list"><span class="id" title="abbreviation">component_list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:139"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:139"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">state_lt'_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">state_lt_ext_dec</span>.<br/>

<br/>
</div>

<div class="doc">
Retain only projections which are maximal, i.e, no other projections
       compare greater to them. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="get_topmost_candidates" class="idref" href="#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:140" class="idref" href="#s:140"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:141" class="idref" href="#target:141"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a> (<span class="id" title="keyword">fun</span> <a id="s:142" class="idref" href="#s:142"><span class="id" title="binder">s</span></a> <a id="s':143" class="idref" href="#s':143"><span class="id" title="binder">s'</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:141"><span class="id" title="variable">target</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:142"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:141"><span class="id" title="variable">target</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':143"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:141"><span class="id" title="variable">target</span></a>))) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:140"><span class="id" title="variable">s</span></a>).<br/>

<br/>
</div>

<div class="doc">
If <tt>i</tt> is honest, all candidate projections onto <tt>i</tt> compare less than
       <tt>(s i)</tt> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="honest_self_projections_maximal1" class="idref" href="#honest_self_projections_maximal1"><span class="id" title="lemma">honest_self_projections_maximal1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:144" class="idref" href="#s:144"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:145" class="idref" href="#Hpr:145"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:144"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:146" class="idref" href="#i:146"><span class="id" title="binder">i</span></a> <a id="j:147" class="idref" href="#j:147"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhonest:148" class="idref" href="#Hhonest:148"><span class="id" title="binder">Hhonest</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:146"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:144"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:146"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:147"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:146"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:144"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:146"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="i:150" class="idref" href="#i:150"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:149"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_si</span>;[<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsnb</span> <span class="id" title="var">i</span>);<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_pji</span>;[<span class="id" title="tactic">left</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>) (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)));<span class="id" title="tactic">right</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_si</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_pji</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">s</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#State'"><span class="id" title="constructor">State'</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_states'"><span class="id" title="lemma">in_cobs_states'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#state_obs_present"><span class="id" title="lemma">state_obs_present</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#refold_simp_lv_observations1"><span class="id" title="lemma">refold_simp_lv_observations1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsnb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_pji</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhonest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhonest</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Similar statement, stating a &lt;= relation with <tt>project (s i) i</tt>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="honest_self_projections_maximal2" class="idref" href="#honest_self_projections_maximal2"><span class="id" title="lemma">honest_self_projections_maximal2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:151" class="idref" href="#s:151"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:152" class="idref" href="#Hpr:152"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:151"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:153" class="idref" href="#i:153"><span class="id" title="binder">i</span></a> <a id="j:154" class="idref" href="#j:154"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhonest:155" class="idref" href="#Hhonest:155"><span class="id" title="binder">Hhonest</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:151"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:154"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:154"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:153"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsnb</span> : <span class="id" title="keyword">forall</span> (<a id="i:157" class="idref" href="#i:157"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:156"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_si</span>;[<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsnb</span> <span class="id" title="var">i</span>);<span class="id" title="tactic">congruence</span>|]. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_si</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_self_projections_maximal1"><span class="id" title="lemma">honest_self_projections_maximal1</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hhonest</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_pii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_pji</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_pji</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hh</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_bottom"><span class="id" title="lemma">unfold_history_bottom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hh</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_pii</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_pji</span>;[<span class="id" title="tactic">right</span>;<span class="id" title="tactic">left</span>;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_pji</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span>));[<span class="id" title="tactic">left</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">left1</span> [<span class="id" title="var">right1</span> <span class="id" title="var">Heq1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history"><span class="id" title="lemma">unfold_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq1'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_cons"><span class="id" title="lemma">unfold_history_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq1</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">left1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="honest_always_candidate_for_self" class="idref" href="#honest_always_candidate_for_self"><span class="id" title="lemma">honest_always_candidate_for_self</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:158" class="idref" href="#s:158"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:159" class="idref" href="#Hpr:159"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:158"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:160" class="idref" href="#i:160"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhonest:161" class="idref" href="#Hhonest:161"><span class="id" title="binder">Hhonest</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:160"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:158"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:158"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:160"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:158"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:160"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Heqj</span> <span class="id" title="var">Hinj</span>]]. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_self_projections_maximal2"><span class="id" title="lemma">honest_self_projections_maximal2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hhonest</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#history_no_self_reference"><span class="id" title="lemma">history_no_self_reference</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext_antisymmetric"><span class="id" title="lemma">state_lt_ext_antisymmetric</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="all_candidates_for_honest_equiv" class="idref" href="#all_candidates_for_honest_equiv"><span class="id" title="lemma">all_candidates_for_honest_equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:162" class="idref" href="#s:162"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:163" class="idref" href="#Hpr:163"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:162"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:164" class="idref" href="#i:164"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhonest:165" class="idref" href="#Hhonest:165"><span class="id" title="binder">Hhonest</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:164"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:162"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="s':166" class="idref" href="#s':166"><span class="id" title="binder">s'</span></a> : (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>)), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':166"><span class="id" title="variable">s'</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:164"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':166"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:164"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:162"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:164"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:164"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">H</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">i</span>));[<span class="id" title="tactic">intuition</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Heqj</span> <span class="id" title="var">Hj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_self_projections_maximal2"><span class="id" title="lemma">honest_self_projections_maximal2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hhonest</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hh</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Find the state we want to sync to.
     Choose a candidate for which syncing is valid. If none exists, default to your
     own projection. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="get_matching_state" class="idref" href="#get_matching_state"><span class="id" title="definition">get_matching_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:167" class="idref" href="#s:167"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="to:168" class="idref" href="#to:168"><span class="id" title="binder">to</span></a> <a id="from:169" class="idref" href="#from:169"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="candidates:170" class="idref" href="#candidates:170"><span class="id" title="binder">candidates</span></a> := (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:167"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:169"><span class="id" title="variable">from</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="found:172" class="idref" href="#found:172"><span class="id" title="binder">found</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">List.find</span></a> (<span class="id" title="keyword">fun</span> <a id="s':171" class="idref" href="#s':171"><span class="id" title="binder">s'</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:169"><span class="id" title="variable">from</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:167"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:168"><span class="id" title="variable">to</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:169"><span class="id" title="variable">from</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':171"><span class="id" title="variable">s'</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#candidates:170"><span class="id" title="variable">candidates</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#found:172"><span class="id" title="variable">found</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s'</span> =&gt; <span class="id" title="var">s'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:167"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:168"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="get_matching_state_correct1" class="idref" href="#get_matching_state_correct1"><span class="id" title="lemma">get_matching_state_correct1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:174" class="idref" href="#s:174"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="to:175" class="idref" href="#to:175"><span class="id" title="binder">to</span></a> <a id="from:176" class="idref" href="#from:176"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="inter:177" class="idref" href="#inter:177"><span class="id" title="binder">inter</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:175"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:176"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:177"><span class="id" title="variable">inter</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:177"><span class="id" title="variable">inter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:175"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:177"><span class="id" title="variable">inter</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:174"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="s':179" class="idref" href="#s':179"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">from</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':178"><span class="id" title="variable">s'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq_find</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq_find</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">component_list</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter</span> <span class="id" title="var">Hinter</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inter</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">to</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="get_matching_state_correct2" class="idref" href="#get_matching_state_correct2"><span class="id" title="lemma">get_matching_state_correct2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:180" class="idref" href="#s:180"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="to:181" class="idref" href="#to:181"><span class="id" title="binder">to</span></a> <a id="from:182" class="idref" href="#from:182"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:183" class="idref" href="#Hin:183"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:181"><span class="id" title="variable">to</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:180"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="inter:184" class="idref" href="#inter:184"><span class="id" title="binder">inter</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:184"><span class="id" title="variable">inter</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:180"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:180"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:181"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:182"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:180"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:184"><span class="id" title="variable">inter</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct1"><span class="id" title="lemma">get_matching_state_correct1</span></a> <span class="id" title="var">s</span> <span class="id" title="var">to</span> <span class="id" title="var">from</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter</span> <span class="id" title="var">Hinter</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinter</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmatch</span> <span class="id" title="var">Hinter</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinter</span>;[<span class="id" title="tactic">subst</span> <span class="id" title="var">to</span>;<span class="id" title="tactic">intuition</span>|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The following results are used to show that there exists at least
       one maximal candidate. We do this by relating the comparison operator
       to comparing history lengths between candidates. The maximal candidate
       will have the longest <tt>from</tt> history. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="top_history" class="idref" href="#top_history"><span class="id" title="definition">top_history</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:185" class="idref" href="#s:185"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:186" class="idref" href="#from:186"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="history_lengths:188" class="idref" href="#history_lengths:188"><span class="id" title="binder">history_lengths</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="s':187" class="idref" href="#s':187"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':187"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:186"><span class="id" title="variable">from</span></a>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:185"><span class="id" title="variable">s</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="max_length:189" class="idref" href="#max_length:189"><span class="id" title="binder">max_length</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#list_max"><span class="id" title="definition">list_max</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#history_lengths:188"><span class="id" title="variable">history_lengths</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="s':190" class="idref" href="#s':190"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.EqNat.html#beq_nat"><span class="id" title="abbreviation">beq_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':190"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:186"><span class="id" title="variable">from</span></a>)) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#max_length:189"><span class="id" title="variable">max_length</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:185"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="top_history_something" class="idref" href="#top_history_something"><span class="id" title="lemma">top_history_something</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:191" class="idref" href="#s:191"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H:192" class="idref" href="#H:192"><span class="id" title="binder">H</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:191"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:193" class="idref" href="#from:193"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s':194" class="idref" href="#s':194"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':194"><span class="id" title="variable">s'</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#top_history"><span class="id" title="definition">top_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:191"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:193"><span class="id" title="variable">from</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#top_history"><span class="id" title="definition">top_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#list_max_exists2"><span class="id" title="lemma">list_max_exists2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="s':196" class="idref" href="#s':196"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':195"><span class="id" title="variable">s'</span></a> <span class="id" title="var">from</span>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <span class="id" title="var">s</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmax</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="s':198" class="idref" href="#s':198"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':197"><span class="id" title="variable">s'</span></a> <span class="id" title="var">from</span>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <span class="id" title="var">s</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_nil"><span class="id" title="lemma">map_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_nil"><span class="id" title="lemma">map_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.EqNat.html#beq_nat_true_iff"><span class="id" title="abbreviation">beq_nat_true_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="topmost_candidates_nonempty" class="idref" href="#topmost_candidates_nonempty"><span class="id" title="lemma">topmost_candidates_nonempty</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:199" class="idref" href="#s:199"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:200" class="idref" href="#from:200"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hne:201" class="idref" href="#Hne:201"><span class="id" title="binder">Hne</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:199"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s':202" class="idref" href="#s':202"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':202"><span class="id" title="variable">s'</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:199"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:200"><span class="id" title="variable">from</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#top_history_something"><span class="id" title="lemma">top_history_something</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hne</span> <span class="id" title="var">from</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Htop_hist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htop_hist</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> <span class="id" title="var">Htop</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#top_history"><span class="id" title="definition">top_history</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htop</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Arith.EqNat.html#beq_nat_true_iff"><span class="id" title="abbreviation">beq_nat_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#list_max_le"><span class="id" title="lemma">list_max_le</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="s'0:204" class="idref" href="#s'0:204"><span class="id" title="binder">s'0</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s'0:203"><span class="id" title="variable">s'0</span></a> <span class="id" title="var">from</span>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <span class="id" title="var">s</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmax</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmax</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmax</span> <span class="id" title="var">_</span>]. <span class="id" title="var">spec</span> <span class="id" title="var">Hmax</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmax</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">x</span> <span class="id" title="var">from</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmax</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Htop</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_bottom"><span class="id" title="lemma">unfold_history_bottom</span></a>;<span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_cons"><span class="id" title="lemma">unfold_history_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="tactic">left</span> [<span class="id" title="tactic">right</span> <span class="id" title="var">Hhist</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="tactic">left</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="tactic">right</span>) <span class="id" title="keyword">with</span> (<span class="id" title="tactic">left</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="tactic">right</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hhist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history"><span class="id" title="lemma">unfold_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">x</span> <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span>) <span class="id" title="var">from</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hunf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunf</span> <span class="id" title="tactic">left</span> <span class="id" title="tactic">right</span> <span class="id" title="var">Hhist</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hunf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">x</span> <span class="id" title="var">from</span>) <span class="id" title="var">from</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span>) <span class="id" title="var">from</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hhist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">x</span> <span class="id" title="var">from</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_b</span>;[<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_cons"><span class="id" title="lemma">unfold_history_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_bottom"><span class="id" title="lemma">unfold_history_bottom</span></a>;<span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span>) <span class="id" title="var">from</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_cons"><span class="id" title="lemma">unfold_history_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>). <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_b</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_b2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="get_matching_state_correct3" class="idref" href="#get_matching_state_correct3"><span class="id" title="lemma">get_matching_state_correct3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:205" class="idref" href="#s:205"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="to:206" class="idref" href="#to:206"><span class="id" title="binder">to</span></a> <a id="from:207" class="idref" href="#from:207"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:208" class="idref" href="#Hin:208"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:206"><span class="id" title="variable">to</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:205"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hcomp:211" class="idref" href="#Hcomp:211"><span class="id" title="binder">Hcomp</span></a> : <span class="id" title="keyword">forall</span> (<a id="i:209" class="idref" href="#i:209"><span class="id" title="binder">i</span></a> <a id="j:210" class="idref" href="#j:210"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:209"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:205"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:210"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:205"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:207"><span class="id" title="variable">from</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:209"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:207"><span class="id" title="variable">from</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:210"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:207"><span class="id" title="variable">from</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:206"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:207"><span class="id" title="variable">from</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:207"><span class="id" title="variable">from</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="s':213" class="idref" href="#s':213"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">from</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':212"><span class="id" title="variable">s'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">to</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find_none"><span class="id" title="lemma">find_none</span></a> (<span class="id" title="keyword">fun</span> <a id="s':215" class="idref" href="#s':215"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">from</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':214"><span class="id" title="variable">s'</span></a>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hnone</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>) <span class="id" title="var">eq_find</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">Hk</span> <span class="id" title="var">Hk'</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#topmost_candidates_nonempty"><span class="id" title="lemma">topmost_candidates_nonempty</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Htop</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'</span> <span class="id" title="var">Htop</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hnone</span> <span class="id" title="var">s'</span> <span class="id" title="var">Htop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnone</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnone</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htop</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hins'</span> <span class="id" title="var">Htop</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hins'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hins'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Heql</span> <span class="id" title="var">Hinl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcomp</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span> <span class="id" title="var">Hk'</span> <span class="id" title="var">Hinl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Htop</span> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Htop</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcomp</span>|<span class="id" title="var">Hcomp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcomp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext_proj"><span class="id" title="lemma">state_lt_ext_proj</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcomp</span>|<span class="id" title="var">Hcomp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">from</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">l</span>) <span class="id" title="var">from</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext_tran"><span class="id" title="lemma">state_lt_ext_tran</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">s2</span> := (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>) <span class="id" title="var">from</span>)); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext_proj"><span class="id" title="lemma">state_lt_ext_proj</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_matching_state_for_honest" class="idref" href="#get_matching_state_for_honest"><span class="id" title="lemma">get_matching_state_for_honest</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:216" class="idref" href="#s:216"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:217" class="idref" href="#Hpr:217"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:216"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:218" class="idref" href="#i:218"><span class="id" title="binder">i</span></a> <a id="j:219" class="idref" href="#j:219"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhonest:220" class="idref" href="#Hhonest:220"><span class="id" title="binder">Hhonest</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:218"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:216"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:219"><span class="id" title="variable">j</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:218"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:218"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:218"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:218"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="s':222" class="idref" href="#s':222"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':221"><span class="id" title="variable">s'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Hcomp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#all_candidates_for_honest_equiv"><span class="id" title="lemma">all_candidates_for_honest_equiv</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span> <span class="id" title="var">Hhonest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">s0</span> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find_none"><span class="id" title="lemma">find_none</span></a> (<span class="id" title="keyword">fun</span> <a id="s':224" class="idref" href="#s':224"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':223"><span class="id" title="variable">s'</span></a>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hnone</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eq_find</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hnone</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_always_candidate_for_self"><span class="id" title="lemma">honest_always_candidate_for_self</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hnone</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_self_projections_maximal1"><span class="id" title="lemma">honest_self_projections_maximal1</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hhonest</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="get_matching_plan" class="idref" href="#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:225" class="idref" href="#s:225"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:226" class="idref" href="#from:226"><span class="id" title="binder">from</span></a> <a id="to:227" class="idref" href="#to:227"><span class="id" title="binder">to</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:225"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:225"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:227"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:226"><span class="id" title="variable">from</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:227"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:226"><span class="id" title="variable">from</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sync_some" class="idref" href="#sync_some"><span class="id" title="lemma">sync_some</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:228" class="idref" href="#s:228"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:229" class="idref" href="#from:229"><span class="id" title="binder">from</span></a> <a id="to:230" class="idref" href="#to:230"><span class="id" title="binder">to</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:228"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:228"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:230"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:229"><span class="id" title="variable">from</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:230"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:229"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="s':232" class="idref" href="#s':232"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">from</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':231"><span class="id" title="variable">s'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">eq_find</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s0</span> <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_ltb'"><span class="id" title="definition">state_ltb'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_true"><span class="id" title="lemma">bool_decide_eq_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq_find</span>|<span class="id" title="var">eq_find</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hb</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_bottom"><span class="id" title="lemma">unfold_history_bottom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hb</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_empty"><span class="id" title="lemma">complete_suffix_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">eq_find'</span> := <span class="id" title="var">eq_find</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pref</span> [<span class="id" title="var">suff</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history"><span class="id" title="lemma">unfold_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsufhist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsufhist</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#unfold_history_cons"><span class="id" title="lemma">unfold_history_cons</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#no_bottom_in_history"><span class="id" title="lemma">no_bottom_in_history</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.idec"><span class="id" title="variable">idec</span></a> <span class="id" title="var">s0</span> <span class="id" title="var">_</span> <span class="id" title="var">from</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">discriminate</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_matching_plan_effect" class="idref" href="#get_matching_plan_effect"><span class="id" title="lemma">get_matching_plan_effect</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:233" class="idref" href="#s:233"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:234" class="idref" href="#Hprs:234"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:233"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s':235" class="idref" href="#s':235"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:236" class="idref" href="#from:236"><span class="id" title="binder">from</span></a> <a id="to:237" class="idref" href="#to:237"><span class="id" title="binder">to</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:238" class="idref" href="#Hdif:238"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:236"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:237"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hmatch:239" class="idref" href="#Hmatch:239"><span class="id" title="binder">Hmatch</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:233"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:237"><span class="id" title="variable">to</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:236"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':235"><span class="id" title="variable">s'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:240" class="idref" href="#res:240"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:233"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:233"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:236"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:237"><span class="id" title="variable">to</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:233"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:233"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:236"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:237"><span class="id" title="variable">to</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:240"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:237"><span class="id" title="variable">to</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:236"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':235"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:236"><span class="id" title="variable">from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">to</span> <span class="id" title="var">from</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_suf</span>;[|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">eq_suf_original</span> := <span class="id" title="var">eq_suf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#one_sender_receive_protocol"><span class="id" title="lemma">one_sender_receive_protocol</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s</span> <span class="id" title="var">Hprs</span> <span class="id" title="var">Hprs</span> <span class="id" title="var">to</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <a id="s'0:242" class="idref" href="#s'0:242"><span class="id" title="binder">s'0</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a> =&gt; <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">from</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s'0:241"><span class="id" title="variable">s'0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#find_some"><span class="id" title="lemma">find_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq_find</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq_find</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_candidates"><span class="id" title="definition">get_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">component_list</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_find</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq_find</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter</span> [<span class="id" title="var">Hinter</span> <span class="id" title="var">_</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hone</span> <span class="id" title="var">inter</span> <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hone</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hone</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_plan"><span class="id" title="definition">sync_plan</span></a> <span class="id" title="var">to</span> <span class="id" title="var">from</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hone</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmatch</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf_original</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hinter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf_original</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_suf_original</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hinter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmatch</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hempty</span>: <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_inv_tail"><span class="id" title="lemma">app_inv_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_suf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hempty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_plan"><span class="id" title="definition">sync_plan</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_empty"><span class="id" title="lemma">finite_protocol_plan_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmatch</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_some"><span class="id" title="lemma">sync_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Results of this type are useful for quickly unpacking
       information about the constructed plan. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="get_matching_plan_info" class="idref" href="#get_matching_plan_info"><span class="id" title="lemma">get_matching_plan_info</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:243" class="idref" href="#s:243"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:244" class="idref" href="#from:244"><span class="id" title="binder">from</span></a> <a id="to:245" class="idref" href="#to:245"><span class="id" title="binder">to</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ai:246" class="idref" href="#ai:246"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#plan_item"><span class="id" title="record">plan_item</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:247" class="idref" href="#Hin:247"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:246"><span class="id" title="variable">ai</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:243"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:244"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:245"><span class="id" title="variable">to</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="component:248" class="idref" href="#component:248"><span class="id" title="binder">component</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:246"><span class="id" title="variable">ai</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="label:249" class="idref" href="#label:249"><span class="id" title="binder">label</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:246"><span class="id" title="variable">ai</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#label:249"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#component:248"><span class="id" title="variable">component</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#to:245"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="so:250" class="idref" href="#so:250"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:246"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:244"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#so:250"><span class="id" title="variable">so</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:244"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#so:250"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:243"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:244"><span class="id" title="variable">from</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <span class="id" title="var">s</span> <span class="id" title="var">to</span> <span class="id" title="var">from</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s0</span> <span class="id" title="var">to</span> <span class="id" title="var">from</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix"><span class="id" title="definition">complete_suffix</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s0</span> <span class="id" title="var">from</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">to</span>) <span class="id" title="var">from</span>)) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_hist</span>;[|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">eq_sync</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#sync_plan"><span class="id" title="definition">sync_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">Hlift</span> <span class="id" title="var">Hinx</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> [<span class="id" title="var">Hlift_rec</span> <span class="id" title="var">Hinso</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lift_to_receive_item"><span class="id" title="definition">lift_to_receive_item</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlift_rec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#lift_to_composite_plan_item"><span class="id" title="definition">lift_to_composite_plan_item</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlift</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlift</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">so</span>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_rev"><span class="id" title="lemma">in_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListExtras.html#complete_suffix_correct"><span class="id" title="lemma">complete_suffix_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_hist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">so</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#get_history"><span class="id" title="definition">get_history</span></a> <span class="id" title="var">s0</span> <span class="id" title="var">from</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_hist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct1"><span class="id" title="lemma">get_matching_state_correct1</span></a> <span class="id" title="var">s</span> <span class="id" title="var">to</span> <span class="id" title="var">from</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinter</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter</span> [<span class="id" title="var">Heq_inter</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_inter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_history_in_observations"><span class="id" title="lemma">in_history_in_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inter</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Construct a plan in which indices in <tt>li</tt> sync their
       <tt>from</tt> projections. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="get_receives_for" class="idref" href="#get_receives_for"><span class="id" title="definition">get_receives_for</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:251" class="idref" href="#s:251"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:252" class="idref" href="#li:252"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:253" class="idref" href="#from:253"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="matching_plans:254" class="idref" href="#matching_plans:254"><span class="id" title="binder">matching_plans</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:251"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:253"><span class="id" title="variable">from</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:252"><span class="id" title="variable">li</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">List.concat</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#matching_plans:254"><span class="id" title="variable">matching_plans</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="get_receives_for_info" class="idref" href="#get_receives_for_info"><span class="id" title="lemma">get_receives_for_info</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:255" class="idref" href="#s:255"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:256" class="idref" href="#li:256"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:257" class="idref" href="#from:257"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ai:258" class="idref" href="#ai:258"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:259" class="idref" href="#Hin:259"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:258"><span class="id" title="variable">ai</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:255"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:256"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:257"><span class="id" title="variable">from</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="component:260" class="idref" href="#component:260"><span class="id" title="binder">component</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:258"><span class="id" title="variable">ai</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="label:261" class="idref" href="#label:261"><span class="id" title="binder">label</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:258"><span class="id" title="variable">ai</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#label:261"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#component:260"><span class="id" title="variable">component</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:256"><span class="id" title="variable">li</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="so:262" class="idref" href="#so:262"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:258"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:257"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#so:262"><span class="id" title="variable">so</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:257"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#so:262"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:255"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:257"><span class="id" title="variable">from</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_concat"><span class="id" title="lemma">in_concat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">smaller</span> [<span class="id" title="var">Hin_smaller</span> <span class="id" title="var">Hin_ai</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_smaller</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_smaller</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Heq_matching</span> <span class="id" title="var">Hini</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq_matching</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_ai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan_info"><span class="id" title="lemma">get_matching_plan_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_ai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_ai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hin_ai</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hin_ai</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_ai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hin_ai</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_ai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> <span class="id" title="var">Hso</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">so</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_receives_for_correct" class="idref" href="#get_receives_for_correct"><span class="id" title="lemma">get_receives_for_correct</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:263" class="idref" href="#s:263"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:264" class="idref" href="#Hpr:264"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:263"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:265" class="idref" href="#li:265"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:266" class="idref" href="#from:266"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnodup:267" class="idref" href="#Hnodup:267"><span class="id" title="binder">Hnodup</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:265"><span class="id" title="variable">li</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:268" class="idref" href="#Hnf:268"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:266"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:265"><span class="id" title="variable">li</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:269" class="idref" href="#res:269"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:263"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:263"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:265"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:266"><span class="id" title="variable">from</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:263"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:263"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:265"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:266"><span class="id" title="variable">from</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:270" class="idref" href="#i:270"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:270"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:265"><span class="id" title="variable">li</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:269"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:270"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:266"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:263"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:270"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:266"><span class="id" title="variable">from</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:266"><span class="id" title="variable">from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">li</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_empty"><span class="id" title="lemma">finite_protocol_plan_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat_app"><span class="id" title="lemma">concat_app</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="lemma">apply_plan_app</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>) <span class="id" title="var">li</span>))) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_long</span>, <span class="id" title="var">res_long</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span> <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_short</span>, <span class="id" title="var">res_short</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hres_long</span> : <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span>) <span class="id" title="var">li</span>)))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_long</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hres_short</span> : <span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> ((<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span> <span class="id" title="var">x</span>)))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnodup_li</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <span class="id" title="var">li</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_rev"><span class="id" title="lemma">NoDup_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_app_distr"><span class="id" title="lemma">rev_app_distr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_cons_iff"><span class="id" title="lemma">NoDup_cons_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hnodup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_rev"><span class="id" title="lemma">NoDup_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnf_li</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">from</span> <span class="id" title="var">li</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnxf</span> : <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">from</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnx_li</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">li</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_split"><span class="id" title="lemma">in_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lf</span> [<span class="id" title="var">rt</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_remove_2"><span class="id" title="lemma">NoDup_remove_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHli</span> <span class="id" title="var">Hnodup_li</span> <span class="id" title="var">Hnf_li</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrem</span> : <span class="id" title="keyword">forall</span> (<a id="i:272" class="idref" href="#i:272"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:271"><span class="id" title="variable">i</span></a> <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:271"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:271"><span class="id" title="variable">i</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#irrelevant_components"><span class="id" title="lemma">irrelevant_components</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">some</span> [<span class="id" title="var">Hproj</span> <span class="id" title="var">Hinsome</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinsome</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinsome</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pi</span> [<span class="id" title="var">Hlabel</span> <span class="id" title="var">Inpi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_concat"><span class="id" title="lemma">in_concat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Inpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Inpi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lpi</span> [<span class="id" title="var">Hlpi</span> <span class="id" title="var">Hinlpi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlpi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Hmatch</span> <span class="id" title="var">Hwhat</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmatch</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinlpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan_info"><span class="id" title="lemma">get_matching_plan_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinlpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlabel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hproj</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hinlpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHli</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHli_proto</span> <span class="id" title="var">IHli_proj</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpr_long</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli_proto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">res_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmatch_idx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<span class="id" title="var">P</span>:=<span class="id" title="keyword">fun</span> <a id="n:274" class="idref" href="#n:274"><span class="id" title="binder">n</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#n:273"><span class="id" title="variable">n</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan"><span class="id" title="definition">get_matching_plan</span></a> <span class="id" title="var">s</span> <span class="id" title="var">from</span> <span class="id" title="var">x</span>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">smth</span> [<span class="id" title="var">Hproj</span> <span class="id" title="var">Hinsmth</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinsmth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinsmth</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pi</span> [<span class="id" title="var">Hlabel</span> <span class="id" title="var">Hinpi</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan_info"><span class="id" title="lemma">get_matching_plan_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlabel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinpi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hinpi</span> <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrem2</span> : <span class="id" title="keyword">forall</span> (<a id="i:276" class="idref" href="#i:276"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:275"><span class="id" title="variable">i</span></a> <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:275"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">res_short</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:275"><span class="id" title="variable">i</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span>; [|<span class="id" title="tactic">intuition</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">res_long</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">res_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#irrelevant_components"><span class="id" title="lemma">irrelevant_components</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmatch_idx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmatch_idx</span> <span class="id" title="var">i</span> <span class="id" title="var">contra</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_plan_effect"><span class="id" title="lemma">get_matching_plan_effect</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">from</span>) <span class="id" title="var">from</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Heff</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heff</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heff</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heff</span> <span class="id" title="var">Heff2</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#relevant_components"><span class="id" title="lemma">relevant_components</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s'</span> := <span class="id" title="var">res_long</span>) (<span class="id" title="var">li0</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heff</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 4 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrem</span> <span class="id" title="var">x</span> <span class="id" title="var">Hnx_li</span>). <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heff</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heff_proto</span> <span class="id" title="var">Heff_proj</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHli_proto</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHli_proj</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHli_proj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrem2</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hrem2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hres_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">res_short</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">res_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heff_proj</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Heff_proj</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heff_proj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heff_proj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heff2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heff_proj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heff_proj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_receive_plan" class="idref" href="#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:277" class="idref" href="#a:277"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="ai:278" class="idref" href="#ai:278"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:278"><span class="id" title="variable">ai</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:277"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:278"><span class="id" title="variable">ai</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_receive_plan_app" class="idref" href="#is_receive_plan_app"><span class="id" title="definition">is_receive_plan_app</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:279" class="idref" href="#a:279"><span class="id" title="binder">a</span></a> <a id="b:280" class="idref" href="#b:280"><span class="id" title="binder">b</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:279"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#b:280"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:279"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#b:280"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl</span> <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hl</span> <span class="id" title="var">ai</span>). <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hr</span> <span class="id" title="var">ai</span>). <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">ai</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">ai</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="receive_for_is_receive_plan" class="idref" href="#receive_for_is_receive_plan"><span class="id" title="lemma">receive_for_is_receive_plan</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:281" class="idref" href="#s:281"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="from:282" class="idref" href="#from:282"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="li:283" class="idref" href="#li:283"><span class="id" title="binder">li</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:281"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#li:283"><span class="id" title="variable">li</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:282"><span class="id" title="variable">from</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for_info"><span class="id" title="lemma">get_receives_for_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Receiving plans which don't involve the <tt>j</tt>'th components of nodes
       leave them unaffected. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="receives_neq" class="idref" href="#receives_neq"><span class="id" title="lemma">receives_neq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:284" class="idref" href="#s:284"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:285" class="idref" href="#Hpr:285"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:284"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:286" class="idref" href="#a:286"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpra:287" class="idref" href="#Hpra:287"><span class="id" title="binder">Hpra</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:286"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:288" class="idref" href="#i:288"><span class="id" title="binder">i</span></a> <a id="j:289" class="idref" href="#j:289"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hreceive:290" class="idref" href="#Hreceive:290"><span class="id" title="binder">Hreceive</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:286"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hj:293" class="idref" href="#Hj:293"><span class="id" title="binder">Hj</span></a> : <span class="id" title="keyword">forall</span> (<a id="ai:291" class="idref" href="#ai:291"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:291"><span class="id" title="variable">ai</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:286"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:292" class="idref" href="#m:292"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#message"><span class="id" title="definition">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:291"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#m:292"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#m:292"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:289"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:294" class="idref" href="#res:294"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:286"><span class="id" title="variable">a</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:294"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:288"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:289"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:288"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:289"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpra_long</span> <span class="id" title="var">Hpra_short</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">Hpra_long</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan_app"><span class="id" title="definition">is_receive_plan_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceive</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreceive</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hreceive_long</span> <span class="id" title="var">Hreceive_short</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHa</span> <span class="id" title="var">Hreceive_long</span>); <span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hj</span> <span class="id" title="var">ai</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hj</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="lemma">apply_plan_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">tr_long</span> <span class="id" title="var">res_long</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_folder"><span class="id" title="definition">apply_plan_folder</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">label_a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">res_long</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">input_a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_folder"><span class="id" title="definition">apply_plan_folder</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_trans</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpra_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpra_short</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprtr</span> <span class="id" title="var">Htrans</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> <span class="id" title="var">label_a</span> <span class="id" title="keyword">as</span> <span class="id" title="var">label_a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">label_a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">idx</span> <span class="id" title="var">li</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">li</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_li</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceive_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hreceive_short</span> {| <a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> := <span class="id" title="var">label_a'</span>; <a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> := <span class="id" title="var">input_a</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">Hreceive_short</span> <span class="id" title="tactic">at</span> <span class="id" title="var">bottom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceive_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hreceive_short</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">label_a'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreceive_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">input_a</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_input</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlabel_a'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">eq_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">idx</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_different"><span class="id" title="lemma">project_different</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hj</span> {| <a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> := <span class="id" title="var">label_a'</span>; <a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hj</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m'</span> [<span class="id" title="var">Hsome</span> <span class="id" title="var">Hdif</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsome</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlabel_a'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="relevant_component_transition_lv" class="idref" href="#relevant_component_transition_lv"><span class="id" title="lemma">relevant_component_transition_lv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:295" class="idref" href="#s:295"><span class="id" title="binder">s</span></a> <a id="s':296" class="idref" href="#s':296"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:297" class="idref" href="#Hprs:297"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:295"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs':298" class="idref" href="#Hprs':298"><span class="id" title="binder">Hprs'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':296"><span class="id" title="variable">s'</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="l:299" class="idref" href="#l:299"><span class="id" title="binder">l</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="input:300" class="idref" href="#input:300"><span class="id" title="binder">input</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#message"><span class="id" title="definition">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:301" class="idref" href="#i:301"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#l:299"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsame:302" class="idref" href="#Hsame:302"><span class="id" title="binder">Hsame</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:295"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:301"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#input:300"><span class="id" title="variable">input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':296"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:301"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#input:300"><span class="id" title="variable">input</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hvalid:303" class="idref" href="#Hvalid:303"><span class="id" title="binder">Hvalid</span></a>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#l:299"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:295"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#input:300"><span class="id" title="variable">input</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#l:299"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':296"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#input:300"><span class="id" title="variable">input</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#machine"><span class="id" title="definition">machine</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">lj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lj</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_lj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span> ;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="relevant_components_lv" class="idref" href="#relevant_components_lv"><span class="id" title="lemma">relevant_components_lv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:304" class="idref" href="#s:304"><span class="id" title="binder">s</span></a> <a id="s':305" class="idref" href="#s':305"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:306" class="idref" href="#Hprs:306"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:304"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs':307" class="idref" href="#Hprs':307"><span class="id" title="binder">Hprs'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':305"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:308" class="idref" href="#a:308"><span class="id" title="binder">a</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hrec:309" class="idref" href="#Hrec:309"><span class="id" title="binder">Hrec</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:308"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:310" class="idref" href="#Hpr:310"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:304"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:308"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:311" class="idref" href="#f:311"><span class="id" title="binder">f</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hli:314" class="idref" href="#Hli:314"><span class="id" title="binder">Hli</span></a> : <span class="id" title="keyword">forall</span> (<a id="ai:312" class="idref" href="#ai:312"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:312"><span class="id" title="variable">ai</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:308"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:313" class="idref" href="#m:313"><span class="id" title="binder">m</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#message"><span class="id" title="definition">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:312"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#m:313"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#m:313"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:311"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hsame:316" class="idref" href="#Hsame:316"><span class="id" title="binder">Hsame</span></a> : <span class="id" title="keyword">forall</span> (<a id="i:315" class="idref" href="#i:315"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:304"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:315"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:311"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':305"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:315"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:311"><span class="id" title="variable">f</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res':317" class="idref" href="#res':317"><span class="id" title="binder">res'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':305"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:308"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:318" class="idref" href="#res:318"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:304"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:308"><span class="id" title="variable">a</span></a>) <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':305"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#a:308"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:319" class="idref" href="#i:319"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res':317"><span class="id" title="variable">res'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:319"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:311"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:318"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:319"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:311"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_empty"><span class="id" title="lemma">finite_protocol_plan_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsame</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan_app"><span class="id" title="definition">is_receive_plan_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrec</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hrec_long</span> <span class="id" title="var">Hrec_short</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpr_long</span> <span class="id" title="var">Hpr_short</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="lemma">apply_plan_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_long'</span>, <span class="id" title="var">res_long'</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_short'</span>, <span class="id" title="var">res_short'</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHa</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hli</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hli</span> <span class="id" title="var">ai</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hli</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHa</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Iha_pr</span> <span class="id" title="var">Iha_proj</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="lemma">apply_plan_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_long</span>, <span class="id" title="var">res_long</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">tr_short</span>, <span class="id" title="var">res_short</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_long'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_long'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_short'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">res_short'</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">res_short</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_folder"><span class="id" title="definition">apply_plan_folder</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec_short</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">label_x</span> <span class="id" title="var">input_x</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hprs_long</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hprs'_long</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long'</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">label_x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">res_long'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">input_x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span> : <span class="id" title="var">trans'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">label_x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">res_long</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">input_x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span> : <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_folder"><span class="id" title="definition">apply_plan_folder</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">trans</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_short</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpr_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> <span class="id" title="var">H10</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hprotocol_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H10</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprotocol_valid</span> <span class="id" title="var">Htrans</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">trans</span>, <span class="id" title="var">trans'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">trans</span>, <span class="id" title="var">trans'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">trans</span>, <span class="id" title="var">trans'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">label_x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">label_x</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">trans</span>, <span class="id" title="var">trans'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">label_x</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_label</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrec_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrec_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrec_short</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">input_x</span> <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_input</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_valid"><span class="id" title="definition">protocol_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#vvalid"><span class="id" title="definition">vvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprotocol_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprotocol_valid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> [<span class="id" title="var">b</span> [<span class="id" title="var">c</span> <span class="id" title="var">d</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hli</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">Hli</span> <span class="id" title="tactic">at</span> <span class="id" title="var">bottom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hli</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hli</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m'</span> [<span class="id" title="var">Heqm'</span> <span class="id" title="var">Heqf</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqm'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition"><span class="id" title="definition">protocol_transition</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="keyword">fun</span> <a id="n:321" class="idref" href="#n:321"><span class="id" title="binder">n</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#n:320"><span class="id" title="variable">n</span></a>)) <span class="id" title="var">j</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>)) <span class="id" title="var">j</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#update_state"><span class="id" title="definition">update_state</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>) <span class="id" title="var">j</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">m</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">m</span>))<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprotocol_trans</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprotocol_trans</span> <span class="id" title="var">tmp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#relevant_component_transition_lv"><span class="id" title="lemma">relevant_component_transition_lv</span></a> <span class="id" title="var">res_long</span> <span class="id" title="var">res_long'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrel</span> <span class="id" title="var">Hprs_long</span> <span class="id" title="var">Hprs'_long</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="keyword">fun</span> <a id="n:323" class="idref" href="#n:323"><span class="id" title="binder">n</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.Common.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.IM_index"><span class="id" title="variable">IM_index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#n:322"><span class="id" title="variable">n</span></a>)) <span class="id" title="var">j</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hrel</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Iha_proj</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_extend"><span class="id" title="constructor">finite_ptrace_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#finite_ptrace_empty"><span class="id" title="constructor">finite_ptrace_empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_transition_destination"><span class="id" title="lemma">protocol_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Iha_proj</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">trans'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Iha_proj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Iha_proj</span> <span class="id" title="var">Hprs_long</span> <span class="id" title="var">Hprs'_long</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_same"><span class="id" title="lemma">project_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_same"><span class="id" title="lemma">project_same</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_different"><span class="id" title="lemma">project_different</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project_different"><span class="id" title="lemma">project_different</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="others" class="idref" href="#others"><span class="id" title="definition">others</span></a> (<a id="i:324" class="idref" href="#i:324"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) (<a id="s:325" class="idref" href="#s:325"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.idec"><span class="id" title="variable">idec</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:324"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:325"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="NoDup_others" class="idref" href="#NoDup_others"><span class="id" title="lemma">NoDup_others</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:326" class="idref" href="#i:326"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) (<a id="s:327" class="idref" href="#s:327"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:326"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:327"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_remove_nodup"><span class="id" title="lemma">set_remove_nodup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH_NoDup"><span class="id" title="lemma">GH_NoDup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="others_correct" class="idref" href="#others_correct"><span class="id" title="lemma">others_correct</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:328" class="idref" href="#i:328"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:329" class="idref" href="#s:329"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:328"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:328"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:329"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_remove_2"><span class="id" title="lemma">set_remove_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH_NoDup"><span class="id" title="lemma">GH_NoDup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="get_receives_all" class="idref" href="#get_receives_all"><span class="id" title="definition">get_receives_all</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:330" class="idref" href="#s:330"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lfrom:331" class="idref" href="#lfrom:331"><span class="id" title="binder">lfrom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan"><span class="id" title="definition">vplan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="receive_fors:333" class="idref" href="#receive_fors:333"><span class="id" title="binder">receive_fors</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> (<a id="i:332" class="idref" href="#i:332"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) =&gt; <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:330"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:332"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:330"><span class="id" title="variable">s</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:332"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lfrom:331"><span class="id" title="variable">lfrom</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">List.concat</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_fors:333"><span class="id" title="variable">receive_fors</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="get_receives_all_info" class="idref" href="#get_receives_all_info"><span class="id" title="lemma">get_receives_all_info</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:334" class="idref" href="#s:334"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lfrom:335" class="idref" href="#lfrom:335"><span class="id" title="binder">lfrom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ai:336" class="idref" href="#ai:336"><span class="id" title="binder">ai</span></a> : <a class="idref" href="CasperCBC.VLSM.Plans.html#vplan_item"><span class="id" title="definition">vplan_item</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:337" class="idref" href="#Hin:337"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:336"><span class="id" title="variable">ai</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:334"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lfrom:335"><span class="id" title="variable">lfrom</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="label:338" class="idref" href="#label:338"><span class="id" title="binder">label</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#label_a"><span class="id" title="projection">label_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:336"><span class="id" title="variable">ai</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#label:338"><span class="id" title="variable">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="so:339" class="idref" href="#so:339"><span class="id" title="binder">so</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#state"><span class="id" title="inductive">state</span></a>) (<a id="from:340" class="idref" href="#from:340"><span class="id" title="binder">from</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.Plans.html#input_a"><span class="id" title="projection">input_a</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ai:336"><span class="id" title="variable">ai</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:340"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#so:339"><span class="id" title="variable">so</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:340"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lfrom:335"><span class="id" title="variable">lfrom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:340"><span class="id" title="variable">from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#so:339"><span class="id" title="variable">so</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages"><span class="id" title="definition">cobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:334"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#from:340"><span class="id" title="variable">from</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_concat"><span class="id" title="lemma">in_concat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">smaller</span> [<span class="id" title="var">Hin_smaller</span> <span class="id" title="var">Hin_ai</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_smaller</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_smaller</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">from</span> [<span class="id" title="var">Hrec</span> <span class="id" title="var">Hinfrom</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hrec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_ai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for_info"><span class="id" title="lemma">get_receives_for_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin_ai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_ai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hin_ai</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_ai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> <span class="id" title="var">Hso</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">so</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">from</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_receives_all_protocol" class="idref" href="#get_receives_all_protocol"><span class="id" title="lemma">get_receives_all_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:341" class="idref" href="#s:341"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lfrom:342" class="idref" href="#lfrom:342"><span class="id" title="binder">lfrom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnodup:343" class="idref" href="#Hnodup:343"><span class="id" title="binder">Hnodup</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lfrom:342"><span class="id" title="variable">lfrom</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:344" class="idref" href="#Hprs:344"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:341"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="res:345" class="idref" href="#res:345"><span class="id" title="binder">res</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:341"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:341"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lfrom:342"><span class="id" title="variable">lfrom</span></a>)) <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:341"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:341"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lfrom:342"><span class="id" title="variable">lfrom</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="f:346" class="idref" href="#f:346"><span class="id" title="binder">f</span></a> <a id="i:347" class="idref" href="#i:347"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:346"><span class="id" title="variable">f</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#lfrom:342"><span class="id" title="variable">lfrom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:347"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:346"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:347"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:341"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:345"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:347"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:346"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:341"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:347"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:346"><span class="id" title="variable">f</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#f:346"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">lfrom</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_empty"><span class="id" title="lemma">finite_protocol_plan_empty</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_rev"><span class="id" title="lemma">NoDup_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">rev_unit</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_cons_iff"><span class="id" title="lemma">NoDup_cons_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">notX</span> <span class="id" title="var">Hnodup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#NoDup_rev"><span class="id" title="lemma">NoDup_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHlfrom</span> <span class="id" title="var">Hnodup</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHlfrom</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHlfrom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHprotocol</span> <span class="id" title="var">IHproject</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat_app"><span class="id" title="lemma">concat_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_app"><span class="id" title="lemma">apply_plan_app</span></a>; <span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span>[<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> ?<span class="id" title="var">a</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">tr_long</span> <span class="id" title="var">res_long</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_long</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> ?<span class="id" title="var">a</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">tr_short</span> <span class="id" title="var">res_short</span>] <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_short</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_short</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">x</span>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res_long</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="i:349" class="idref" href="#i:349"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:348"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:348"><span class="id" title="variable">i</span></a>) <span class="id" title="var">lfrom</span>)))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span>[<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> ?<span class="id" title="var">a</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tr_long</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">res_long</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrec_long'</span>:  <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a> <span class="id" title="var">s</span> <span class="id" title="var">lfrom</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_info"><span class="id" title="lemma">get_receives_all_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrec_short</span> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#is_receive_plan"><span class="id" title="definition">is_receive_plan</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">x</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_for_is_receive_plan"><span class="id" title="lemma">receive_for_is_receive_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hprs_long</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx_after_long</span> : <span class="id" title="keyword">forall</span> (<a id="i:351" class="idref" href="#i:351"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">res_long</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:350"><span class="id" title="variable">i</span></a>) <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:350"><span class="id" title="variable">i</span></a>) <span class="id" title="var">x</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">res_long</span> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="i:353" class="idref" href="#i:353"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:352"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:352"><span class="id" title="variable">i</span></a>) <span class="id" title="var">lfrom</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receives_neq"><span class="id" title="lemma">receives_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_concat"><span class="id" title="lemma">in_concat</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hinle</span> <span class="id" title="var">Hinai</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">Hgr</span> <span class="id" title="var">Hink</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hgr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for_info"><span class="id" title="lemma">get_receives_for_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinai</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hinai</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinai</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> [<span class="id" title="var">Hinso</span> <span class="id" title="var">Hinso'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">so</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>));[|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_rev"><span class="id" title="lemma">in_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hink</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsource</span>: <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">x</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for_correct"><span class="id" title="lemma">get_receives_for_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#NoDup_others"><span class="id" title="lemma">NoDup_others</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others_correct"><span class="id" title="lemma">others_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#relevant_components_lv"><span class="id" title="lemma">relevant_components_lv</span></a> <span class="id" title="var">s</span> <span class="id" title="var">res_long</span> <span class="id" title="var">Hprs</span> <span class="id" title="var">Hprs_long</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrel</span> <span class="id" title="var">Hrec_short</span> <span class="id" title="var">Hsource</span> <span class="id" title="var">x</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrel</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for_info"><span class="id" title="lemma">get_receives_for_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> [<span class="id" title="var">Heqso</span> <span class="id" title="var">Heqso'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">so</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrel</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_after_long</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrel</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfinite_short</span> : <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_long</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="var">x</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from_app_iff"><span class="id" title="lemma">finite_protocol_plan_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHprotocol</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">tr_long</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a> <span class="id" title="var">s</span> <span class="id" title="var">lfrom</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="i:355" class="idref" href="#i:355"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:354"><span class="id" title="variable">i</span></a> <span class="id" title="var">s</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:354"><span class="id" title="variable">i</span></a>) <span class="id" title="var">lfrom</span>))) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tr_long</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">res_long</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfinite_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfinite_short</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrel</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hrel</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrel</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for_correct"><span class="id" title="lemma">get_receives_for_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#NoDup_others"><span class="id" title="lemma">NoDup_others</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others_correct"><span class="id" title="lemma">others_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHproject</span> <span class="id" title="var">f</span> <span class="id" title="var">i</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHproject</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHproject</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHproject</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="i1:357" class="idref" href="#i1:357"><span class="id" title="binder">i1</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for"><span class="id" title="definition">get_receives_for</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#others"><span class="id" title="definition">others</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i1:356"><span class="id" title="variable">i1</span></a> <span class="id" title="var">s</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i1:356"><span class="id" title="variable">i1</span></a>) <span class="id" title="var">lfrom</span>)))) <span class="id" title="keyword">with</span> <span class="id" title="var">res_long</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receives_neq"><span class="id" title="lemma">receives_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_for_info"><span class="id" title="lemma">get_receives_for_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">H4</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> [<span class="id" title="var">Heqso</span> <span class="id" title="var">Heqso'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">so</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="receive_phase_plan" class="idref" href="#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> (<a id="s:358" class="idref" href="#s:358"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) := (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all"><span class="id" title="definition">get_receives_all</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:358"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="receive_phase" class="idref" href="#receive_phase"><span class="id" title="definition">receive_phase</span></a> (<a id="s:359" class="idref" href="#s:359"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) := <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan"><span class="id" title="definition">apply_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:359"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:359"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="receive_phase_result" class="idref" href="#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> (<a id="s:360" class="idref" href="#s:360"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase"><span class="id" title="definition">receive_phase</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:360"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="receive_phase_transitions" class="idref" href="#receive_phase_transitions"><span class="id" title="definition">receive_phase_transitions</span></a> (<a id="s:361" class="idref" href="#s:361"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase"><span class="id" title="definition">receive_phase</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:361"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="receive_phase_protocol" class="idref" href="#receive_phase_protocol"><span class="id" title="lemma">receive_phase_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:362" class="idref" href="#s:362"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:363" class="idref" href="#Hprs:363"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:362"><span class="id" title="variable">s</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Plans.html#finite_protocol_plan_from"><span class="id" title="definition">finite_protocol_plan_from</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:362"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:362"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_protocol"><span class="id" title="lemma">get_receives_all_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="receive_phase_result_protocol" class="idref" href="#receive_phase_result_protocol"><span class="id" title="lemma">receive_phase_result_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:364" class="idref" href="#s:364"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:365" class="idref" href="#Hprs:365"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:364"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_receive:366" class="idref" href="#res_receive:366"><span class="id" title="binder">res_receive</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:364"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res_receive:366"><span class="id" title="variable">res_receive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last_protocol"><span class="id" title="lemma">apply_plan_last_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_protocol"><span class="id" title="lemma">receive_phase_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="receive_phase_GE" class="idref" href="#receive_phase_GE"><span class="id" title="lemma">receive_phase_GE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:367" class="idref" href="#s:367"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hprs:368" class="idref" href="#Hprs:368"><span class="id" title="binder">Hprs</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:367"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_receive:369" class="idref" href="#res_receive:369"><span class="id" title="binder">res_receive</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:367"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res_receive:369"><span class="id" title="variable">res_receive</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:367"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#receive_plan_preserves_equivocation"><span class="id" title="lemma">receive_plan_preserves_equivocation</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hprs</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hep</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_protocol"><span class="id" title="lemma">receive_phase_protocol</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hep</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_info"><span class="id" title="lemma">get_receives_all_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">so</span> [<span class="id" title="var">from</span> <span class="id" title="var">H</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">so</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">from</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_comm"><span class="id" title="lemma">set_eq_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="receive_phase_future" class="idref" href="#receive_phase_future"><span class="id" title="lemma">receive_phase_future</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:370" class="idref" href="#s:370"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hspr:371" class="idref" href="#Hspr:371"><span class="id" title="binder">Hspr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:370"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:370"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:370"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_transitions"><span class="id" title="definition">receive_phase_transitions</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_protocol"><span class="id" title="lemma">receive_phase_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_transitions"><span class="id" title="definition">receive_phase_transitions</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.Plans.html#apply_plan_last"><span class="id" title="lemma">apply_plan_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="self_projections_same_after_receive_phase" class="idref" href="#self_projections_same_after_receive_phase"><span class="id" title="lemma">self_projections_same_after_receive_phase</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:372" class="idref" href="#s:372"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:373" class="idref" href="#Hpr:373"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:372"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_receive:374" class="idref" href="#res_receive:374"><span class="id" title="binder">res_receive</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:372"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:375" class="idref" href="#i:375"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res_receive:374"><span class="id" title="variable">res_receive</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:375"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:375"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:372"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:375"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:375"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#self_projections_same_after_receives"><span class="id" title="lemma">self_projections_same_after_receives</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsame</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsame</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_protocol"><span class="id" title="lemma">receive_phase_protocol</span></a>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsame</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_info"><span class="id" title="lemma">get_receives_all_info</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsame</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="common_future" class="idref" href="#common_future"><span class="id" title="definition">common_future</span></a> (<a id="s:376" class="idref" href="#s:376"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>) := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:376"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="common_future_in_futures" class="idref" href="#common_future_in_futures"><span class="id" title="lemma">common_future_in_futures</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:377" class="idref" href="#s:377"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:378" class="idref" href="#Hpr:378"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:377"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:379" class="idref" href="#Hnf:379"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:377"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:377"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:377"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:377"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (@<a class="idref" href="CasperCBC.VLSM.Common.html#in_futures_trans"><span class="id" title="lemma">in_futures_trans</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#message"><span class="id" title="definition">message</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">s</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Htrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_future"><span class="id" title="lemma">send_phase_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_future"><span class="id" title="lemma">receive_phase_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="common_future_no_extra_equivocation" class="idref" href="#common_future_no_extra_equivocation"><span class="id" title="lemma">common_future_no_extra_equivocation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:380" class="idref" href="#s:380"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:381" class="idref" href="#Hpr:381"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:380"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:382" class="idref" href="#Hnf:382"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:380"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:380"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:380"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:380"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_tran"><span class="id" title="lemma">set_eq_tran</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s2</span> := <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_GE"><span class="id" title="lemma">receive_phase_GE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_GE"><span class="id" title="lemma">send_phase_GE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="common_future_result_protocol" class="idref" href="#common_future_result_protocol"><span class="id" title="lemma">common_future_result_protocol</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:383" class="idref" href="#s:383"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:384" class="idref" href="#Hpr:384"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:383"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:385" class="idref" href="#Hnf:385"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:383"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:383"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:386" class="idref" href="#res:386"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:383"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:386"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result_protocol"><span class="id" title="lemma">receive_phase_result_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="GH_eq1" class="idref" href="#GH_eq1"><span class="id" title="lemma">GH_eq1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:387" class="idref" href="#s:387"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:388" class="idref" href="#Hpr:388"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:387"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:389" class="idref" href="#Hnf:389"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:387"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:387"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:390" class="idref" href="#res_send:390"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:387"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:391" class="idref" href="#res:391"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:387"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:387"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res_send:390"><span class="id" title="variable">res_send</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE_eq_equiv"><span class="id" title="lemma">HE_eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_GE"><span class="id" title="lemma">send_phase_GE</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE_eq_equality"><span class="id" title="lemma">wE_eq_equality</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="GH_eq2" class="idref" href="#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:392" class="idref" href="#s:392"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:393" class="idref" href="#Hpr:393"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:392"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:394" class="idref" href="#Hnf:394"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:392"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:392"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:395" class="idref" href="#res_send:395"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:392"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:396" class="idref" href="#res:396"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:392"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:392"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:396"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE_eq_equiv"><span class="id" title="lemma">HE_eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future_no_extra_equivocation"><span class="id" title="lemma">common_future_no_extra_equivocation</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE_eq_equality"><span class="id" title="lemma">wE_eq_equality</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="GH_eq3" class="idref" href="#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:397" class="idref" href="#s:397"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:398" class="idref" href="#Hpr:398"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:397"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:399" class="idref" href="#Hnf:399"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:397"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:397"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:400" class="idref" href="#res_send:400"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:397"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:401" class="idref" href="#res:401"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:397"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res_send:400"><span class="id" title="variable">res_send</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:401"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE_eq_equiv"><span class="id" title="lemma">HE_eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_GE"><span class="id" title="lemma">receive_phase_GE</span></a> <span class="id" title="var">res_send</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">He</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE_eq_equality"><span class="id" title="lemma">wE_eq_equality</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="hh_something" class="idref" href="#hh_something"><span class="id" title="lemma">hh_something</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:402" class="idref" href="#s:402"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:403" class="idref" href="#Hpr:403"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:402"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:404" class="idref" href="#res:404"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:402"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:404"><span class="id" title="variable">res</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:402"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HsameGH</span> : <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_GE"><span class="id" title="lemma">receive_phase_GE</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hseteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hseteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#filter_set_eq"><span class="id" title="lemma">filter_set_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hseteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE_eq_equiv"><span class="id" title="lemma">HE_eq_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">a</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="var">s</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">contra'</span> := <span class="id" title="var">contra</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">He1</span> [<span class="id" title="var">He1'</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">He2</span> [<span class="id" title="var">He2'</span> <span class="id" title="var">Hcomp</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_future_message_obs"><span class="id" title="lemma">in_future_message_obs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>) <span class="id" title="var">s</span> <span class="id" title="var">res</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hfuture</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hfuture</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_future"><span class="id" title="lemma">receive_phase_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">a</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="var">res</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span>|<span class="id" title="var">He1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">Hk</span> <span class="id" title="var">Hk'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_False"><span class="id" title="lemma">decide_False</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws_incl_wE"><span class="id" title="lemma">ws_incl_wE</span></a> <span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfuture</span> <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfuture</span> <span class="id" title="var">He1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HsameGH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He2</span>|<span class="id" title="var">He2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_s"><span class="id" title="lemma">cobs_single_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">Hk</span> <span class="id" title="var">Hk'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_False"><span class="id" title="lemma">decide_False</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws_incl_wE"><span class="id" title="lemma">ws_incl_wE</span></a> <span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfuture</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfuture</span> <span class="id" title="var">He2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_messages"><span class="id" title="definition">wcobs_messages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HsameGH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject_some"><span class="id" title="definition">get_simp_event_subject_some</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>, <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="honest_receive_honest" class="idref" href="#honest_receive_honest"><span class="id" title="lemma">honest_receive_honest</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:405" class="idref" href="#s:405"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:406" class="idref" href="#Hpr:406"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:405"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:407" class="idref" href="#Hnf:407"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:405"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:405"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:408" class="idref" href="#res_send:408"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:405"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:409" class="idref" href="#res:409"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:405"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:410" class="idref" href="#i:410"><span class="id" title="binder">i</span></a> <a id="j:411" class="idref" href="#j:411"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:410"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:409"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:411"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:409"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:409"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:410"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:411"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:409"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:411"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:411"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>));[<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>;<span class="id" title="tactic">intuition</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsend_pr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_send</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">j</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">s</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a>;<span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HiGH</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <span class="id" title="var">s</span>))) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq1"><span class="id" title="lemma">GH_eq1</span></a>;<span class="id" title="tactic">intuition</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_protocol"><span class="id" title="lemma">get_receives_all_protocol</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <span class="id" title="var">s</span>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="var">Hsend_pr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrec</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hrec_pr</span> <span class="id" title="var">Hrec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">HiGH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase"><span class="id" title="definition">receive_phase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_for_honest"><span class="id" title="lemma">get_matching_state_for_honest</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#self_projections_same_after_receive_phase"><span class="id" title="lemma">self_projections_same_after_receive_phase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1, 2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq1"><span class="id" title="lemma">GH_eq1</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="all_projections_old1" class="idref" href="#all_projections_old1"><span class="id" title="lemma">all_projections_old1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:412" class="idref" href="#s:412"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:413" class="idref" href="#Hpr:413"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:412"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:414" class="idref" href="#Hnf:414"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:412"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:412"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:415" class="idref" href="#res_send:415"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:412"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:416" class="idref" href="#res:416"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:412"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:417" class="idref" href="#i:417"><span class="id" title="binder">i</span></a> <a id="j:418" class="idref" href="#j:418"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdif:419" class="idref" href="#Hdif:419"><span class="id" title="binder">Hdif</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:417"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:418"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:420" class="idref" href="#Hi:420"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:417"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:416"><span class="id" title="variable">res</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:416"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:417"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:418"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:412"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:418"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:418"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:416"><span class="id" title="variable">res</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="inter:421" class="idref" href="#inter:421"><span class="id" title="binder">inter</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:421"><span class="id" title="variable">inter</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:416"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:412"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:421"><span class="id" title="variable">inter</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:418"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:416"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:417"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:418"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hspr</span>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_send</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>;<span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res_send</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">res</span> <span class="id" title="var">i</span>) <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> (<span class="id" title="var">res_send</span>) <span class="id" title="var">i</span> <span class="id" title="var">j</span>) <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_protocol"><span class="id" title="lemma">get_receives_all_protocol</span></a> <span class="id" title="var">res_send</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="var">Hspr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrec</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hrec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct2"><span class="id" title="lemma">get_matching_state_correct2</span></a> <span class="id" title="var">res_send</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinter</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter</span> [<span class="id" title="var">HinterGH</span> <span class="id" title="var">Hmatch</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">inter</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_projections"><span class="id" title="lemma">send_phase_result_projections</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 , 3 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq1"><span class="id" title="lemma">GH_eq1</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">inter</span>) <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">res_send</span> <span class="id" title="var">inter</span>) <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#non_self_projections_same_after_send_phase"><span class="id" title="lemma">non_self_projections_same_after_send_phase</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">inter</span> <span class="id" title="var">j</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="all_projections_old2" class="idref" href="#all_projections_old2"><span class="id" title="lemma">all_projections_old2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:422" class="idref" href="#s:422"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:423" class="idref" href="#Hpr:423"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:422"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:424" class="idref" href="#Hnf:424"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:422"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:422"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:425" class="idref" href="#res_send:425"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:422"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:426" class="idref" href="#res:426"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:422"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:427" class="idref" href="#i:427"><span class="id" title="binder">i</span></a> <a id="j:428" class="idref" href="#j:428"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:429" class="idref" href="#Hi:429"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:427"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:426"><span class="id" title="variable">res</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hk:430" class="idref" href="#Hk:430"><span class="id" title="binder">Hk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:428"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:426"><span class="id" title="variable">res</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="inter:431" class="idref" href="#inter:431"><span class="id" title="binder">inter</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:431"><span class="id" title="variable">inter</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:426"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:422"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#inter:431"><span class="id" title="variable">inter</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:428"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:426"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:427"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:428"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hdif</span> : <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>));[<span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>;<span class="id" title="tactic">intuition</span>|<span class="id" title="tactic">intuition</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hspr</span>: <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_send</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>;<span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res_send</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">res</span> <span class="id" title="var">i</span>) <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> (<span class="id" title="var">res_send</span>) <span class="id" title="var">i</span> <span class="id" title="var">j</span>) <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_protocol"><span class="id" title="lemma">get_receives_all_protocol</span></a> <span class="id" title="var">res_send</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="var">Hspr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrec</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hrec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hrec</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrec</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hrec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct2"><span class="id" title="lemma">get_matching_state_correct2</span></a> <span class="id" title="var">res_send</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinter</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter</span> [<span class="id" title="var">HinterGH</span> <span class="id" title="var">Hmatch</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">inter</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">inter</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HinterGH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinterGH</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">inter</span>) <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">res_send</span> <span class="id" title="var">inter</span>) <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#non_self_projections_same_after_send_phase"><span class="id" title="lemma">non_self_projections_same_after_send_phase</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">inter</span> <span class="id" title="var">j</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="all_message_observations_old" class="idref" href="#all_message_observations_old"><span class="id" title="lemma">all_message_observations_old</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:432" class="idref" href="#s:432"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:433" class="idref" href="#Hpr:433"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:432"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:434" class="idref" href="#Hnf:434"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:432"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:432"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:435" class="idref" href="#res_send:435"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:432"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:436" class="idref" href="#res:436"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:432"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="target:437" class="idref" href="#target:437"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htarget:438" class="idref" href="#Htarget:438"><span class="id" title="binder">Htarget</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:437"><span class="id" title="variable">target</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:436"><span class="id" title="variable">res</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:439" class="idref" href="#e:439"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#e:439"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hcobs_messages"><span class="id" title="definition">hcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:436"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:437"><span class="id" title="variable">target</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#e:439"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hcobs_messages"><span class="id" title="definition">hcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:432"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:437"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">Hink</span> <span class="id" title="var">Hine</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hspr</span> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">res_send</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res_send</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hdif</span> : <span class="id" title="var">target</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">k</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">target</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#unfold_simp_lv_observations"><span class="id" title="lemma">unfold_simp_lv_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future_result_protocol"><span class="id" title="lemma">common_future_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hine</span>|<span class="id" title="var">Hine</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#all_projections_old2"><span class="id" title="lemma">all_projections_old2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">k</span> <span class="id" title="var">target</span> <span class="id" title="var">Hink</span> <span class="id" title="var">Htarget</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinter</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter</span> [<span class="id" title="var">HinterGH</span> <span class="id" title="var">Hproject</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hproject</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#refold_simp_lv_observations1"><span class="id" title="lemma">refold_simp_lv_observations1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter2</span> <span class="id" title="var">Hrest</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrest</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hrest</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_message_observations_nb"><span class="id" title="lemma">in_message_observations_nb</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hine</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrest</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hine</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">Hinel</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#self_projections_same_after_receive_phase"><span class="id" title="lemma">self_projections_same_after_receive_phase</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_projections"><span class="id" title="lemma">send_phase_result_projections</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2, 3 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : (<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a>; <span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq1"><span class="id" title="lemma">GH_eq1</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#all_projections_old1"><span class="id" title="lemma">all_projections_old1</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span> <span class="id" title="var">Hink</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> <span class="id" title="var">HlGH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">inter2</span> [<span class="id" title="var">Hinter2GH</span> <span class="id" title="var">Hproj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hproj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">inter2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#refold_simp_lv_observations2"><span class="id" title="lemma">refold_simp_lv_observations2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="all_message_observations_in_new_projections" class="idref" href="#all_message_observations_in_new_projections"><span class="id" title="lemma">all_message_observations_in_new_projections</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:440" class="idref" href="#s:440"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:441" class="idref" href="#Hpr:441"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:440"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:442" class="idref" href="#Hnf:442"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:440"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:440"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:443" class="idref" href="#res_send:443"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:440"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:444" class="idref" href="#res:444"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:440"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:445" class="idref" href="#i:445"><span class="id" title="binder">i</span></a> <a id="target:446" class="idref" href="#target:446"><span class="id" title="binder">target</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:447" class="idref" href="#Hi:447"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:445"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:444"><span class="id" title="variable">res</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htarget:448" class="idref" href="#Htarget:448"><span class="id" title="binder">Htarget</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:446"><span class="id" title="variable">target</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:444"><span class="id" title="variable">res</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:449" class="idref" href="#e:449"><span class="id" title="binder">e</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event"><span class="id" title="record">simp_lv_event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#e:449"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#hcobs_messages"><span class="id" title="definition">hcobs_messages</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:440"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:446"><span class="id" title="variable">target</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#e:449"><span class="id" title="variable">e</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_message_observations"><span class="id" title="definition">simp_lv_message_observations</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:444"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:445"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#target:446"><span class="id" title="variable">target</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">HjGH</span> <span class="id" title="var">Hine</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#refold_simp_lv_observations2"><span class="id" title="lemma">refold_simp_lv_observations2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future_result_protocol"><span class="id" title="lemma">common_future_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_receive_honest"><span class="id" title="lemma">honest_receive_honest</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hhonest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hhonest</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hhonest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#self_projections_same_after_receive_phase"><span class="id" title="lemma">self_projections_same_after_receive_phase</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>;<span class="id" title="tactic">intuition</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_projections"><span class="id" title="lemma">send_phase_result_projections</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="local_and_honest" class="idref" href="#local_and_honest"><span class="id" title="lemma">local_and_honest</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:450" class="idref" href="#s:450"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:451" class="idref" href="#Hpr:451"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:450"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:452" class="idref" href="#Hnf:452"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:450"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:450"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:453" class="idref" href="#res_send:453"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:450"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:454" class="idref" href="#res:454"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:450"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:455" class="idref" href="#i:455"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:456" class="idref" href="#Hi:456"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:455"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:454"><span class="id" title="variable">res</span></a>)) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq"><span class="id" title="definition">set_eq</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:454"><span class="id" title="variable">res</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:455"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:454"><span class="id" title="variable">res</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_eq_extract_forall"><span class="id" title="lemma">set_eq_extract_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hdif</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">v</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws_incl_wE"><span class="id" title="lemma">ws_incl_wE</span></a> <span class="id" title="var">res</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hincl</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hincl</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">He1</span> [<span class="id" title="var">He1'</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">He2</span> [<span class="id" title="var">He2'</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_messages_states"><span class="id" title="lemma">cobs_messages_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.ListSet.html#set_union_iff"><span class="id" title="lemma">set_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span>|<span class="id" title="var">He1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Heq_le</span> <span class="id" title="var">Hin_e1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq_le</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Heqj</span> <span class="id" title="var">Hinj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>));[<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">le</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">He2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He2</span>|<span class="id" title="var">He2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs_states"><span class="id" title="definition">wcobs_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Heq_le</span> <span class="id" title="var">Hin_e2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq_le</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Heqj</span> <span class="id" title="var">Hinj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_state_observations"><span class="id" title="definition">simp_lv_state_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>));[<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">le</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#all_message_observations_old"><span class="id" title="lemma">all_message_observations_old</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#all_message_observations_in_new_projections"><span class="id" title="lemma">all_message_observations_in_new_projections</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_events_fn"><span class="id" title="definition">composite_state_events_fn</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Hstate_events_fn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_message_observations'"><span class="id" title="lemma">in_simp_lv_message_observations'</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#all_message_observations_old"><span class="id" title="lemma">all_message_observations_old</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#all_message_observations_in_new_projections"><span class="id" title="lemma">all_message_observations_in_new_projections</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wcobs"><span class="id" title="definition">wcobs</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#composite_state_events_fn"><span class="id" title="definition">composite_state_events_fn</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Hstate_events_fn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_message_observations'"><span class="id" title="lemma">in_simp_lv_message_observations'</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">He2'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws_incl_wE"><span class="id" title="lemma">ws_incl_wE</span></a> <span class="id" title="var">res</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>;[|<span class="id" title="tactic">intuition</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hincl</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hincl</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="local_and_honest_equal" class="idref" href="#local_and_honest_equal"><span class="id" title="lemma">local_and_honest_equal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:457" class="idref" href="#s:457"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:458" class="idref" href="#Hpr:458"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:457"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:459" class="idref" href="#Hnf:459"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:457"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:457"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:460" class="idref" href="#res_send:460"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:457"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:461" class="idref" href="#res:461"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:457"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:462" class="idref" href="#i:462"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hi:463" class="idref" href="#Hi:463"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:462"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:461"><span class="id" title="variable">res</span></a>)) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:461"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:462"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:461"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#filter_set_eq"><span class="id" title="lemma">filter_set_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#local_and_honest"><span class="id" title="lemma">local_and_honest</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="honest_hh_projections_comparable" class="idref" href="#honest_hh_projections_comparable"><span class="id" title="lemma">honest_hh_projections_comparable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:464" class="idref" href="#s:464"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:465" class="idref" href="#Hpr:465"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:464"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h1:466" class="idref" href="#h1:466"><span class="id" title="binder">h1</span></a> <a id="h2:467" class="idref" href="#h2:467"><span class="id" title="binder">h2</span></a> <a id="hh:468" class="idref" href="#hh:468"><span class="id" title="binder">hh</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hgh:469" class="idref" href="#Hgh:469"><span class="id" title="binder">Hgh</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h1:466"><span class="id" title="variable">h1</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:464"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h2:467"><span class="id" title="variable">h2</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:464"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhh:470" class="idref" href="#Hhh:470"><span class="id" title="binder">Hhh</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:468"><span class="id" title="variable">hh</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:464"><span class="id" title="variable">s</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:468"><span class="id" title="variable">hh</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:464"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h1:466"><span class="id" title="variable">h1</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:468"><span class="id" title="variable">hh</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:464"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h2:467"><span class="id" title="variable">h2</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:468"><span class="id" title="variable">hh</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h1</span>) <span class="id" title="var">hh</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h2</span>) <span class="id" title="var">hh</span>));[<span class="id" title="tactic">left</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h1</span>) <span class="id" title="var">hh</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h2</span>) <span class="id" title="var">hh</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcomp</span> : <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="var">hh</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h1</span>) <span class="id" title="var">hh</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h2</span>) <span class="id" title="var">hh</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt'"><span class="id" title="definition">state_lt'</span></a> <span class="id" title="var">hh</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h1</span>) <span class="id" title="var">hh</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h2</span>) <span class="id" title="var">hh</span>)));[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">hh</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="var">s</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE_direct"><span class="id" title="lemma">GE_direct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cequiv_evidence"><span class="id" title="definition">cequiv_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">hh</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h1</span>) <span class="id" title="var">hh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">h1</span>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#refold_simp_lv_observations1"><span class="id" title="lemma">refold_simp_lv_observations1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#SimpObs"><span class="id" title="constructor">SimpObs</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#Message'"><span class="id" title="constructor">Message'</span></a> <span class="id" title="var">hh</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">h2</span>) <span class="id" title="var">hh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#in_cobs_messages'"><span class="id" title="lemma">in_cobs_messages'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single_m"><span class="id" title="lemma">cobs_single_m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">h2</span>. <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#refold_simp_lv_observations1"><span class="id" title="lemma">refold_simp_lv_observations1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_event_lt"><span class="id" title="definition">simp_lv_event_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_True"><span class="id" title="lemma">decide_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomp</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="comparable_projections_match" class="idref" href="#comparable_projections_match"><span class="id" title="lemma">comparable_projections_match</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:471" class="idref" href="#s:471"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:472" class="idref" href="#Hpr:472"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:471"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h1:473" class="idref" href="#h1:473"><span class="id" title="binder">h1</span></a> <a id="h2:474" class="idref" href="#h2:474"><span class="id" title="binder">h2</span></a> <a id="hh:475" class="idref" href="#hh:475"><span class="id" title="binder">hh</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hgh:476" class="idref" href="#Hgh:476"><span class="id" title="binder">Hgh</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h1:473"><span class="id" title="variable">h1</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:471"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h2:474"><span class="id" title="variable">h2</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:471"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hhh:477" class="idref" href="#Hhh:477"><span class="id" title="binder">Hhh</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:475"><span class="id" title="variable">hh</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:471"><span class="id" title="variable">s</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="projh1:478" class="idref" href="#projh1:478"><span class="id" title="binder">projh1</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:471"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h1:473"><span class="id" title="variable">h1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:475"><span class="id" title="variable">hh</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:475"><span class="id" title="variable">hh</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="projh2:479" class="idref" href="#projh2:479"><span class="id" title="binder">projh2</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state"><span class="id" title="definition">get_matching_state</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:471"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h2:474"><span class="id" title="variable">h2</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:475"><span class="id" title="variable">hh</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:475"><span class="id" title="variable">hh</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#projh1:478"><span class="id" title="variable">projh1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#projh2:479"><span class="id" title="variable">projh2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct2"><span class="id" title="lemma">get_matching_state_correct2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">h1</span> <span class="id" title="var">hh</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmatch1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct2"><span class="id" title="lemma">get_matching_state_correct2</span></a> <span class="id" title="var">s</span> <span class="id" title="var">h2</span> <span class="id" title="var">hh</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmatch2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmatch1</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="var">spec</span> <span class="id" title="var">Hmatch2</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmatch1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">GHi</span> <span class="id" title="var">Hmatch1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmatch2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">GHj</span> <span class="id" title="var">Hmatch2</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcomp'</span>: <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Equivocation.html#state_lt_ext"><span class="id" title="definition">state_lt_ext</span></a> <span class="id" title="var">hh</span>) <span class="id" title="var">projh1</span> <span class="id" title="var">projh2</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">projh1</span>, <span class="id" title="var">projh2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_hh_projections_comparable"><span class="id" title="lemma">honest_hh_projections_comparable</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">projh1</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">projh2</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct3"><span class="id" title="lemma">get_matching_state_correct3</span></a> <span class="id" title="var">s</span> <span class="id" title="var">h1</span> <span class="id" title="var">hh</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_matching_state_correct3"><span class="id" title="lemma">get_matching_state_correct3</span></a> <span class="id" title="var">s</span> <span class="id" title="var">h2</span> <span class="id" title="var">hh</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Htop1</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="var">spec</span> <span class="id" title="var">Htop2</span>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcomp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomp'</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hcomp'</span>];[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcomp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htop1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htop1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Htop1</span> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_hh_projections_comparable"><span class="id" title="lemma">honest_hh_projections_comparable</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_topmost_candidates"><span class="id" title="definition">get_topmost_candidates</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#get_maximal_elements"><span class="id" title="definition">get_maximal_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htop2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htop2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Htop2</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_eq_false"><span class="id" title="lemma">bool_decide_eq_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_hh_projections_comparable"><span class="id" title="lemma">honest_hh_projections_comparable</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="honest_equiv_proj_same" class="idref" href="#honest_equiv_proj_same"><span class="id" title="lemma">honest_equiv_proj_same</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:480" class="idref" href="#s:480"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:481" class="idref" href="#Hpr:481"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:480"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:482" class="idref" href="#Hnf:482"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:480"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:480"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:483" class="idref" href="#res_send:483"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:480"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:484" class="idref" href="#res:484"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:480"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="h1:485" class="idref" href="#h1:485"><span class="id" title="binder">h1</span></a> <a id="h2:486" class="idref" href="#h2:486"><span class="id" title="binder">h2</span></a> <a id="hh:487" class="idref" href="#hh:487"><span class="id" title="binder">hh</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h1:485"><span class="id" title="variable">h1</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:484"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h2:486"><span class="id" title="variable">h2</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:484"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:487"><span class="id" title="variable">hh</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HH"><span class="id" title="definition">HH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:484"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:484"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h1:485"><span class="id" title="variable">h1</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:487"><span class="id" title="variable">hh</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:484"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#h2:486"><span class="id" title="variable">h2</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh:487"><span class="id" title="variable">hh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">h1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">hh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_receive_honest"><span class="id" title="lemma">honest_receive_honest</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">h2</span> <span class="id" title="var">h1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">h2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">hh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_receive_honest"><span class="id" title="lemma">honest_receive_honest</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CasperCBC.Lib.Classes.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">res</span> <span class="id" title="var">h1</span>) <span class="id" title="var">hh</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#project"><span class="id" title="definition">project</span></a> (<span class="id" title="var">res</span> <span class="id" title="var">h2</span>) <span class="id" title="var">hh</span>));[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#get_receives_all_protocol"><span class="id" title="lemma">get_receives_all_protocol</span></a> <span class="id" title="var">res_send</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hfinite"><span class="id" title="variable">Hfinite</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmatch</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmatch</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hmatch</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmatch</span> <span class="id" title="var">hh</span> <span class="id" title="var">h1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmatch1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmatch1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>. <span class="id" title="var">spec</span> <span class="id" title="var">Hmatch1</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmatch1</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmatch</span> <span class="id" title="var">hh</span> <span class="id" title="var">h2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmatch2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmatch2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>. <span class="id" title="var">spec</span> <span class="id" title="var">Hmatch2</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmatch2</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_result"><span class="id" title="definition">receive_phase_result</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmatch1</span>, <span class="id" title="var">Hmatch2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase"><span class="id" title="definition">receive_phase</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#receive_phase_plan"><span class="id" title="definition">receive_phase_plan</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmatch2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#comparable_projections_match"><span class="id" title="lemma">comparable_projections_match</span></a> <span class="id" title="var">res_send</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hcomp</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcomp</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span> <span class="id" title="var">hh</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hcomp</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res_send</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq3"><span class="id" title="lemma">GH_eq3</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hcomp</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hh_something"><span class="id" title="lemma">hh_something</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result_protocol"><span class="id" title="lemma">send_phase_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqv_aware_something" class="idref" href="#eqv_aware_something"><span class="id" title="lemma">eqv_aware_something</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:488" class="idref" href="#s:488"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:489" class="idref" href="#Hpr:489"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:488"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:490" class="idref" href="#i:490"><span class="id" title="binder">i</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:490"><span class="id" title="variable">i</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:488"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>@<a class="idref" href="CasperCBC.CBC.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.Hbasic"><span class="id" title="variable">Hbasic</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:490"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:488"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:490"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE"><span class="id" title="definition">wE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.CBC.Equivocation.html#state_validators"><span class="id" title="method">state_validators</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_validators"><span class="id" title="definition">get_validators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#filter_ext_in"><span class="id" title="lemma">filter_ext_in</span></a>. <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#equivocation_evidence"><span class="id" title="method">equivocation_evidence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_decide"><span class="id" title="lemma">bool_decide_decide</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.Lib.Classes.html#bool_decide_decide"><span class="id" title="lemma">bool_decide_decide</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.Classes.html#decide_iff"><span class="id" title="lemma">decide_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">He1</span> [<span class="id" title="var">He1'</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">He2</span> [<span class="id" title="var">He2'</span> <span class="id" title="var">Hcomp</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#observable_events_has_been_observed"><span class="id" title="definition">observable_events_has_been_observed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#state_observable_events_fn"><span class="id" title="definition">state_observable_events_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single"><span class="id" title="lemma">cobs_single</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Heqj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqj</span>;[|<span class="id" title="tactic">intuition</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observations"><span class="id" title="definition">simp_lv_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e1</span>). <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#observable_events_has_been_observed"><span class="id" title="definition">observable_events_has_been_observed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#state_observable_events_fn"><span class="id" title="definition">state_observable_events_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single"><span class="id" title="lemma">cobs_single</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Heqj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqj</span>;[|<span class="id" title="tactic">intuition</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((@<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#simp_lv_observations"><span class="id" title="definition">simp_lv_observations</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a> <span class="id" title="var">i</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#get_simp_event_subject"><span class="id" title="projection">get_simp_event_subject</span></a> <span class="id" title="var">e2</span>). <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> [<span class="id" title="var">He1</span> [<span class="id" title="var">He1'</span> [<span class="id" title="var">e2</span> [<span class="id" title="var">He2</span> [<span class="id" title="var">He2'</span> <span class="id" title="var">Hcomp</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#hbo_cobs'"><span class="id" title="abbreviation">hbo_cobs'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#observable_events_has_been_observed"><span class="id" title="definition">observable_events_has_been_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#state_observable_events_fn"><span class="id" title="definition">state_observable_events_fn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hle</span> <span class="id" title="var">Hine1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Hsimp</span> <span class="id" title="var">Hinj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hsimp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_observations"><span class="id" title="lemma">in_simp_lv_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hine1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single"><span class="id" title="lemma">cobs_single</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#has_been_observed"><span class="id" title="method">has_been_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#observable_events_has_been_observed"><span class="id" title="definition">observable_events_has_been_observed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ObservableEquivocation.html#state_observable_events_fn"><span class="id" title="definition">state_observable_events_fn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.Lib.ListSetExtras.html#set_union_in_iterated"><span class="id" title="lemma">set_union_in_iterated</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">He2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hle</span> <span class="id" title="var">Hine2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hle</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> [<span class="id" title="var">Hsimp</span> <span class="id" title="var">Hinj</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hsimp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.Observations.html#in_simp_lv_observations"><span class="id" title="lemma">in_simp_lv_observations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hine2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hine2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#cobs_single"><span class="id" title="lemma">cobs_single</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqv_aware_something2" class="idref" href="#eqv_aware_something2"><span class="id" title="lemma">eqv_aware_something2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:491" class="idref" href="#s:491"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:492" class="idref" href="#Hpr:492"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:491"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:493" class="idref" href="#Hnf:493"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:491"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:491"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:494" class="idref" href="#res_send:494"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:491"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:495" class="idref" href="#res:495"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:491"><span class="id" title="variable">s</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="i:496" class="idref" href="#i:496"><span class="id" title="binder">i</span></a> <a id="j:497" class="idref" href="#j:497"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hin:498" class="idref" href="#Hin:498"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:496"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:495"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:497"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:495"><span class="id" title="variable">res</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#no_equivocating_decisions"><span class="id" title="definition">no_equivocating_decisions</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:495"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:496"><span class="id" title="variable">i</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:495"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#no_equivocating_decisions"><span class="id" title="definition">no_equivocating_decisions</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:495"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:497"><span class="id" title="variable">j</span></a>) (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:495"><span class="id" title="variable">res</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#no_equivocating_decisions"><span class="id" title="definition">no_equivocating_decisions</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">res</span> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future_result_protocol"><span class="id" title="lemma">common_future_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">res</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_resi</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">res</span> <span class="id" title="var">j</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_resj</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_resi</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_resj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#get_no_equivocating_states"><span class="id" title="definition">get_no_equivocating_states</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (@<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE"><span class="id" title="lemma">wH_wE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="var">res</span>) <span class="id" title="var">res</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdiff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#HE"><span class="id" title="definition">HE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdiff</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hdiff</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdiff</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_equiv_proj_same"><span class="id" title="lemma">honest_equiv_proj_same</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="honest_nodes_same_estimators" class="idref" href="#honest_nodes_same_estimators"><span class="id" title="lemma">honest_nodes_same_estimators</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:499" class="idref" href="#s:499"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:500" class="idref" href="#Hpr:500"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:499"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnf:501" class="idref" href="#Hnf:501"><span class="id" title="binder">Hnf</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:499"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:499"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res_send:502" class="idref" href="#res_send:502"><span class="id" title="binder">res_send</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#send_phase_result"><span class="id" title="definition">send_phase_result</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:499"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="res:503" class="idref" href="#res:503"><span class="id" title="binder">res</span></a> := <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:499"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="i:504" class="idref" href="#i:504"><span class="id" title="binder">i</span></a> <a id="j:505" class="idref" href="#j:505"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) (<a id="b:506" class="idref" href="#b:506"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:504"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:503"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:505"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:503"><span class="id" title="variable">res</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.est'"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:504"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:503"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:504"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#b:506"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.est'"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:505"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#res:503"><span class="id" title="variable">res</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:505"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#b:506"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">est'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#equivocation_aware_estimator"><span class="id" title="definition">equivocation_aware_estimator</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">res</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">res</span> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Bottom"><span class="id" title="constructor">Bottom</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future_result_protocol"><span class="id" title="lemma">common_future_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">res</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">resi</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">res</span> <span class="id" title="var">j</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">resj</span>;[<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>|].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">resi</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">resj</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#local_and_honest"><span class="id" title="lemma">local_and_honest</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hnf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlocal</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlocal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hlocal</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlocali</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hlocal</span> <span class="id" title="var">j</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlocalj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.CBC.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <span class="id" title="var">i</span> <span class="id" title="var">res</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CasperCBC.CBC.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <span class="id" title="var">j</span> <span class="id" title="var">res</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2, 3 : (<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#eqv_aware_something"><span class="id" title="lemma">eqv_aware_something</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future_result_protocol"><span class="id" title="lemma">common_future_result_protocol</span></a>; <span class="id" title="tactic">intuition</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#local_and_honest_equal"><span class="id" title="lemma">local_and_honest_equal</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#local_and_honest_equal"><span class="id" title="lemma">local_and_honest_equal</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">resi</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">res</span> <span class="id" title="tactic">in</span> <span class="id" title="var">resj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">resi</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">resj</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">resi</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">resj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#eqv_aware_something2"><span class="id" title="lemma">eqv_aware_something2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <span class="id" title="var">j</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ncfe" class="idref" href="#ncfe"><span class="id" title="lemma">ncfe</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:507" class="idref" href="#s:507"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:508" class="idref" href="#Hpr:508"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:507"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:507"><span class="id" title="variable">s</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:507"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#no_component_fully_equivocating"><span class="id" title="definition">no_component_fully_equivocating</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#not_all_equivocating"><span class="id" title="definition">not_all_equivocating</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#no_equivocating_decisions"><span class="id" title="definition">no_equivocating_decisions</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#protocol_state_component_no_bottom"><span class="id" title="lemma">protocol_state_component_no_bottom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_si</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#decision"><span class="id" title="definition">decision</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#get_no_equivocating_states"><span class="id" title="definition">get_no_equivocating_states</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Something"><span class="id" title="constructor">Something</span></a> <span class="id" title="var">b</span> <span class="id" title="keyword">is</span>) (<a class="idref" href="CasperCBC.CBC.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.ListValidator.html#Something"><span class="id" title="constructor">Something</span></a> <span class="id" title="var">b</span> <span class="id" title="keyword">is</span>)))) <span class="id" title="var">eqn</span> : <span class="id" title="var">eq_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_nil"><span class="id" title="lemma">map_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareListValidator.html#get_no_equivocating_states"><span class="id" title="definition">get_no_equivocating_states</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#map_eq_nil"><span class="id" title="lemma">map_eq_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">eq_si</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#eqv_aware_something"><span class="id" title="lemma">eqv_aware_something</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> (<a id="j:510" class="idref" href="#j:510"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:509"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <span class="id" title="var">i</span> <span class="id" title="var">s</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wE_wH'"><span class="id" title="lemma">wE_wH'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE"><span class="id" title="lemma">wH_wE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq_m</span> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#ws_incl_wE"><span class="id" title="lemma">ws_incl_wE</span></a> <span class="id" title="var">s</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index_listing"><span class="id" title="variable">index_listing</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#in_listing"><span class="id" title="abbreviation">in_listing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#LE"><span class="id" title="definition">LE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> (<a id="j:512" class="idref" href="#j:512"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:511"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a> <span class="id" title="var">s</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GE"><span class="id" title="definition">GE</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hincl</span> <span class="id" title="var">j</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#wH_wE'"><span class="id" title="lemma">wH_wE'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="common_futures" class="idref" href="#common_futures"><span class="id" title="lemma">common_futures</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:513" class="idref" href="#s:513"><span class="id" title="binder">s</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hpr:514" class="idref" href="#Hpr:514"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#protocol_state_prop"><span class="id" title="definition">protocol_state_prop</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:513"><span class="id" title="variable">s</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s':515" class="idref" href="#s':515"><span class="id" title="binder">s'</span></a> : <a class="idref" href="CasperCBC.VLSM.Common.html#vstate"><span class="id" title="definition">vstate</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.Common.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.X"><span class="id" title="variable">X</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:513"><span class="id" title="variable">s</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':515"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s:513"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':515"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="i:516" class="idref" href="#i:516"><span class="id" title="binder">i</span></a> <a id="j:517" class="idref" href="#j:517"><span class="id" title="binder">j</span></a> : <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.index"><span class="id" title="variable">index</span></a>) (<a id="b:518" class="idref" href="#b:518"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:516"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':515"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:517"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.EquivocationAwareComposition.html#GH"><span class="id" title="definition">GH</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':515"><span class="id" title="variable">s'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.est'"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:516"><span class="id" title="variable">i</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':515"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#i:516"><span class="id" title="variable">i</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#b:518"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures.est'"><span class="id" title="variable">est'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:517"><span class="id" title="variable">j</span></a> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#s':515"><span class="id" title="variable">s'</span></a> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#j:517"><span class="id" title="variable">j</span></a>) <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#b:518"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#ncfe"><span class="id" title="lemma">ncfe</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Hpr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hncfe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future"><span class="id" title="definition">common_future</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#common_future_in_futures"><span class="id" title="lemma">common_future_in_futures</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#GH_eq2"><span class="id" title="lemma">GH_eq2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#honest_nodes_same_estimators"><span class="id" title="lemma">honest_nodes_same_estimators</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CasperCBC.VLSM.ListValidator.CommonFutures.html#CommonFutures"><span class="id" title="section">CommonFutures</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
